import{r as s,j as r}from"./mainweb-CLpnzlPK.js";import{u as L}from"./XMarkIcon-BtYdnG_t.js";import{R as q}from"./renderComponents-leoA6rqw.js";function z({title:l,titleId:o,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":o},t),l?s.createElement("title",{id:o},l):null,s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const v=s.forwardRef(z),U=({isSubmitted:l,drop:o,data:t,isOver:a,selectedComponent:w,setSelectedComponent:j,components:n,setComponents:A,handlePropertiesPanelChange:C,removeComponent:y,isPlayGround:u,eventDetails:E,handleNext:N,isLastStep:R})=>{const{handleSubmit:S,register:F,unregister:V,control:M,clearErrors:D,reset:d,watch:H,getValues:b,setValue:f,trigger:I,formState:{errors:O}}=L({defaultValues:{...t}});b();let[m,h]=s.useState({...t});s.useEffect(()=>{t&&(Object.keys(t).forEach(e=>{V(e),f(e,t[e])}),h({...t}))},[t]);const Z=e=>{j(e)},B=async e=>{await N(e,d)},x=(e,i)=>{if(e==="participantsList")debugger;f(e,i),t&&(t[e]=i),h({...t})};let c=[...n];return m&&(n==null?void 0:n.length)>0&&(c=c.filter(e=>{let i=e.conditions;return(i==null?void 0:i.length)>0?!!i.find(p=>{let g=m[p.key];if(g&&g==p.value)return!0}):!0})),r.jsx("div",{className:("flex-auto p-2 "+u,""),children:r.jsxs("form",{onSubmit:S(B),children:[r.jsx(q,{handlePropertiesChange:x,handlePropertiesPanelChange:C,formData:m,isPlayGround:u,onChangeValue:x,drop:o,isSubmitted:l,isOver:a,eventDetails:E,components:c,selectedComponent:w,handleSelect:Z,register:F,getValues:b,errors:O,control:M,setValue:f,clearErrors:D,reset:d,watch:H,removeComponent:y}),!u&&!l&&r.jsx("div",{className:"mb-2 w-full flex justify-end px-8",children:R?r.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[r.jsx(v,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Submit"]}):r.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[r.jsx(v,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Next"]})})]})})};export{U as F,v as a};
