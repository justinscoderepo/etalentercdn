import{r as u,j as e,a as O}from"./mainweb-DgMkWCPV.js";import{u as g}from"./useBackend-CErq4CBk.js";function J({title:t,titleId:a,...r},s){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),t?u.createElement("title",{id:a},t):null,u.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const D=u.forwardRef(J);function G({hideTitle:t,hideGoBack:a,setOpen:r,title:s,description:n,children:l}){return e.jsx("div",{className:"bg-gray-100",children:e.jsx("div",{className:t?"p-0":"p-5 py-8",children:e.jsxs("div",{className:t?"":"w-full overflow-hidden rounded-md ring-1 ring-slate-900/10",children:[!t&&e.jsx("div",{className:"bg-[#193e65] px-4 py-4 sm:px-8 relative",children:e.jsxs("div",{className:"flex items-start justify-between space-x-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-base font-bold leading-6 text-white",children:s}),n&&e.jsx("p",{className:"text-sm text-white",children:n||"Continue the process"})]}),!a&&e.jsxs("button",{type:"button",onClick:()=>r(!1),className:"absolute rounded-full top-2 p-2 right-4 bg-[#193e65] text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(D,{"aria-hidden":"true",className:"h-6 w-6"})]})]})}),e.jsx("div",{className:t?"flex h-full w-[100%] py-3 flex-col overflow-y-scroll bg-white":"flex h-full w-[100%] flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:e.jsx("div",{className:t?"relative flex-1 px-0":"relative flex-1 px-2",children:l})})]})})})}const F=u.lazy(()=>O(()=>import("./teamMembers-j67jiddp.js"),[]));function R({groupId:t,disabled:a,hideGoBack:r,teamId:s,levels:n,onClose:l,onUpdate:m,renderAsComponenet:p}){var v;console.log({groupId:t,disabled:a,hideGoBack:r,teamId:s,levels:n,onClose:l,onUpdate:m});let[A,j]=u.useState(!1);const{row:y}=g("/EventJson/Get",{select:"EVId,EventName,Description,JsonSettings"}),{rows:w,setFilter:C}=g("/AgewiseGroupsJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status"}),{row:i,setFilter:N,update:T,status:x}=g("/CoordinatorJson/GetParticipants?ParticipantType=2&TeamId="+s,{updateUrl:"/CoordinatorJson/SaveParticipantsDirect",deleteUrl:"/CoordinatorJson/RemoveUserBody",sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:2,TeamId:s,disableGetCompetitions:!1,group:t},select:"participantList,userList,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,MaximumCandidates"});console.log({participants:i}),console.log({participantStatus:x});let f=(i==null?void 0:i.ParticipantsList)??[],S=(i==null?void 0:i.Competitions)??[],h=(i==null?void 0:i.UsersList)??[];h.forEach(o=>{let L=f.filter(d=>d.Candidate==o.Candidate||d.Candidate==o.Team),b=[];L.forEach(d=>{let M=S.find(_=>_.CompetitionStructureId==d.Competition);b.push(M)}),o.participatingCompetitions=b;let P=o.JsonSettings;try{let d=JSON.parse(P);d&&(o.ApplicationStatus=d.finalSubmitted)}catch{}});let c={};c.user={},c.user=h.find(o=>o.Team==s),c.participants=f.filter(o=>o.Candidate==s);const E=((v=c==null?void 0:c.user)==null?void 0:v.TeamMembers)??[];return u.useEffect(()=>{m&&m(E)},[c.participants]),e.jsx("div",{children:e.jsx(G,{hideGoBack:r,setOpen:()=>{l()},noClose:!1,hideTitle:p===!0,open:!0,title:"Manage Team Participants",children:e.jsx(F,{reducePadding:p===!0,groupId:t,hideGoBack:r,disabled:a,levels:n,isLoading2:x!=="finished",ageWiseGroup:w,setAgeFilter:C,setFilter:N,onClose:l,setIsLoading:j,saveParticipantDetails:T,eventDetails:y,participantList:f,teamId:s,selectedParticipantDetails:c,onChange:m})})})}const U=({renderAsComponenet:t,groupId:a,disabled:r,hideGoBack:s,teamId:n,levels:l,onClose:m,onUpdate:p})=>(console.log({renderAsComponenet:t,groupId:a,disabled:r,hideGoBack:s,teamId:n,levels:l,onClose:m,onUpdate:p}),n?e.jsx(R,{renderAsComponenet:t,groupId:a,disabled:r,hideGoBack:s,teamId:n,levels:l,onClose:m,onUpdate:p}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a team to proceed"})),B=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));export{D as F,U as R,B as m};
