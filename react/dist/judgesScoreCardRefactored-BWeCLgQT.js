import{r as d,j as e,_ as z,u as be}from"./mainweb-BW4Oeajf.js";import{u as Y}from"./useBackend-DjRcwMe1.js";import{c as X}from"./utilities-CN4lTu6a.js";import{F as Se}from"./CheckCircleIcon-C98160jQ.js";import{F as xe}from"./CheckCircleIcon-CG9WnSF6.js";import{F as ye}from"./TrashIcon-Oxi2yEpi.js";import{F as ce}from"./TrophyIcon-Cwvl3t5n.js";import"./httpService-ChBK4-vh.js";import"./index-t--hEgTQ.js";function je({title:l,titleId:c,...s},h){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":c},s),l?d.createElement("title",{id:c},l):null,d.createElement("path",{fillRule:"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z",clipRule:"evenodd"}))}const Ne=d.forwardRef(je);function ve({title:l,titleId:c,...s},h){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":c},s),l?d.createElement("title",{id:c},l):null,d.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),d.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const oe=d.forwardRef(ve);function we({title:l,titleId:c,...s},h){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":c},s),l?d.createElement("title",{id:c},l):null,d.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Ce=d.forwardRef(we);function Ie({title:l,titleId:c,...s},h){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":c},s),l?d.createElement("title",{id:c},l):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Je=d.forwardRef(Ie);function $e({title:l,titleId:c,...s},h){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":c},s),l?d.createElement("title",{id:c},l):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const le=d.forwardRef($e),Te=({competitions:l,processedCompetitions:c,competitionsStatus:s,selectedCompetition:h,onCompetitionSelect:o,getCompetitionStatusPriority:I,selectedGroupFilter:j,setSelectedGroupFilter:T})=>{const[E,k]=d.useState([]);d.useEffect(()=>{let t=c;j!=="all"&&(t=t.filter(u=>u.competitionGroupName===j)),k(t)},[c,j]);const f=t=>{const u=t.competitionOrder+" -"||"",g=t.competitionGroupName||"",a=t.competitionItemTitle||"",P=t.competitionGenderTitle||"",R=t.competitionLanguageName||"",F=t.statusTitle||"",v=t.competitionGender===3,A=t.competitionLanguage===4;let M=[];return u&&M.push(u),g&&M.push(g),a&&M.push(a),!v&&!A?(P&&M.push(P),R&&M.push(R)):v&&!A?R&&M.push(R):!v&&A&&P&&M.push(P),F&&M.push(`- ${F}`),M.join(" ").trim()||`Competition ${t.competitionId}`},N=t=>{switch(t){case"Filling in Progress":return 1;case"Allowed to Fill":return 2;case"Filled":return 3;case"Published":return 4;case"No Judges Assigned":return 5;default:return 6}},y=t=>{const u=t.competitionGroupName||"";let g="";if(t.judges&&t.judges.length>0){const a=t.judges.filter(v=>v.scoreStatus===1||v.scoreStatus==="1").length,P=t.judges.filter(v=>v.scoreStatus===2||v.scoreStatus==="2").length,R=t.judges.filter(v=>!v.scoreStatus||v.scoreStatus===0||v.scoreStatus==="0"||v.scoreStatus===3||v.scoreStatus==="3").length,F=t.judges.length;console.log(a,P,R,F),R>0&&R!==F?g="Filling in Progress":R===F?g="Allowed to Fill":a+P===F?g="Filled":P===F&&(g="Published")}return t._groupPriority=N(g),u&&g?`${u} - ${g}`:u||g||"General"},J=t=>t.inProgressJudges>0?"bg-blue-50 border-blue-200 text-blue-700":t.finishedJudges===t.totalJudges&&t.competitionStatus!==4?"bg-green-50 border-green-200 text-green-700":t.competitionStatus===4?"bg-purple-50 border-purple-200 text-purple-700":"bg-gray-50 border-gray-200 text-gray-700";return s==="loading"?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading competitions..."})]})}):c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No Competitions Available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No competitions have been assigned yet."})]}):E.length===0?e.jsxs("div",{children:[e.jsx("h2",{className:"border-b-2 border-b-[#485257] text-[#206689] items-center mb-4 font-medium pb-1 px-1 w-full uppercase text-lg",children:"Competition & Judge Selection"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No Competitions Found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No competitions match the selected group filter. Try adjusting your filter settings."})]})]}):e.jsxs("div",{className:"",children:[e.jsx("div",{className:"block lg:hidden ",children:e.jsx("div",{className:"mb-2",children:e.jsxs("select",{value:h,onChange:t=>o(t.target.value),className:"block w-full rounded-md border-0 py-2 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary focus:border-primary sm:text-sm sm:leading-6",children:[e.jsx("option",{value:"",children:j==="all"?"Choose Competition...":`Choose Competition from ${j}...`}),(()=>{const t=E.reduce((u,g)=>{const a=y(g);return u[a]||(u[a]=[]),u[a].push(g),u},{});return console.log(t),Object.entries(t).sort(([,u],[,g])=>{const a=u[0]?._groupPriority||999,P=g[0]?._groupPriority||999;return a-P}).map(([u,g])=>e.jsx("optgroup",{label:u,children:g.map(a=>e.jsxs("option",{value:a.competitionId,"data-competition-status":a.competitionStatus,"data-allotment-id":a.allotementId,children:[f(a)," (",a.totalJudges," judges)"]},a.competitionId))},u))})()]})})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"max-h-[calc(100vh-120px)] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400",children:e.jsx("div",{className:"w-full pr-2",children:(()=>{const t=E.reduce((u,g)=>{const a=y(g);return u[a]||(u[a]=[]),u[a].push(g),u},{});return Object.entries(t).sort(([,u],[,g])=>{const a=u[0]?._groupPriority||999,P=g[0]?._groupPriority||999;return a-P}).map(([u,g])=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-xs font-bold bg-white text-gray-600 uppercase tracking-wide mb-2 px-2 sticky top-0  py-1 z-10",children:u}),e.jsx("div",{className:"space-y-2",children:g.map(a=>e.jsx("button",{onClick:()=>o(a.competitionId),className:`w-full text-left py-3 px-3 rounded-lg border transition-colors ${h===a.competitionId?"bg-gray-200 text-primary border-primary":J(a)}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h3",{className:`font-medium mr-1 text-xs break-words ${h===a.competitionId?"text-primary":"text-gray-900"}`,title:f(a),children:f(a)})}),a.competitionCode&&e.jsx("div",{className:`mb-3 ${h===a.competitionId,"text-gray-800"}`,children:e.jsxs("p",{className:"text-xs break-words",title:`Code: ${a.competitionCode}`,children:[e.jsx("span",{className:"font-medium",children:"Code:"})," ",a.competitionCode]})})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-xs space-y-1",children:[a.finishedJudges>0&&e.jsxs("div",{className:`flex items-center space-x-1 ${h===a.competitionId,"text-green-800"}`,children:[e.jsx(Se,{className:"h-5 w-5"}),e.jsx("span",{children:a.finishedJudges})]}),a.inProgressJudges>0&&e.jsxs("div",{className:`flex items-center space-x-1 ${h===a.competitionId,"text-blue-800"}`,children:[e.jsx(Ne,{className:"h-5 w-5"}),e.jsx("span",{children:a.inProgressJudges})]}),a.notStartedJudges>0&&e.jsxs("div",{className:`flex items-center space-x-1 ${h===a.competitionId,"text-gray-500"}`,children:[e.jsx(oe,{className:"h-5 w-5"}),e.jsx("span",{children:a.notStartedJudges})]})]})})]})},a.competitionId))})]},u))})()})})})]})},Pe=({processedCompetitions:l,selectedCompetition:c,selectedJudges:s,onJudgeSelect:h})=>{const[o,I]=d.useState(!1),[j,T]=d.useState([]);d.useEffect(()=>{const t=()=>{I(window.innerWidth>1200)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),d.useEffect(()=>{s&&s.length>0&&T(s)},[s]),console.log({selectedCompetition:c,processedCompetitions:l,isWideScreen:o,localSelectedJudges:j,selectedJudges:s});const E=t=>t.scoreStatus===1||t.scoreStatus==="1"?"bg-green-50 border-green-200 text-green-700":t.scoreStatus===2||t.scoreStatus==="2"?"bg-blue-50 border-blue-200 text-blue-700":"bg-gray-50 border-gray-200 text-gray-700",k=t=>t.scoreStatus===1||t.scoreStatus==="1"?"Filled":t.scoreStatus===2||t.scoreStatus==="2"?"Published":"Allowed To Fill",f=t=>{if(o){const u=j.includes(t)?j.filter(g=>g!==t):[...j,t];T(u),h(u)}else{const u=[t];T(u),h(u)}},N=t=>j.includes(t.toString());if(!c)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Select a Competition"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Choose a competition to see available judges."})]});const J=l.find(t=>t.competitionId==c)?.judges||[];return J.length===0&&c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No Judges Available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No judges found for this competition."})]}):e.jsx("div",{children:c&&e.jsx("div",{children:e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"flex flex-row gap-2 flex-wrap",children:J.map(t=>e.jsxs("label",{className:`group relative flex rounded-lg border p-2 sm:p-3 min-w-24 sm:min-w-28 flex-1 sm:flex-none cursor-pointer transition-colors ${N(t.judgeId)?"border-primary bg-primary text-white shadow-sm":`${E(t)} hover:border-primary hover:shadow-sm bg-white`}`,children:[e.jsx("input",{type:o?"checkbox":"radio",name:o?`judge-${t.judgeId}`:"judge",value:t.judgeId,checked:N(t.judgeId),onChange:()=>f(t.judgeId.toString()),className:"absolute inset-0 appearance-none focus:outline-none focus:ring-0 border-transparent outline-0 invisible"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:`block text-xs sm:text-sm font-semibold ${N(t.judgeId)?"text-white":"text-gray-900"}`,children:t.judgeName}),e.jsx("span",{className:`block text-[10px] mt-0.5 sm:mt-1 ${N(t.judgeId)?"text-blue-100":"text-gray-500"}`,children:k(t)})]})}),e.jsx("div",{className:"absolute bottom-1 right-1 sm:bottom-2 sm:right-2",children:(t.scoreStatus===1||t.scoreStatus==="1"||t.scoreStatus===2||t.scoreStatus==="2")&&e.jsx(xe,{className:`h-3 w-3 sm:h-4 sm:w-4 ${N(t.judgeId)?"text-green-200":"text-green-500"}`})})]},t.judgeId))})})})})},Ee=({participants:l,participantsStatus:c,activeParticipantId:s,currentParticipantIndex:h,participantScores:o,onParticipantSelect:I,onNavigateParticipant:j,judgeId:T,showJudgeSpecificScores:E=!1})=>{const k=f=>{if(E&&T){const N=`judge_${T}_${f}`;return o[N]||o[f]||"-"}return o[f]||"-"};return c==="loading"?e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx("div",{className:"text-center text-gray-500 py-4",children:"Loading participants..."})}):!l||l.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{children:"No participants found"})]})}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:e.jsx("div",{className:"p-2",children:e.jsx("div",{className:"space-y-1",children:l.map((f,N)=>e.jsx("button",{onClick:()=>I(f.ParticipantId,N),className:X("w-full text-left p-3 rounded-md transition-colors",f.ParticipantId===s?"bg-primary text-white":"hover:bg-gray-50 bg-white border border-gray-200"),children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:X("text-sm font-medium",f.ParticipantId===s?"text-white":"text-gray-900"),children:f.IdentityNumber?f.IdentityNumber:f.CandidateIdentityNumber||f.ParticipantNumber}),e.jsx("div",{className:X("text-sm font-medium",f.ParticipantId===s?"text-green-200":"text-primary"),children:k(f.ParticipantId)})]})},f.ParticipantId))})})})})},ue=({value:l,onChange:c,maxStars:s=10,criteriaId:h,participantId:o,disabled:I=!1})=>{const[j,T]=d.useState(0),E=f=>{I||c(f,h,o)},k=f=>{I||T(f)};return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex items-center justify-center gap-1 mb-2 w-full",children:[...Array(s)].map((f,N)=>{const y=N+1,J=y<=(j||l||0);return e.jsx("button",{type:"button",disabled:I,className:X("flex-1 flex items-center justify-center p-1 transition-colors duration-150 max-w-8 max-h-8 aspect-square",I?"cursor-not-allowed opacity-50":"cursor-pointer",J?"text-yellow-400":"text-gray-300 hover:text-yellow-200"),onMouseEnter:()=>k(y),onMouseLeave:()=>T(0),onClick:()=>E(y),children:J?e.jsx(Ce,{className:"w-full h-full min-w-4 min-h-4"}):e.jsx(Je,{className:"w-full h-full min-w-4 min-h-4"})},N)})})})},me=({value:l,onChange:c,maxMarks:s=100,minMarks:h=0,criteriaId:o,participantId:I,disabled:j=!1,placeholder:T="Enter marks"})=>{const E=f=>{const N=f.target.value,y=parseFloat(N);!isNaN(y)&&y>=h&&y<=s?c(y,o,I):N===""&&c(0,o,I)},k=()=>{const f=parseFloat(l);isNaN(f)||f<h?c(h,o,I):f>s&&c(s,o,I)};return e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"number",min:h,max:s,step:"0.1",value:l||"",onChange:E,onBlur:k,disabled:j,placeholder:T,className:"pl-3 block w-full rounded-md border-0 py-1.5 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 text-gray-900 focus:border-darkprimary placeholder:text-gray-400 ring-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed"})})})},ge=({value:l,onChange:c,maxCount:s=10,minCount:h=0,criteriaId:o,participantId:I,disabled:j=!1,label:T="Count"})=>{const E=()=>{if(j||(l||0)>=s)return;const N=(l||0)+1;c(N,o,I)},k=()=>{if(j||(l||0)<=h)return;const N=Math.max(h,(l||0)-1);c(N,o,I)},f=N=>{const y=parseInt(N.target.value);!isNaN(y)&&y>=h&&y<=s&&c(y,o,I)};return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"button",onClick:k,disabled:j||(l||0)<=h,className:"inline-flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed text-gray-600",children:e.jsx("span",{className:"text-lg font-medium",children:"−"})}),e.jsx("div",{className:"flex-1 max-w-20",children:e.jsx("input",{type:"number",step:"0.1",min:h,max:s,value:l||0,onChange:f,disabled:j,className:"text-center pl-3 block w-full rounded-md border-0 py-1.5 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 text-gray-900 focus:border-darkprimary placeholder:text-gray-400 ring-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed"})}),e.jsx("button",{type:"button",onClick:E,disabled:j||(l||0)>=s,className:"inline-flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed text-gray-600",children:e.jsx("span",{className:"text-lg font-medium",children:"+"})})]})},ke=({activeParticipantId:l,participants:c,competitionDetails:s,criteriaScores:h,participantScores:o,participantNotes:I,onScoreChange:j,onNotesChange:T,onSaveScore:E,onDeleteScore:k,selectedCompetition:f,processedCompetitions:N,selectedJudges:y,currentJudgeId:J})=>{const[t,u]=d.useState(!1),[g,a]=d.useState({}),[P,R]=d.useState(""),[F,v]=d.useState(0),A=c?.find(i=>i.ParticipantId===l),M=N?.find(i=>i.competitionId==f),Q=()=>{if(!J||!M||!M.judges)return"";const i=M.judges.find(S=>S.judgeId.toString()===J.toString());return i?i.judgeName:`Judge ${J}`},B=(i,S=J)=>y.length>1?`${i}_judge_${S}`:i,D=()=>!s||s.length===0||s.every(S=>S.Value&&S.Value!=0&&S.Value==M.competitionMaximumScore)?!1:s.every(S=>S.Value&&S.Value!=0),ee=(i=g)=>{if(!s||s.length===0)return F;let S=0;const w=D();return s.forEach(C=>{const V=C.DetailId||C.CompetitionDetailsId,L=i[V]||0;S+=L}),w?S:S/s.length},te=i=>{if(v(i),!s||s.length===0)return;const S={...g};if(D()){const C=s.reduce((V,L)=>V+(L.Value||0),0);s.forEach(V=>{const L=V.DetailId||V.CompetitionDetailsId,U=V.Value||0,K=C>0?i*U/C:0,r=V.Value||10;S[L]=Math.min(K,r)})}else s.forEach(C=>{const V=C.DetailId||C.CompetitionDetailsId,L=C.Value||10;S[V]=Math.min(i,L)});a(S)};if(d.useEffect(()=>{if(l&&J){const i={},S=B(l),w=o[S]||0;if(v(w),s&&s.length>0&&(s.forEach(L=>{const U=L.DetailId||L.CompetitionDetailsId,K=B(`${U}_${l}`);i[U]=h[K]||0}),!Object.values(i).some(L=>L>0)&&w>0&&ee(i)!==w)){te(w);return}a(i);const C=B(l);R(I[C]||"")}},[l,o,h,I,s,J]),!A)return e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Select a participant to begin scoring"})});const q=async()=>{u(!0);try{const i={...A,judgeId:J,totalScore:F,criteriaScores:g,notes:P};if(await E(l,null,F,J),s&&s.length>0)for(const S of s){const w=S.DetailId||S.CompetitionDetailsId,C=g[w]||0;j(C,w,l,J),await E(l,w,C,J)}T(l,P,J),z.success(`Score saved successfully for ${Q()}!`)}catch(i){console.error("Error saving scores:",i),z.error("Failed to save score. Please try again.")}finally{u(!1)}},ne=async()=>{if(window.confirm(`Are you sure you want to delete the score for this participant from ${Q()}?`)){u(!0);try{if(await k(l,null,J),s&&s.length>0)for(const i of s){const S=i.DetailId||i.CompetitionDetailsId;await k(l,S,J)}v(0),a({}),R(""),z.success(`Score deleted successfully for ${Q()}!`)}catch(i){console.error("Error deleting scores:",i),z.error("Failed to delete score. Please try again.")}finally{u(!1)}}},Z=()=>M?.competitionMaximumScore||10,ae=()=>{switch(M?.scoreLabel){case 1:return"marks";case 2:return"count";case 3:case 4:return"star";default:return"marks"}},H=()=>ae(),se=()=>{const i=Z(),S=H(),w={value:F,onChange:C=>te(C),disabled:t,criteriaId:"total",participantId:l};return S==="count"?e.jsx(ge,{...w,maxCount:i,label:"Total Count"}):S==="marks"?e.jsx(me,{...w,maxMarks:i,placeholder:"Enter total score"}):e.jsx(ue,{...w,maxStars:Math.min(i,10),maxScore:i})},ie=(i,S)=>{const w=i.DetailId||i.CompetitionDetailsId,C=g[w]||0,V=i.Value||10,L=H(),U=(K,r,m)=>{const x={...g,[r]:K};a(x);const n=ee(x);v(n)};return L==="count"?e.jsx(ge,{value:C,onChange:U,maxCount:V,criteriaId:w,participantId:l,disabled:t}):L==="star"?e.jsx(ue,{value:C,onChange:U,maxStars:10,maxScore:V,criteriaId:w,participantId:l,disabled:t}):e.jsx(me,{value:C,onChange:U,maxMarks:V,criteriaId:w,participantId:l,disabled:t})},re=s&&s.length>0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:A.CandidateName}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: #",A.CandidateIdentityNumber||A.TeamIdentityNumber]})]})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Enter Score"}),e.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:"Total Score"}),e.jsx("p",{className:"text-xs text-gray-500",children:re?"Enter total score (will auto-distribute to criteria below)":"Enter the participant's total score"})]})}),e.jsx("div",{className:"mt-3",children:se()}),e.jsx("div",{className:"mt-2 text-right",children:e.jsxs("span",{className:"text-sm font-semibold text-primary",children:[F.toFixed(1)," / ",Z()]})})]})]}),re&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Detailed Criteria Scoring (Optional)"}),e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("div",{className:"space-y-4",children:s.map((i,S)=>{`${i.DetailId||i.CompetitionDetailsId}${l}`;const w=i.DetailId||i.CompetitionDetailsId,C=g[w]||0,L=H()==="star";return e.jsx("div",{className:S>0?"border-t border-gray-200 pt-4":"",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:i.CriteriaName||i.CompetitionDetailsTitle}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max: ",i.Value||10," points"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:ie(i)}),L&&e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsxs("div",{className:"text-sm font-semibold text-primary",children:[C.toFixed(1)," / ",i.Value||10]})})]})]})},i.DetailId||i.CompetitionDetailsId)})})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold leading-6 text-gray-900 mb-2",children:"Additional Notes (Optional)"}),e.jsx("textarea",{value:P,onChange:i=>R(i.target.value),disabled:t,placeholder:"Add any additional comments or notes about this participant's performance...",rows:3,className:"pl-3 block w-full rounded-md border-0 py-1.5 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 text-gray-900 focus:border-darkprimary placeholder:text-gray-400 ring-gray-300 disabled:bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:ne,disabled:t,className:"inline-flex items-center gap-x-2 rounded-md bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:opacity-50",children:[e.jsx(ye,{className:"-mr-0.5 h-5 w-5"}),"Delete Score"]}),e.jsx("button",{onClick:q,disabled:t||F===0,className:X("inline-flex items-center gap-x-2 rounded-md px-6 py-2.5 text-sm font-semibold shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",t||F===0?"bg-gray-200 text-gray-700 cursor-not-allowed":"bg-primary text-white hover:bg-primaryHover"),children:t?"Saving...":"Save Score"})]})]})]})},Oe=({user:c})=>{var{user:c}=be();const[s,h]=d.useState([]),[o,I]=d.useState(""),[j,T]=d.useState(null),[E,k]=d.useState(0),[f,N]=d.useState(!1),[y,J]=d.useState([]),[t,u]=d.useState("all"),[g,a]=d.useState({}),[P,R]=d.useState({}),[F,v]=d.useState({}),{rows:A,status:M,update:Q}=Y("/JudgesAllotmentWithScoreLabelJson/Get",{select:"AllotementId,Competition,CompetitionParticipantType,CompetitionParticipantTypeTitle,CompetitionGroup,CompetitionGroupGroupName,CompetitionCompetitionItem,CompetitionItemTitle,CompetitionItemScoreLabel,ScoreLabelLabel,CompetitionLanguage,CompetitionLanguageLanguageName,CompetitionGender,CompetitionGenderGenderTitle,CompetitionCompetitionStatus,CompetitionCompetitionStatusCompetitionStatusTitle,CompetitionEventEventName,CompetitionOrder,CompetitionMaximumScore,CompetitionFees,CompetitionMaximumMinutes,CompetitionMaximumSeconds,CompetitionMinimumMinutes,CompetitionMinimumSeconds,CompetitionWarningMinute,CompetitionWarningSecond,ScoreStatus,ScoreStatusScoreResultStatus,Phase,PhaseTitle,Stage,StageTitle,Judge,Visibility,Status,EventEventName,Order,ModifiedDateString,CompetitionStatusTitle",filter:{NoGrouping:!0,CreatedBy:c?.UId,Status:"1",Event:c?.Event},sort:{sortColumn:"CompetitionOrder"},updateUrl:"/JudgesAllotmentJson/SaveJudgeStatus"}),{rows:B}=Y("/UsersRolesJson/Get",{select:"UId,UserRoleId,UserName,Name,Role,Status",filter:{Role:"6",Status:"1"}}),{rows:D,status:ee,setFilter:te}=Y("/CompetitionParticipantsScoreCardJson/Get",{select:"ParticipantId,CandidateIdentityNumber,CompetitionCompetitionItem,CompetitionGender,CompetitionGroup,CompetitionLanguage,CompetitionMaximumScore,CompetitionParticipantType,IdentityNumber,Notes,ParticipantIdScore,ParticipantIdScorecardId,ParticipantType,Status,TeamIdentityNumber,CandidateName,ParticipantNumber,ScorecardId",filter:{Status:"1"},noGet:!0,updateUrl:"/JudgeJson/SaveScore",deleteUrl:"/JudgeJson/DeleteScore"}),{rows:q,setFilter:ne}=Y("/JudgesDetailedScoreCardJson/Get",{select:"JudgesDetailedScoreCardId,ParticipantId,CompetitionDetailsId,Score,Judge,Competition,ScoreCard",filter:{},noGet:!0,updateUrl:"/JudgesDetailedScoreCardJson/Save",deleteUrl:"/JudgesDetailedScoreCardJson/Remove"}),{rows:Z,setFilter:ae}=Y("/CompetitionDetailsJson/Get",{select:"CriteriaName,DetailId,Order,SecondValue,Status,Value,Competition,CompetitionDetailsTitle,MaxScore,MinScore,CompetitionItem,ParticipantType,Gender,Group,Language,CompetitionDetailsId",filter:{},noGet:!0,updateUrl:"/CompetitionDetailsJson/Save"}),H=r=>r.inProgressJudges>0?1:r.finishedJudges===r.totalJudges&&r.competitionStatus!==4?2:r.notStartedJudges===r.totalJudges?4:r.competitionStatus===4?5:3;d.useEffect(()=>{if(c&&c.Role===6&&y.length>0){const m=y.flatMap(x=>x.judges).find(x=>x.judgeName===c.UserName||x.judgeUserName===c.UserName||x.judgeId===c.UId||x.judgeId===c.UserRoleId);m&&h([m.judgeId.toString()])}},[c,y]),d.useEffect(()=>{if(A&&A.length>0&&B&&B.length>0){const r=A.reduce((x,n)=>{const p=n.Competition;if(x[p]||(x[p]={competitionId:p,allotementId:n.AllotementId,competitionName:n.CompetitionEventEventName||`Competition ${p}`,competitionCode:n.CompetitionCode||"",statusTitle:n.CompetitionStatusTitle||n.CompetitionCompetitionStatusCompetitionStatusTitle||"Unknown Status",competitionStatus:n.CompetitionCompetitionStatus,competitionItemTitle:n.CompetitionItemTitle,competitionGender:n.CompetitionGender,competitionGenderTitle:n.CompetitionGenderGenderTitle,competitionGroupName:n.CompetitionGroupGroupName,competitionItemScoreLabel:n.CompetitionItemScoreLabel,competitionLanguage:n.CompetitionLanguage,competitionLanguageName:n.CompetitionLanguageLanguageName,competitionOrder:n.CompetitionOrder||n.Order,competitionParticipantTypeTitle:n.CompetitionParticipantTypeTitle,scoreLabel:n.CompetitionItemScoreLabel,scoreLabelLabel:n.ScoreLabelLabel,scoreStatus:n.ScoreStatus,scoreStatusTitle:n.ScoreStatusScoreResultStatus,competitionMaximumScore:n.CompetitionMaximumScore>0?n.CompetitionMaximumScore:10,competitionFees:n.CompetitionFees,phaseTitle:n.PhaseTitle,stageTitle:n.StageTitle,judges:[],totalJudges:0,finishedJudges:0,inProgressJudges:0,notStartedJudges:0}),!x[p].judges.find(b=>b.judgeId===n.Judge&&b.allotmentId===n.AllotementId)){const b=B.find(_=>_.UserRoleId===n.Judge),W=b?b.Name||b.UserName:`Judge ${n.Judge}`;x[p].judges.push({judgeId:n.Judge,judgeName:W,judgeUserName:b?.UserName||"",scoreStatus:n.ScoreStatus,allotmentId:n.AllotementId}),x[p].totalJudges++,n.ScoreStatus===1||n.ScoreStatus==="1"?x[p].finishedJudges++:n.ScoreStatus===2||n.ScoreStatus==="2"?x[p].inProgressJudges++:x[p].notStartedJudges++}return x},{}),m=Object.values(r).sort((x,n)=>{const p=H(x)-H(n);if(p!==0)return p;const $=x.competitionOrder||0,b=n.competitionOrder||0;return $-b});J(m)}},[A,B]);const se=d.useMemo(()=>{const r=[...new Set(y.map(m=>m.competitionGroupName).filter(Boolean))];return[{value:"all",label:"All Groups",count:y.length},...r.map(m=>({value:m,label:m,count:y.filter(x=>x.competitionGroupName===m).length}))]},[y]);d.useEffect(()=>{s.length>0&&o&&te({Judge:s[0],Competition:o,Status:"1"})},[s,o]),d.useEffect(()=>{s.length>0&&o&&ne({Judge:s[0],Competition:o})},[s,o]),d.useEffect(()=>{o&&ae({Competition:o})},[o]),d.useEffect(()=>{if(q&&q.length>0){const r={},m={},x={};q.forEach(n=>{n.CriteriaId&&(r[`${n.CriteriaId}_${n.ParticipantId}`]=n.Score),n.TotalScore&&(m[n.ParticipantId]=n.TotalScore),n.Notes&&(x[n.ParticipantId]=n.Notes)}),a(r),R(m),v(x)}},[q]),d.useEffect(()=>{D&&D.length>0&&!j&&(T(D[0].ParticipantId),k(0))},[D,j]);const ie=r=>{I(r),T(null),k(0)},re=r=>{h(r),T(null),k(0)},i=(r,m)=>{T(r),k(m)},S=r=>{if(!D||D.length===0)return;let m;r==="next"?(m=E+1,m>=D.length&&(m=0)):(m=E-1,m<0&&(m=D.length-1)),k(m),T(D[m]?.ParticipantId)},w=(r,m,x,n=null)=>{const p=n||s[0],$=s.length>1?`judge_${p}_`:"";if(m===null)R(b=>({...b,[`${$}${x}`]:r}));else{const b=`${$}${m}_${x}`;a(W=>({...W,[b]:r})),V(x,p)}},C=(r,m,x=null)=>{const n=x||s[0],p=s.length>1?`judge_${n}_`:"";v($=>({...$,[`${p}${r}`]:m}))},V=(r,m=null)=>{const x=m||s[0],n=s.length>1?`judge_${x}_`:"",$=Object.keys(g).filter(b=>b.endsWith(`_${r}`)&&(s.length===1||b.startsWith(`judge_${x}_`))).reduce((b,W)=>b+(g[W]||0),0);R(b=>({...b,[`${n}${r}`]:$}))},L=async(r,m=null,x=null,n=null)=>{const p=n||s[0],$=s.length>1?`judge_${p}_`:"";try{const b={};if(b.Scores=[],m){const G={Judge:p,Competition:o,ParticipantId:r,CriteriaId:m,Score:x||g[`${$}${m}_${r}`]||0,AllotementId:A?.find(O=>O.Competition===o)?.AllotementId};b.Scores.push(G)}else if(Z&&Z.length>0){Z.forEach(O=>{const he=`${$}${O.DetailId||O.CompetitionDetailsId}_${r}`,de=g[he]||0;if(de>0){const fe={Judge:p,Competition:o,ParticipantId:r,CriteriaId:O.DetailId||O.CompetitionDetailsId,Score:de,AllotementId:A?.find(pe=>pe.Competition===o)?.AllotementId};b.Scores.push(fe)}});const G={Judge:p,Competition:o,ParticipantId:r,ScoreCardScore:P[`${$}${r}`]||0,IsTotalScore:!0,AllotementId:A?.find(O=>O.Competition===o)?.AllotementId};b.Scores.push(G)}else{const G={Judge:p,Competition:o,ParticipantId:r,ScoreCardScore:P[`${$}${r}`]||0,AllotementId:A?.find(O=>O.Competition===o)?.AllotementId};b.Scores.push(G)}b.notes=F[`${$}${r}`]||"",b.JudgeId=p;const _=await(await fetch("/JudgeJson/SaveScore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json();if(_.Results>0&&_.Results!=="0")return _.Results;throw new Error(typeof _.Results=="string"?_.Results:"Failed to save score")}catch(b){throw console.error("Error saving score:",b),b}},U=async(r,m=null,x=null)=>{const n=x||s[0],p=s.length>1?`judge_${n}_`:"";try{const $={Judge:n,Competition:o,ParticipantId:r};return m?($.CriteriaId=m,(await(await fetch("/JudgesScoreCardJson/Remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json()).success!==!1&&a(_=>{const G={..._};return delete G[`${p}${m}_${r}`],G})):(await(await fetch("/JudgesScoreCardJson/Remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json()).success!==!1&&(R(_=>{const G={..._};return delete G[`${p}${r}`],G}),a(_=>{const G={..._};return Object.keys(G).forEach(O=>{O.endsWith(`_${r}`)&&(s.length===1||O.startsWith(`judge_${n}_`))&&delete G[O]}),G}),v(_=>{const G={..._};return delete G[`${p}${r}`],G})),!0}catch($){throw console.error("Error deleting score:",$),$}},K=async()=>{if(!(s.length===0||!o)){N(!0);try{const r={Competition:o,ScoreStatus:1,AllotementId:A?.find(m=>m.Competition===o)?.AllotementId};await Q(r),z.success("Competition marked as finished!")}catch(r){console.error("Error marking as finished:",r),z.error("Failed to mark competition as finished.")}finally{N(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ce,{className:"h-6 w-6 text-primary mr-3"}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Scoring Panel - Warning - Not finished"})})]}),s.length>0&&o&&e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:K,disabled:f,className:X("inline-flex items-center gap-x-2 rounded-md px-4 py-2 text-sm font-semibold shadow-sm",f?"bg-gray-200 text-gray-700 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"),children:[e.jsx(xe,{className:"h-4 w-4"}),f?"Finishing...":"Mark as Finished"]})})]})})}),e.jsxs("div",{className:"px-2 lg:px-6 py-2",children:[y.length>0&&e.jsx("div",{className:"lg:mb-6",children:e.jsxs("div",{className:"bg-white rounded-t-lg lg:rounded-lg py-2 px-2 lg:px-6 ",children:[e.jsx("div",{className:"lg:hidden lg:mb-4 mt-1",children:e.jsx("select",{value:t,onChange:r=>u(r.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-darkprimary focus:ring-primary text-sm",children:se.map(r=>e.jsxs("option",{value:r.value,children:[r.label," (",r.count,")"]},r.value))})}),e.jsx("nav",{className:"hidden lg:flex -mb-px space-x-4 overflow-x-auto",children:se.map(r=>e.jsxs("button",{onClick:()=>u(r.value),className:`whitespace-nowrap py-2 px-6 border-b-2 font-medium text-sm transition-all duration-200 ${t===r.value?"border-primary text-primary bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.label," (",r.count,")"]},r.value))})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-2",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsx("div",{className:"bg-white lg:border-t-2 lg:border-primary rounded-lg shadow-sm",children:e.jsx("div",{className:"p-2",children:e.jsx(Te,{competitions:A,processedCompetitions:y,competitionsStatus:M,selectedCompetition:o,onCompetitionSelect:ie,getCompetitionStatusPriority:H,selectedGroupFilter:t,setSelectedGroupFilter:u})})})}),e.jsxs("div",{className:"lg:col-span-3 space-y-2",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsx("div",{className:"p-2",children:e.jsx(Pe,{processedCompetitions:y,selectedCompetition:o,selectedJudges:s,onJudgeSelect:re})})}),s.length>0&&o&&e.jsx("div",{className:"space-y-4",children:s.map((r,m)=>{const n=y.find(p=>p.competitionId==o)?.judges?.find(p=>p.judgeId.toString()===r.toString());return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-primary",children:["Judge: ",n?.judgeName||`Judge ${r}`]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Status: ",n?.scoreStatus===1||n?.scoreStatus==="1"?"Filled":n?.scoreStatus===2||n?.scoreStatus==="2"?"Published":"Allowed To Fill"]})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("div",{className:"w-28 flex-shrink-0",children:e.jsx(Ee,{participants:D,participantsStatus:ee,activeParticipantId:j,currentParticipantIndex:E,participantScores:P,onParticipantSelect:i,onNavigateParticipant:S,judgeId:r,showJudgeSpecificScores:s.length>1})}),e.jsx("div",{className:"flex-1",children:e.jsx(ke,{activeParticipantId:j,participants:D,competitionDetails:Z,criteriaScores:g,participantScores:P,participantNotes:F,onScoreChange:w,onNotesChange:C,onSaveScore:L,onDeleteScore:U,selectedCompetition:o,processedCompetitions:y,selectedJudges:[r],currentJudgeId:r})})]})]},r)})})]})]}),(s.length===0||!o)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx(ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Welcome to Judge Scoring Panel v2"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Please select a judge and competition to begin scoring participants."}),e.jsx("div",{className:"text-sm text-gray-400",children:"Enhanced with modern UX patterns and interactive scoring features"})]})]})]})};export{Oe as default};
