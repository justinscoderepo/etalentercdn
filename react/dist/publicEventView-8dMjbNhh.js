import{r as c,j as e,L as d,R as g,_ as h}from"./main-CLPz_RRt.js";import{u as b}from"./useBackend-Cthsey-y.js";import"./httpService-CKXQNiLs.js";import"./index-t--hEgTQ.js";const w=g.lazy(()=>h(()=>import("./renderComponents-BimYw7Xj.js"),[])),I=()=>{const[f,E]=c.useState(0),m=new URLSearchParams(window.location.search).get("eventId"),i=window.location.pathname.split("/"),s=i[i.length-1],u=window.location.pathname.includes("/Public/ViewEvent/")&&s&&s!=="RenderViewEvent",a=m,r=u?s.replace(/-/g," "):null,{row:n,status:v}=b("/CandidateJson/GetEvents",{filter:a?{EVId:a}:{EventNameEquals:r},select:"AllowDisplayCompetitionOrder,Description,EVId,EndDateString,EventCategory,EventCategoryTitle,EventLogo,EventName,IdentityBackgroundImage,OrganizationLogo,OrganizationName,OrganizationShortName,StartDateString,Venue,JsonSettings",doCache:!0});if(!a&&!r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Required"}),e.jsx("p",{className:"text-gray-600",children:"Please provide a valid event ID or event name to view the live status."})]})});if(v==="loading")return e.jsx(d,{});if(!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),e.jsx("p",{className:"text-gray-600",children:"The requested event could not be found."})]})});const o=(n?.JsonSettings?JSON.parse(n.JsonSettings):{components:{}}).components||{},p=[{name:"Public Event View Header",components:o["Public Event View Header"]||[],className:"bg-white shadow-sm border-b"},{name:"Public Event View Center",components:o["Public Event View Center"]||[],className:"flex-1 bg-gray-50"},{name:"Public Event View Footer",components:o["Public Event View Footer"]||[],className:"bg-white shadow-sm border-t"}],x=t=>{switch(t){case"Public Event View Header":return[{type:"event-logo",label:"",id:"default-logo"},{type:"event-name",label:"",id:"default-name"}];case"Public Event View Center":return[{type:"event-live-status",label:"Live Status",id:"default-live-status"},{type:"event-competition-count",label:"Competition Status Overview",id:"default-count"},{type:"event-stage-competitions",label:"Competitions by Stage",id:"default-stages"}];case"Public Event View Footer":return[{type:"event-results-link",label:"View Results",id:"default-results"}];default:return[]}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[p.map((t,y)=>{const l=t.components.length>0?t.components:x(t.name);return e.jsx("div",{className:t.className,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.length>0&&e.jsx(c.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(w,{noCustomStyles:!0,eventDetails:n,components:l})})})},t.name)}),e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary hover:bg-primaryHover text-white p-3 rounded-full shadow-lg transition-colors",title:"Refresh Status",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})})]})};export{I as default};
