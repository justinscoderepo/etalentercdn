import{j as m,r as d,_ as x}from"./main-BTxYPv0w.js";import{u as T}from"./useBackend-CblGpngf.js";import"./httpService-COMwHiVS.js";import"./index-t--hEgTQ.js";const j=d.lazy(()=>x(()=>import("./iframeBox-BL8lCQB6.js"),[])),G=d.lazy(()=>x(()=>import("./teamMembers-D8vvI_DC.js"),[]));function O({groupId:s,disabled:c,hideGoBack:r,teamId:t,levels:n,onClose:o,onUpdate:a,renderAsComponenet:l}){console.log({groupId:s,disabled:c,hideGoBack:r,teamId:t,levels:n,onClose:o,onUpdate:a});let[A,E]=d.useState(!1);const{row:P}=T("/EventJson/Get",{select:"EVId,EventName,Description,JsonSettings"}),{rows:_,setFilter:L}=T("/AgewiseGroupsJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status"}),{row:u,setFilter:h,update:D,status:f}=T("/CoordinatorJson/GetParticipants?ParticipantType=2&TeamId="+t,{updateUrl:"/CoordinatorJson/SaveParticipantsDirect",deleteUrl:"/CoordinatorJson/RemoveUserBody",sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:2,TeamId:t,disableGetCompetitions:!1,group:s},select:"participantList,userList,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,MaximumCandidates"});console.log({participants:u}),console.log({participantStatus:f});let g=u?.ParticipantsList??[],v=u?.Competitions??[],C=u?.UsersList??[];C.forEach(e=>{let M=g.filter(i=>i.Candidate==e.Candidate||i.Candidate==e.Team),S=[];M.forEach(i=>{let J=v.find(N=>N.CompetitionStructureId==i.Competition);S.push(J)}),e.participatingCompetitions=S;let b=e.JsonSettings;try{let i=JSON.parse(b);i&&(e.ApplicationStatus=i.finalSubmitted)}catch{}});let p={};p.user={},p.user=C.find(e=>e.Team==t),p.participants=g.filter(e=>e.Candidate==t);const y=p?.user?.TeamMembers??[];return d.useEffect(()=>{a&&a(y)},[p.participants]),m.jsx("div",{children:m.jsx(j,{hideGoBack:r,setOpen:()=>{o()},noClose:!1,hideTitle:l===!0,open:!0,title:"Manage Team Participants",children:m.jsx(G,{reducePadding:l===!0,groupId:s,hideGoBack:r,disabled:c,levels:n,isLoading2:f!=="finished",ageWiseGroup:_,setAgeFilter:L,setFilter:h,onClose:o,setIsLoading:E,saveParticipantDetails:D,eventDetails:P,participantList:g,teamId:t,selectedParticipantDetails:p,onChange:a})})})}const V=({renderAsComponenet:s,groupId:c,disabled:r,hideGoBack:t,teamId:n,levels:o,onClose:a,onUpdate:l})=>(console.log({renderAsComponenet:s,groupId:c,disabled:r,hideGoBack:t,teamId:n,levels:o,onClose:a,onUpdate:l}),n?m.jsx(O,{renderAsComponenet:s,groupId:c,disabled:r,hideGoBack:t,teamId:n,levels:o,onClose:a,onUpdate:l}):m.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a team to proceed"}));export{V as default};
