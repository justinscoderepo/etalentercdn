import{b,j as e,r as o,C as y,L as d,k as p,_ as u}from"./main-yugBdkhv.js";import{F as T,P as E,a as M,b as w}from"./publicLayout-CZII3qZZ.js";import{R as D}from"./renderRegistrationForm-CWOel0tr.js";import"./disclosure-_ig7JNNO.js";import"./use-resolve-button-type-BLnZ8SFh.js";import"./keyboard-C77ZT6te.js";import"./dialog-CQUN6Rwz.js";import"./description-Bk8H_lDa.js";import"./use-is-mounted-DnS0pA8w.js";import"./navigationUtils-Bf0lah9r.js";import"./bugs-DxaWAp9m.js";import"./useConfirmation-Cg4KZ18u.js";import"./CheckIcon-DvPpj-Ij.js";import"./TrashIcon-Dv9MlWzU.js";import"./eventDetailedView-D-lJW2YP.js";import"./UserPlusIcon-bt62dvaF.js";import"./UserGroupIcon-BQh4XWFG.js";import"./publicRegistrationHelper-Dc4M_2PU.js";import"./PencilIcon-DW_SLi3g.js";import"./box-P2e03Oo9.js";import"./ChevronRightIcon-qQlRy9TF.js";import"./TrashIcon-4Gd83bgT.js";const I=p.lazy(()=>u(()=>import("./renderUsersList-6Eni1R8l.js"),[])),L=p.lazy(()=>u(()=>import("./renderEventDetailedView-DlwYv6P_.js"),[]).then(n=>({default:n.RenderEventDetailedView}))),O=p.lazy(()=>u(()=>import("./contactInfo-OLZfoBI8.js"),[]));function re(){const{user:n,token:C}=b()||{};if(!n||!n?.Email)return e.jsx("div",{children:"Please log in to access this form."});const r=n?.RoleTitle==="Guardian",s=n?.Email?.indexOf("justnshalom")!==-1,[i,a]=o.useState(r&&!s?"My Participation":"Home");console.log("ðŸ”µ PublicRegistrationOuter Rendered - activeTab:",i," | isGuardian:",r," | isTempUser:",s);const{allStepsComponents:j,eventDetails:S,isTeamsRegistration:N,participantTypeInt:f,setParticipantType:l}=y(),[x,h]=o.useState(null);let g=!0;j?.["Guardian Registration"]?.length==0&&(g=!1);const c=[{name:"Home",href:"#",icon:T,hideOnMobile:!0}];c.push({name:"My Participation",label:r?"Manage Participants":"My Participation",href:"#",icon:M}),c.push({name:"Support",href:"#",icon:w,hideOnMobile:!0});function m(...t){return t.filter(Boolean).join(" ")}const R=(t,v=null)=>{if(r&&s){a("Registration"),l("Individual");return}l(t===1?"Individual":"Team"),h(v),a("Registration")},P=()=>{switch(i){case"Home":return e.jsx(o.Suspense,{fallback:e.jsx(d,{info:"Loading event details..."}),children:e.jsx(L,{setActiveTab:a,onStartRegistration:R,closeModel:()=>{a("Home")}},i)});case"Registration":return e.jsx(D,{eventDetails:S,view:s&&g?"registration":"participationDetails",isDirectOpen:!0,participantTypeInt:f,candidateId:x,closeModel:()=>{a("My Participation"),h(null)}},`${i}-${f}-${x||"new"}}`);case"My Participation":return e.jsx(o.Suspense,{fallback:e.jsx(d,{info:"Loading participants..."}),children:e.jsx(I,{handleParticipantTypeChange:l,setActiveTab:a,onStartRegistration:R,closeModel:()=>{}},i)});default:return e.jsx(o.Suspense,{fallback:e.jsx(d,{info:"Loading..."}),children:e.jsx(O,{})})}};let _=e.jsx("nav",{"aria-label":"Tabs",className:"flex space-x-8",children:c.map((t,v)=>e.jsxs("button",{onClick:()=>a(t.name),className:m("relative inline-flex items-center px-3 py-2 text-sm font-medium justify-center","transition-colors duration-300 ease-in-out",i===t.name?"text-onSurface bg-indigo-50/75":"text-onSurfaceVariant hover:bg-surface hover:text-onSurface",r&&!s&&(t.name=="Home1"||t.name=="Support1")?"":"flex-grow"),children:[e.jsx(t.icon,{className:m(i===t.name?"text-primary":"text-onSurfaceVariant group-hover:text-onSurfaceVariant","h-6"),"aria-hidden":"true"}),r&&!s&&(t.name=="Home1"||t.name=="Support1")?e.jsx(e.Fragment,{}):e.jsx("span",{className:m("ml-2",t.hideOnMobile?"hidden sm:block":""),children:t.label??t.name})]},t.name))});return e.jsx(E,{navtabs:_,children:e.jsx("div",{className:" min-h-screen",children:e.jsx("div",{className:"flex flex-col bg-surfaceCard rounded-lg",children:e.jsx("div",{className:"relative min-h-screen",children:P()})})})})}export{re as default};
