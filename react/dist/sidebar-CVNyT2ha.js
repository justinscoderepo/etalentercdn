import{r as o,j as a}from"./mainweb-ClA2V5qH.js";import{i as c}from"./index-BtZPA4_F.js";import{s as p,w as D,i as m,u,a as g,d as b,b as S,c as v}from"./useDragDropManager-CGCjZneS.js";function y(n){return o.useMemo(()=>n.hooks.dragSource(),[n])}function w(n){return o.useMemo(()=>n.hooks.dragPreview(),[n])}let l=!1,d=!1;class C{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){c(!l,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return l=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{l=!1}}isDragging(){if(!this.sourceId)return!1;c(!d,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return d=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{d=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class I{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,t=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!p(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!p(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=D({dragSource:(r,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,m(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,m(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function P(n,e){const r=u(),t=o.useMemo(()=>new I(r.getBackend()),[r]);return g(()=>(t.dragSourceOptions=n||null,t.reconnect(),()=>t.disconnectDragSource()),[t,n]),g(()=>(t.dragPreviewOptions=e||null,t.reconnect(),()=>t.disconnectDragPreview()),[t,e]),t}function x(){const n=u();return o.useMemo(()=>new C(n),[n])}class O{beginDrag(){const e=this.spec,r=this.monitor;let t=null;return typeof e.item=="object"?t=e.item:typeof e.item=="function"?t=e.item(r):t={},t??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const t=this.spec,i=this.monitor,{isDragging:s}=t;return s?s(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,t=this.connector,{end:i}=e;i&&i(r.getItem(),r),t.reconnect()}constructor(e,r,t){this.spec=e,this.monitor=r,this.connector=t}}function M(n,e,r){const t=o.useMemo(()=>new O(n,e,r),[e,r]);return o.useEffect(()=>{t.spec=n},[n]),t}function R(n){return o.useMemo(()=>{const e=n.type;return c(e!=null,"spec.type must be defined"),e},[n])}function N(n,e,r){const t=u(),i=M(n,e,r),s=R(n);g(function(){if(s!=null){const[h,f]=b(s,i,t);return e.receiveHandlerId(h),r.receiveHandlerId(h),f}},[t,e,r,i,s])}function T(n,e){const r=S(n);c(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const t=x(),i=P(r.options,r.previewOptions);return N(r,t,i),[v(r.collect,t,i),y(i),w(i)]}const j=({type:n,label:e,iconClass:r})=>{const[{isDragging:t},i]=T({type:"FORM_ITEM",item:{type:n,label:e},collect:s=>({isDragging:!!s.isDragging()})});return a.jsxs("div",{ref:i,className:`group relative block  rounded-lg border border-gray-300 bg-white px-6 py-2 shadow-sm focus:outline-none data-[focus]:border-indigo-600 data-[focus]:ring-2 data-[focus]:ring-indigo-600 sm:flex p-4 cursor-move mb-2  ${t?"opacity-50":"opacity-100"}`,children:[a.jsx("span",{className:" material-symbols-outlined h-6 w-6 mr-2 text-red",children:r}),a.jsx("span",{className:"flex items-center",children:a.jsxs("span",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e}),a.jsx("span",{className:"text-gray-500"})]})})]})},k=[{type:"group",label:"Group",icon:"folder"},{type:"competitions",label:"Competitions",icon:"trophy"},{type:"team-members",label:"Team Members",icon:"people"},{type:"payment-summary",label:"Payment Summary",icon:"payment"},{type:"extra-payment-options",label:"Extra Payment Options",icon:"payment"},{type:"text",label:"Text Field",icon:"edit"},{type:"password",label:"Password",icon:"key"},{type:"email",label:"Email",icon:"email"},{type:"phone",label:"Phone",icon:"phone"},{type:"number",label:"Number",icon:"looks_one"},{type:"textarea",label:"Textarea",icon:"text_snippet"},{type:"select",label:"Select",icon:"dropdown"},{type:"RegistrationIdBox",label:"Registration Id",icon:"edit"},{type:"heading",label:"Heading",icon:"title"},{type:"imageFromUrl",label:"Image From Url",icon:"image"},{type:"iframeRenderer",label:"Iframe Renderer",icon:"code"},{type:"html",label:"HTML",icon:"code"},{type:"paragraph",label:"Paragraph",icon:"text_fields"},{type:"checkbox",label:"Checkbox",icon:"check_box"},{type:"radio",label:"Radio",icon:"radio_button_checked"},{type:"country",label:"Country",icon:"flag_2"},{type:"date",label:"Date",icon:"date_range"},{type:"image-upload",label:"Image Upload",icon:"image"},{type:"file-upload",label:"File Upload",icon:"upload"}],E=()=>a.jsxs("div",{className:"relative  w-64 ",children:[a.jsx("div",{className:"absolute inset-px rounded-lg bg-white lg:rounded-l-lg"}),a.jsxs("div",{className:"relative flex h-full flex-col  rounded-lg lg:rounded-l-[calc(2rem+1px)] px-4",children:[a.jsxs("div",{className:"px-2 pb-4 pt-2 sm:pb-3 sm:pt-4",children:[a.jsx("p",{className:"text-sm font-medium tracking-tight text-gray-950 max-lg:text-center",children:"Choose Components"}),a.jsx("p",{className:"mt-2 max-w-lg text-xs text-gray-600 max-lg:text-center",children:"Drag and drop and build form"})]}),k.map((n,e)=>a.jsx(j,{type:n.type,label:n.label,iconClass:n.icon},e))]})]});export{E as default,k as formItems};
