import{R as E,j as a,r as u}from"./mainweb-DJFZVjrd.js";import{a as A}from"./index-t--hEgTQ.js";var ne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Z=E.createContext&&E.createContext(ne),ve=["attr","size","title"];function Se(e,t){if(e==null)return{};var r=be(e,t),s,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)s=l[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function be(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},L.apply(this,arguments)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,s)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(s){ye(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ye(e,t,r){return t=xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xe(e){var t=Ce(e,"string");return typeof t=="symbol"?t:t+""}function Ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function se(e){return e&&e.map((t,r)=>E.createElement(t.tag,V({key:r},t.attr),se(t.child)))}function oe(e){return t=>E.createElement(je,L({attr:V({},e.attr)},t),se(e.child))}function je(e){var t=r=>{var{attr:s,size:i,title:l}=e,f=Se(e,ve),h=i||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),E.createElement("svg",L({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,f,{className:d,style:V(V({color:e.color||r.color},r.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&E.createElement("title",null,l),e.children)};return Z!==void 0?E.createElement(Z.Consumer,null,r=>t(r)):t(ne)}function we(e){return oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Ne(e){return oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const te=({token:e,selectedParticipant:t,selectedCompetition:r,setSelectedParticipant:s,setCompetitionParticipants:i,setParticipantMark:l,fetchCompetitionParticipantsScoreCard:f})=>{const h=async()=>{try{const d=await A.delete("https://etalenterapi.azurewebsites.net/JudgesScoreCardJson/Remove",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`},params:{ScorecardId:t.ParticipantIdScorecardId}});d.data?(s(null),i([]),l(""),await f(r)):(console.error("Error deleting score:",d.data.message||"Unknown error"),alert("Error deleting score: "+(d.data.message||"Unknown error")))}catch(d){console.error("Error deleting score:",d),alert("An error occurred while deleting the score.")}};return a.jsx("button",{className:"btn-delete",onClick:h,title:"Delete Score",children:a.jsx(Ne,{size:16})})},Ie=({selectedCompetition:e,selectedAllotmentId:t,token:r,userRoleId:s,fetchJudgesAllotmentData:i,fetchCompetitionParticipantsScoreCard:l})=>{const f=async()=>{try{const h=new FormData;h.append("Competition",e),h.append("AllotementId",t);const d=await A.post("https://etalenterapi.azurewebsites.net/JudgesAllotmentJson/SaveJudgeStatus",h,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}});d.data?(i(s),l(e)):(console.error("Error saving score:",d.data.message||"Unknown error"),alert("Error saving score: "+(d.data.message||"Unknown error")))}catch(h){console.error("Error:",h),alert("An error occurred")}};return a.jsxs("div",{className:"completion-section",children:[a.jsx("p",{children:'If you finished all score updates for this selected competition, press "Mark as Completed". After marking as finished, it will move to the finished section.'}),a.jsx("button",{className:"btn-completed",onClick:f,children:"Mark as Completed"})]})},Pe=({index:e,details:t,CriteriaMarks:r,competitionMaxScore:s,competitionDetails:i,handleMarkChange:l})=>{const f=d=>d/(s/i?.Results?.length)*100,h=d=>{const S=s/i?.Results?.length;return d<=S/4?"red":d<=S/3?"#FF8C00":d<=S/3?"#FFB900":d<=S/1.5?"blue":"#03fc77"};return a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:"16px"},children:a.jsxs("div",{className:"relative range-slider",children:[a.jsx("div",{style:{width:`${f(r[e]||t.Score||0)}%`,backgroundColor:h(r[e]||t.Score||0)},className:"absolute h-full"}),a.jsx("div",{className:"absolute top-1 left-0 w-full flex justify-center items-center space-x-1",children:[...Array(10)].map((d,S)=>a.jsx("span",{className:"text-gray-400 text-xs",children:"★"},S))}),a.jsx("input",{type:"range",id:`range-slider-${t.Score}`,min:"0",max:"10",step:"0.1",value:r[e]===0?0:r[e]/(s/i?.Results?.length)*10,onChange:d=>{const x=Number(d.target.value)/10*(s/i?.Results?.length);l(e,x)},className:"range-slider-input no-thumb"})]})}),a.jsx("input",{type:"number",id:`mark-${t.Score}`,className:"input-mark",placeholder:t.Score??0,value:r[e]||"",onChange:d=>l(e,Number(d.target.value)),step:"0.1",style:{marginBottom:"16px"}})]})},Re=({participantMark:e,setParticipantMark:t,selectedParticipant:r})=>{const s=l=>l/10*100,i=l=>l<=3?"red":l<=4?"#FF8C00":l<=5.5?"#FFB900":l<=7?"blue":"#03fc77";return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("div",{className:"relative range-slider",children:[a.jsx("div",{style:{width:`${s(e===0?r.ParticipantIdScore:e)}%`,backgroundColor:i(e===0?r.ParticipantIdScore:e)},className:"absolute h-full"}),a.jsx("div",{className:"absolute top-1 left-0 w-full flex justify-center items-center space-x-1",children:[...Array(10)].map((l,f)=>a.jsx("span",{className:"text-gray-400 text-xs",children:"★"},f))}),a.jsx("input",{type:"range",id:`range-slider-${r.ParticipantId}`,min:"0",max:"10",step:"0.1",value:e===0?r.ParticipantIdScore:e,onChange:l=>t(Number(l.target.value)),className:"range-slider-input no-thumb"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginTop:"8px"},children:[a.jsx("span",{children:"0"})," ",a.jsx("span",{children:"10"})," "]})]}),a.jsx("input",{type:"number",id:`mark-${r.ParticipantId}`,className:"input-mark",placeholder:r.ParticipantIdScore>0?r.ParticipantIdScore:"Enter mark",value:e,onChange:l=>{const f=l.target.value;t(f===""?null:Number(f))},step:"0.1",style:{marginBottom:"16px"}})]})},Oe=({message:e,onClose:t,duration:r=3e3})=>(u.useEffect(()=>{if(e){const s=setTimeout(()=>{t()},r);return()=>clearTimeout(s)}},[e,t,r]),a.jsx("div",{className:`snackbar ${e?"show":""}`,children:e})),re=({participantMark:e,competitionMaxScore:t,CriteriaMarks:r=[],selectedParticipant:s,competitionDetails:i,totalMark:l,userRoleId:f,token:h,fetchCompetitionParticipantsScoreCard:d,selectedCompetition:S,setSelectedParticipant:x,SetCompetitionParticipants:I,setParticipantMark:k,scoreLabel:z})=>{const[B,U]=u.useState(""),H=async()=>{if((!e||isNaN(e)||e<0)&&(!r||r.length===0||r.some(m=>isNaN(m)||m<0))){alert("Please enter a valid score.");return}if(e>t){alert(`The score cannot exceed the maximum allowed score of ${t}.`);return}try{const m=new FormData;r.length>0&&!e?r.forEach((_,v)=>{if(v===r.length-1)m.append(`Scores[${v}][ScoreCardParticipant]`,s.ParticipantId),m.append(`Scores[${v}][IsActAsJudge]`,"true"),m.append(`Scores[${v}][ScoreCardScore]`,l),m.append(`Scores[${v}][ScoreCardScorecardId]`,s.ParticipantIdScorecardId||0);else{const $=i?.Results?.[v]||{},q=$.DetailId||$.Criteria||`Criteria ${v+1}`;m.append(`Scores[${v}][ScoreCard]`,$.ScoreCard||""),m.append(`Scores[${v}][IsActAsJudge]`,"true"),m.append(`Scores[${v}][Criteria]`,q),m.append(`Scores[${v}][Score]`,_),m.append(`Scores[${v}][Status]`,$.Status||1),m.append(`Scores[${v}][DetailedScoreCardCriteriaId]`,$.DetailedScoreCardCriteriaId||"")}}):(m.append("Scores[0][ScoreCardParticipant]",s.ParticipantId),m.append("Scores[0][IsActAsJudge]",!!i.Status),m.append("Scores[0][ScoreCardScore]",e),m.append("Scores[0][ScoreCardScorecardId]",s.ParticipantIdScorecardId)),m.append("JudgeId",f);const R=await A.post("https://etalenterapi.azurewebsites.net/JudgeJson/SaveScore",m,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${h}`}});R.data?(U("Score saved successfully!"),x(null),I([]),k(""),await d(S)):(console.error("Error saving score:",R.data.message||"Unknown error"),alert("Error saving score: "+(R.data.message||"Unknown error")),U("Score not saved!"))}catch(m){console.error("Error posting score:",m),alert("An error occurred while saving the score.")}};return a.jsxs("div",{children:[a.jsx("button",{className:"btn-save",onClick:H,title:"Save",disabled:isNaN(e)||e<0||e>(z==="Rating out of 10"?t/i?.Results?.length:t),children:a.jsx(we,{size:16})}),console.log("Snackbar message:",B),B&&a.jsx(Oe,{message:B,onClose:()=>U("")})]})};var Ae={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Je(e){if(typeof e=="number")return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();r.includes(".")?t=parseFloat(r):t=parseInt(r,10);var s=(e.match(/[^0-9]*$/)||"").toString();return Ae[s]?{value:t,unit:s}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function ae(e){var t=Je(e);return"".concat(t.value).concat(t.unit)}var Ee=function(e,t,r){var s="react-spinners-".concat(e,"-").concat(r);if(typeof window>"u"||!window.document)return s;var i=document.createElement("style");document.head.appendChild(i);var l=i.sheet,f=`
    @keyframes `.concat(s,` {
      `).concat(t,`
    }
  `);return l&&l.insertRule(f,0),s},W=function(){return W=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},W.apply(this,arguments)},ze=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r},$e=Ee("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function De(e){var t=e.loading,r=t===void 0?!0:t,s=e.color,i=s===void 0?"#000000":s,l=e.speedMultiplier,f=l===void 0?1:l,h=e.cssOverride,d=h===void 0?{}:h,S=e.size,x=S===void 0?35:S,I=ze(e,["loading","color","speedMultiplier","cssOverride","size"]),k=W({background:"transparent !important",width:ae(x),height:ae(x),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat($e," ").concat(.75/f,"s 0s infinite linear"),animationFillMode:"both"},d);return r?u.createElement("span",W({style:k},I)):null}const P=localStorage.getItem("accessToken");function Ve({user:e}){const[t,r]=u.useState([]),[s,i]=u.useState(""),[l,f]=u.useState(null),[h,d]=u.useState([]),[S,x]=u.useState([]),[I,k]=u.useState(null),[z,B]=u.useState([]),[U,H]=u.useState(null),[m,R]=u.useState(!1),[_,v]=u.useState(!1),[$,q]=u.useState(!1),[b,F]=u.useState(null),[y,Q]=u.useState(null),[O,J]=u.useState(b?.ParticipantIdScore||""),[Te,ke]=u.useState({top:0,left:0}),[Be,Fe]=u.useState(!1),[C,ie]=u.useState(0),[le,ce]=u.useState(null),[j,de]=u.useState(""),[Ue,_e]=u.useState(0),[w,X]=u.useState([]),[G,M]=u.useState(0);u.useEffect(()=>{if(y?.Results){const o=y.Results.map(p=>p.Score||0);let n=0;if(j==="Rating out of 10"){const p=o.filter(g=>g>0);n=p.length>0?p.reduce((g,N)=>g+N,0)/p.length:0}else j==="Marks"&&(n=o.reduce((p,g)=>p+(g>0?g:0),0));const c=[...o,Number(n.toFixed(2))];X(c),M(Number(n.toFixed(2)))}},[y,j]);const K=(o,n)=>{const c=[...w],p=c.length-1;if(o<p){c[o]=n;let g=0;if(j==="Rating out of 10"){const N=c.slice(0,-1).filter(T=>T>0);g=N.length>0?N.reduce((T,ge)=>T+ge,0)/N.length:0}else j==="Marks"&&(g=c.slice(0,-1).reduce((N,T)=>N+(T>0?T:0),0));c[p]=Number(g.toFixed(2))}else if(o===p){const g=n/(c.length-1);for(let N=0;N<p;N++)c[N]=Number(g.toFixed(2));c[p]=Number(n.toFixed(2))}X(c),M(c[p])};u.useEffect(()=>{(async()=>{R(!0);try{const n=new FormData;n.append("CreatedBy","12007"),n.append("Role",e.Role),n.append("isCaching","true");const c=await A.post("https://etalenterapi.azurewebsites.net/UsersRolesJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});if(c.data&&c.data.Results){r(c.data.Results);const p=filteredJudges.map(g=>g.UserName||"Unknown");H(p)}}catch(n){console.error("Error fetching selected judges:",n)}finally{R(!1)}})()},[]);const ue=o=>{const n=Number(o.target.value);i(n),t.find(p=>p.UserRoleId===n)&&(R(!0),f(n),Y(n).finally(()=>R(!1)))};u.useEffect(()=>{},[l,s]);const Y=async o=>{v(!0);try{const n=new FormData;n.append("Status","1"),n.append("PageSize","500"),n.append("Judge",o),n.append("SortOrder","asc");const c=await A.post("https://etalenterapi.azurewebsites.net/JudgesAllotmentWithScoreLabelJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});if(c.data&&c.data.Results){const p=c.data.Results;d(p)}}catch(n){console.error("Error fetching judges allotment data:",n)}finally{v(!1)}},pe=o=>{const n=Number(o.target.value);k(n);const c=h.filter(g=>g.Competition===n);if(B(c),c.length>0){const g=c[0].AllotementId;ce(g)}const p=c[0].ScoreLabelLabel;de(p),D(n)};u.useEffect(()=>{z&&z.length>0},[z]);const D=async o=>{try{const n=new FormData;n.append("PageSize","100"),n.append("IsActAsJudge","true"),n.append("Judge",l),n.append("Competition",o),n.append("SortColumn","ParticipantId"),n.append("SortOrder","asc"),n.append("PageNumber","1");const c=await A.post("https://etalenterapi.azurewebsites.net/CompetitionParticipantsScoreCardJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});if(c.data&&c.data.Results){const p=c.data.Results;x(p);const g=p[0];ie(g.CompetitionMaximumScore)}}catch(n){console.error("Error fetching CompetitionParticipants Scorecard data:",n)}},me=o=>{M(0),F(o),o.ParticipantIdScore>0?he(o):fe(o)},fe=async o=>{try{const n=new FormData;n.append("LanguageGlobal",o.CompetitionLanguage),n.append("GroupGlobal",o.CompetitionGroup),n.append("GenderGlobal",o.CompetitionGender),n.append("ParticipantTypeGlobal",o.CompetitionParticipantType),n.append("CompetitionItemGlobal",o.CompetitionCompetitionItem),n.append("isCaching","true");const c=await A.post("https://etalenterapi.azurewebsites.net/CompetitionDetailsJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});c.data&&Q(c.data)}catch(n){console.error("Error fetching competition details:",n)}};u.useEffect(()=>{},[y]);const he=async o=>{try{const n=new FormData;n.append("IsActAsJudge","true"),n.append("Judge",l),n.append("ScoreCard",o.ParticipantIdScorecardId);const c=await A.post("https://etalenterapi.azurewebsites.net/JudgesDetailedScoreCardJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});c.data&&Q(c.data)}catch(n){console.error("Error fetching detailed score card:",n)}};return a.jsxs("div",{className:"body",children:[a.jsx("h2",{className:"scorecard-title",style:{textTransform:"uppercase"},children:"JUdges ScoreCard"}),a.jsxs("div",{className:"competition-selection form-group",children:[a.jsx("label",{className:"form-label",children:"Select Judge"}),a.jsxs("select",{className:"form-control",value:s,onChange:ue,disabled:m,children:[a.jsx("option",{value:"",children:"--Select Judge--"}),t.map(o=>a.jsx("option",{value:o.UserRoleId,children:o.UserName||"Unknown"},o.UserRoleId))]}),a.jsx("label",{className:"form-label",children:"Select Competition"}),_?a.jsx("div",{className:"spinner-container",children:a.jsx(De,{color:"#36d7b7",loading:_,size:50})}):a.jsxs("select",{className:"form-control",value:I,onChange:pe,children:[a.jsx("option",{value:"",children:"--Select Competition--"}),h.map(o=>a.jsxs("option",{value:o.Competition,children:[o.CompetitionGroupGroupName," - ",o.ScoreStatusScoreResultStatus," "," | ",o.CompetitionItemTitle||"Unknown"," "," (",o.CompetitionParticipantTypeTitle,")"]},o.AllotementId))]})]}),a.jsxs("div",{className:"participants-container",children:[a.jsx("div",{className:"participants-list",children:S.length>0?S.map(o=>a.jsx("div",{className:`participant-container ${b?.ParticipantId===o.ParticipantId?"selected":""}`,onClick:()=>me(o),children:a.jsxs("div",{className:"participant-summary",children:[a.jsx("div",{className:"participant-id",children:o.CandidateIdentityNumber||0}),a.jsx("div",{className:"participant-score",children:o.ParticipantIdScore||0})]})},o.ParticipantId)):a.jsx("p",{className:"no-participants-message",children:"No participants found."})}),a.jsx("div",{className:`expanded-content-container ${b?"visible":""}`,children:b&&a.jsx("div",{className:"input-mark",children:a.jsx("div",{className:"mark-section",children:y?.Results?.length>1?a.jsxs(a.Fragment,{children:[y.Results.map((o,n)=>a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"8px"},children:[o.CriteriaCriteriaName||o.CriteriaName,y?.Results?.length>0?a.jsxs("span",{children:["(",o.SecondValue||C/y?.Results?.length,")"]}):a.jsxs("span",{children:["(",o.SecondValue||C,")"]})]}),j==="Rating out of 10"?a.jsx(Pe,{index:n,details:o,CriteriaMarks:w,competitionMaxScore:C,competitionDetails:y,handleMarkChange:K},n):a.jsx("input",{type:"number",id:`mark-${o.Score}`,className:"input-mark",placeholder:o.Score??0,value:w[n]||"",onChange:c=>K(n,Number(c.target.value)),style:{marginBottom:"16px"}}),w[n]&&(isNaN(w[n])||w[n]<0)&&a.jsx("div",{style:{color:"red",fontSize:"12px"},children:"Please enter a valid score (must be a positive number)."}),(w[n]>(j==="Rating out of 10"?C/y?.Results?.length:C)||(o.SecondValue?w[n]>o.SecondValue:w[n]>C))&&a.jsxs("div",{style:{color:"red",fontSize:"12px"},children:["The score cannot exceed the maximum score of ",o.SecondValue||C/y?.Results?.length,"."]})]},n)),a.jsxs("div",{style:{marginBottom:"8px"},children:["Total",a.jsxs("span",{children:["(",z.CompetitionMaximumScore??C,")"]})]}),a.jsx("input",{type:"number",id:`mark-${G}`,className:"input-mark",placeholder:"Total",value:G||"",onChange:o=>K(w.length-1,Number(o.target.value)),style:{marginBottom:"16px"}}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx(re,{participantMark:O,competitionMaxScore:C,CriteriaMarks:w,selectedParticipant:b,competitionDetails:y,totalMark:G,userRoleId:l,token:P,fetchCompetitionParticipantsScoreCard:D,selectedCompetition:I,setSelectedParticipant:F,SetCompetitionParticipants:x,setParticipantMark:J,scoreLabel:j}),b.ParticipantIdScore>0&&a.jsx(te,{token:P,selectedParticipant:b,selectedCompetition:I,setSelectedParticipant:F,setCompetitionParticipants:x,setParticipantMark:J,fetchCompetitionParticipantsScoreCard:D})]})]}):a.jsxs("div",{children:[j==="Rating out of 10"?a.jsx(Re,{participantMark:O,setParticipantMark:J,selectedParticipant:b}):a.jsxs("div",{children:["Total ",a.jsx("span",{children:b.CompetitionMaximumScore}),a.jsx("input",{type:"number",id:`mark-${b.ParticipantId}`,className:"input-mark",placeholder:b.ParticipantIdScore>0?b.ParticipantIdScore:"Enter mark",value:O,onChange:o=>{const n=o.target.value;J(n===""?null:Number(n))},style:{marginBottom:"16px"}})]}),O&&(isNaN(O)||O<0)&&a.jsx("div",{style:{color:"red",fontSize:"12px"},children:"Please enter a valid score (must be a positive number)."}),O>(j==="Rating out of 10"?10:C)&&a.jsxs("div",{style:{color:"red",fontSize:"12px"},children:["The score cannot exceed the maximum score of ",j==="Rating out of 10"?10:C,"."]}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx(re,{participantMark:O,competitionMaxScore:C,CriteriaMarks:w,selectedParticipant:b,competitionDetails:y,totalMark:G,userRoleId:l,token:P,fetchCompetitionParticipantsScoreCard:D,selectedCompetition:I,setSelectedParticipant:F,SetCompetitionParticipants:x,setParticipantMark:J,scoreLabel:j}),b.ParticipantIdScore>0&&a.jsx(te,{token:P,selectedParticipant:b,selectedCompetition:I,setSelectedParticipant:F,setCompetitionParticipants:x,setParticipantMark:J,fetchCompetitionParticipantsScoreCard:D})]})]})})})})]}),a.jsx("div",{className:"completion-section",children:a.jsx(Ie,{selectedCompetition:I,selectedAllotmentId:le,token:P,userRoleId:l,fetchJudgesAllotmentData:Y,fetchCompetitionParticipantsScoreCard:D})})]})}export{Ve as default};
