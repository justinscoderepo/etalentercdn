import{j as r,r as l,c as T,_ as S}from"./main-pxHJVgAj.js";const N=l.lazy(()=>S(()=>import("./iframeBox-DE29e-c0.js"),[])),U=l.lazy(()=>S(()=>import("./teamMembers-zhk1Lk8b.js"),[]));function j({groupId:n,disabled:m,hideGoBack:o,teamId:i,levels:p,onClose:d,onUpdate:s,renderAsComponenet:c}){let[A,x]=l.useState(!1);const{row:E}=T("/EventJson/Get",{select:"EVId,EventName,Description,JsonSettings"}),{rows:P,setFilter:h}=T("/AgewiseGroupsJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status"}),{row:u,setFilter:_,update:v,status:L}=T("/CoordinatorJson/GetParticipants?ParticipantType=2&TeamId="+i,{updateUrl:"/CoordinatorJson/SaveParticipantsDirect",deleteUrl:"/CoordinatorJson/RemoveUserBody",sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:2,TeamId:i,disableGetCompetitions:!1,group:n},select:"participantList,userList,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,MaximumCandidates"});let g=u?.ParticipantsList??[],b=u?.Competitions??[],f=u?.UsersList??[];f.forEach(t=>{let y=g.filter(e=>e.Candidate==t.Candidate||e.Candidate==t.Team),C=[];y.forEach(e=>{let M=b.find(J=>J.CompetitionStructureId==e.Competition);C.push(M)}),t.participatingCompetitions=C;let G=t.JsonSettings;try{let e=JSON.parse(G);e&&(t.ApplicationStatus=e.finalSubmitted)}catch{}});let a={};a.user={},a.user=f.find(t=>t.Team==i),a.participants=g.filter(t=>t.Candidate==i);const D=a?.user?.TeamMembers??[];return l.useEffect(()=>{s&&s(D)},[a.participants]),r.jsx("div",{children:r.jsx(N,{hideGoBack:o,setOpen:()=>{d()},noClose:!1,hideTitle:c===!0,open:!0,title:"Manage Team Participants",children:r.jsx(U,{reducePadding:c===!0,groupId:n,hideGoBack:o,disabled:m,levels:p,isLoading2:L!=="finished",ageWiseGroup:P,setAgeFilter:h,setFilter:_,onClose:d,setIsLoading:x,saveParticipantDetails:v,eventDetails:E,participantList:g,teamId:i,selectedParticipantDetails:a,onChange:s})})})}const I=({renderAsComponenet:n,groupId:m,disabled:o,hideGoBack:i,teamId:p,levels:d,onClose:s,onUpdate:c})=>p?r.jsx(j,{renderAsComponenet:n,groupId:m,disabled:o,hideGoBack:i,teamId:p,levels:d,onClose:s,onUpdate:c}):r.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a team to proceed"});export{I as default};
