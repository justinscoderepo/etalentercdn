import{r as c,p as o}from"./mainweb-BQzHIMLj.js";function B({title:l,titleId:i,...e},u){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":i},e),l?c.createElement("title",{id:i},l):null,c.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Y=c.forwardRef(B);function _({title:l,titleId:i,...e},u){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":i},e),l?c.createElement("title",{id:i},l):null,c.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const q=c.forwardRef(_);function H({title:l,titleId:i,...e},u){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":i},e),l?c.createElement("title",{id:i},l):null,c.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"}))}const z=c.forwardRef(H);function K({title:l,titleId:i,...e},u){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":i},e),l?c.createElement("title",{id:i},l):null,c.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const G=c.forwardRef(K);function Q(l,i,e){var I,J,A,T,$,M;if(e!=null&&e.JsonSettings){let n=o(e==null?void 0:e.UserJsonSettings),s=o(e==null?void 0:e.JsonSettings);e={...e,...n,...s}}let u={};Object.keys(e).forEach(n=>{var p;let s=((p=n[0])==null?void 0:p.toLowerCase())+n.slice(1);u[s]||(u[s]=e[n])}),e={...e,...u},e!=null&&e.RegistrationId&&!(e!=null&&e.registrationId)&&(e.registrationId=e.RegistrationId);const O=e?Object.keys(e).filter(n=>n.includes("extra_payment_")):[],R=l==null?void 0:l.AdditionalSettings,h=(J=(I=l==null?void 0:l.components)==null?void 0:I.User)==null?void 0:J.find(n=>n.type==="RegistrationIdBox"),C=R==null?void 0:R.EligibleRegistrationNumbers;let t=[];if(((A=e==null?void 0:e.teamMembers)==null?void 0:A.length)>0&&((T=l==null?void 0:l.AdditionalSettings)==null?void 0:T.AllowTeamDiscountIfCaptainIsEligible)==="Yes"){const n=($=e==null?void 0:e.teamMembers)==null?void 0:$.find(w=>w.Designation===4),s=o(n==null?void 0:n.UserJsonSettings),p=o(n==null?void 0:n.JsonSettings);e={...e,...s,...p,...n},e.registrationId=n==null?void 0:n.RegistrationId}const Z=C==null?void 0:C.find(n=>n.RegistrationNumber===((e==null?void 0:e.registrationId)??"-"));let k=h!=null&&h.conditions?h.conditions.every(n=>{var w,P;const s=e[`${n.key.charAt(0).toLowerCase()}${n.key.slice(1)}`],p=e[n.key];return(s==null?void 0:s.toString())===((w=n.value)==null?void 0:w.toString())||(p==null?void 0:p.toString())===((P=n.value)==null?void 0:P.toString())}):!0;if(Z&&k&&(h!=null&&h.discountPercentage)){const n=parseFloat(h.discountPercentage);t.push({Title:h.discountTitle,DiscountPercent:n})}const y=i.reduce((n,s)=>n+parseFloat(s.Fees),0),d=i.map(n=>({name:`${n.Title} - ${n.CompetitionCategoryName}`,total:n.Fees})),b=O.flatMap(n=>{const s=o(e[n]);return Object.entries(s).filter(([p,w])=>w.checked).map(([p,w])=>({name:p,total:w.fees}))}),E=b.reduce((n,s)=>n+parseFloat(s.total),0);let g=0;if(t.length>0){const n=t[0],s=parseFloat(n.DiscountPercent);g=y*s/100}const x=y+E,L=x-g,U=((M=l==null?void 0:l.AdditionalSettings)==null?void 0:M.FeesCurrency)??"USD",v=[];return d.length>0&&v.push({heading:"Competitions Fees",total:d.reduce((n,s)=>n+parseFloat(s.total),0),products:d}),b.length>0&&v.push({heading:"Extra Fees",total:E,products:b}),t.length>0&&v.push({heading:"Discount",total:`-${g}`,products:t.map(n=>({name:n.Title,total:`-${g}`}))}),{products:d,subTotal:x,discountPrice:g,extraPayments:b,total:L,feesCurrency:U,discounts:t,orders:v}}export{z as F,Y as a,q as b,Q as c,G as d};
