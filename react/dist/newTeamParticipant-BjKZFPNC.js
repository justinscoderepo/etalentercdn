import{r as c,j as r,L as z,R as T,b as G}from"./mainweb-DLytOzeA.js";import{u as H}from"./index.esm-C4_elKCB.js";import{h as A}from"./publicRegistrationHelper-rR_ed_3i.js";import K from"./modalForm-B_nUZsYA.js";import"./httpService-Dtbvl9Ps.js";import"./index-t--hEgTQ.js";import"./PencilIcon-DriL9zMZ.js";import"./dialog-ggJXrdBE.js";import"./keyboard-DtRAc72Y.js";import"./XMarkIcon-Bp1Br9cy.js";const W=T.lazy(()=>G(()=>import("./renderComponents-Dlu8lcKd.js"),[]));function de({groupId:Y,eventDetails:u,open1:L,setOpen1:b,ageWiseGroup:q,setAgeFilter:B,candidateId:x,selectedParticipantDetails:n,saveParticipantDetails:_,levels:y}){var C,N,M,v;console.log({levels:y});const{control:k,register:E,handleSubmit:I,clearErrors:S,reset:w,getValues:p,setValue:j,formState:{errors:J}}=H({pricingModel:null});let i=p(),[P,R]=c.useState({...i});const[O,Q]=c.useState(!1);let[X,Z]=c.useState(null);const h=u==null?void 0:u.JsonSettings;(C=n==null?void 0:n.user)==null||C.JsonSettings;const d=h!=null&&h!==""?JSON.parse(h):{components:[]},l=Array.isArray(d.components)?d.components:((N=d.components)==null?void 0:N["Team Member Profile"])??[];let U=async o=>{let t=["name","email","phone","mobile","dobString","profilePicture","uId"],m=A(o,l,t),f=A(o,l,[],t),s={...m};s.LevelSettings=y,s.JsonSettings=JSON.stringify({...f}),_(s)},e=p();e!=null&&e.name&&(e!=null&&e.email)&&(e!=null&&e.mobile)&&(e!=null&&e.phoneNumber)&&(e!=null&&e.dob)&&(e!=null&&e.group)&&(e!=null&&e.ProfilePicture)&&x>0,((M=d==null?void 0:d.AdditionalSettings)==null?void 0:M.IsPhotoMandatoryForCandidate)=="Yes";let a=[...l];return i&&(l==null?void 0:l.length)>0&&(a=a.filter(o=>{var m;let t=(m=o.conditions)==null?void 0:m.filter(f=>f.key);return(t==null?void 0:t.length)>0?!!t.find(s=>{if(s.key){let V=s.key.charAt(0).toLowerCase()+s.key.slice(1),g=i[s.key]||i[V];if(g&&(g==null?void 0:g.toString())==s.value)return!0}}):!0})),r.jsx(K,{zIndex:999999,setOpen:()=>{S(),w(),b(!1)},open:L,title:x?"Update Participant - "+((v=n==null?void 0:n.user)!=null&&v.UserName?n.user.UserName:""):"Create New Participant",children:r.jsx(r.Fragment,{children:r.jsx(r.Fragment,{children:r.jsx("div",{children:O?r.jsx(z,{}):r.jsxs("div",{className:"mt-4 px-4 md:px-0",children:[r.jsx(W,{eventDetails:u,components:a,register:E,errors:J,control:k,setValue:j,getValues:p,formData:i,onChangeValue:(o,t)=>{j(o,t),R({...i,[o]:t})},isSubmitted:!1,isOver:!1,handleSelect:o=>{}}),r.jsxs("div",{className:"px-1 py-3 text-right sm:px-2",children:[r.jsx("button",{type:"button",onClick:()=>{b(!1),S(),w()},className:"inline-flex justify-center rounded-md border border-warning text-warning bg-white py-2 hover:bg-warning hover:text-primaryHover focus:ring-orange-600 disabled:bg-lightcharcoal disabled:text-charcoal disabled:border-lightcharcoal px-5 text-sm font-semibold  shadow-sm  focus:outline-none focus:ring-2 focus:ring-offset-2  disabled:shadow-none mr-2 mb-2",children:"Close"}),r.jsx("button",{type:"button",onClick:o=>{I(U)(o)},className:"inline-flex justify-center rounded-md border border-primary text-white bg-primary py-2 hover:bg-primary hover:text-white focus:ring-blue-700 disabled:bg-lightcharcoal disabled:text-charcoal disabled:border-lightcharcoal px-5 text-sm font-semibold  shadow-sm  focus:outline-none focus:ring-2 focus:ring-offset-2  disabled:shadow-none  mr-2 mb-2",children:"Save"})]})]})})})})})}export{de as default};
