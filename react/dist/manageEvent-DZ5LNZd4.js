import{r,j as e,_ as h}from"./mainweb-kN1oebse.js";import{B as X}from"./box-B9X7ci-5.js";import{c as g}from"./utilities-CN4lTu6a.js";import{F as I}from"./formEditor-Dk3zRhyq.js";import{u as ee}from"./useBackend-BGka5jsl.js";import{p as S}from"./httpService-DyKyZ8oa.js";import{C as te,u as _}from"./index.esm-BuJAcgf9.js";import{V as y}from"./validationMessage-DAO5uisb.js";import{F as ae}from"./ChatBubbleBottomCenterTextIcon-CzKiBiS7.js";import{F as re}from"./UserGroupIcon-B9QYFFi7.js";function ne({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),r.createElement("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"}))}const P=r.forwardRef(ne);function le({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M8 16.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"}),r.createElement("path",{fillRule:"evenodd",d:"M4 4a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V4Zm4-1.5v.75c0 .414.336.75.75.75h2.5a.75.75 0 0 0 .75-.75V2.5h1A1.5 1.5 0 0 1 14.5 4v12a1.5 1.5 0 0 1-1.5 1.5H7A1.5 1.5 0 0 1 5.5 16V4A1.5 1.5 0 0 1 7 2.5h1Z",clipRule:"evenodd"}))}const Z=r.forwardRef(le);function se({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M7 3.5A1.5 1.5 0 0 1 8.5 2h3.879a1.5 1.5 0 0 1 1.06.44l3.122 3.12A1.5 1.5 0 0 1 17 6.622V12.5a1.5 1.5 0 0 1-1.5 1.5h-1v-3.379a3 3 0 0 0-.879-2.121L10.5 5.379A3 3 0 0 0 8.379 4.5H7v-1Z"}),r.createElement("path",{d:"M4.5 6A1.5 1.5 0 0 0 3 7.5v9A1.5 1.5 0 0 0 4.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-5.879a1.5 1.5 0 0 0-.44-1.06L9.44 6.439A1.5 1.5 0 0 0 8.378 6H4.5Z"}))}const ie=r.forwardRef(se);function oe({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M3 4a2 2 0 0 0-2 2v1.161l8.441 4.221a1.25 1.25 0 0 0 1.118 0L19 7.162V6a2 2 0 0 0-2-2H3Z"}),r.createElement("path",{d:"m19 8.839-7.77 3.885a2.75 2.75 0 0 1-2.46 0L1 8.839V14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.839Z"}))}const C=r.forwardRef(oe);function ce({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06l14.5 14.5a.75.75 0 1 0 1.06-1.06l-1.745-1.745a10.029 10.029 0 0 0 3.3-4.38 1.651 1.651 0 0 0 0-1.185A10.004 10.004 0 0 0 9.999 3a9.956 9.956 0 0 0-4.744 1.194L3.28 2.22ZM7.752 6.69l1.092 1.092a2.5 2.5 0 0 1 3.374 3.373l1.091 1.092a4 4 0 0 0-5.557-5.557Z",clipRule:"evenodd"}),r.createElement("path",{d:"m10.748 13.93 2.523 2.523a9.987 9.987 0 0 1-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 0 1 0-1.186A10.007 10.007 0 0 1 2.839 6.02L6.07 9.252a4 4 0 0 0 4.678 4.678Z"}))}const de=r.forwardRef(ce);function me({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"}),r.createElement("path",{fillRule:"evenodd",d:"M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z",clipRule:"evenodd"}))}const ue=r.forwardRef(me);function pe({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"}),r.createElement("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"}))}const xe=r.forwardRef(pe);function he({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M19.5 21a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-5.379a.75.75 0 0 1-.53-.22L11.47 3.66A2.25 2.25 0 0 0 9.879 3H4.5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h15Zm-6.75-10.5a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V10.5Z",clipRule:"evenodd"}))}const ge=r.forwardRef(he);function fe({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const ve=r.forwardRef(fe);function be({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),r.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))}const we=r.forwardRef(be);function ye({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const je=r.forwardRef(ye);function Ee({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Ne=r.forwardRef(Ee),b=[{text:"Yes",value:"1"},{text:"No",value:"2"}],V=[{name:"EventName",label:"Event Name",type:"text",validate:{required:!0,minLength:3,maxLength:100}},{name:"OrganizationName",label:"Organization Name",type:"text",validate:{required:!0,minLength:2,maxLength:100}},{name:"Venue",label:"Venue",type:"htmlEditor",validate:{required:!0,minLength:2,maxLength:2e3}},{name:"Description",label:"Description",type:"markdownEditor",validate:{maxLength:4e3}},{name:"StartDateString",label:"Start Date",type:"normalDate",maxDate:new Date(new Date().getFullYear()+5,11,31),minDate:new Date(new Date().getFullYear()-5,0,1),validate:{required:!0}},{name:"EndDateString",label:"End Date",type:"normalDate",maxDate:new Date(new Date().getFullYear()+5,11,31),minDate:new Date(new Date().getFullYear()-5,0,1),validate:{required:!0}},{name:"OrganizationLogo",label:"Organization Logo",type:"image-upload",validate:{required:!0}},{name:"EventLogo",label:"Event Logo",type:"image-upload",validate:{required:!0}},{name:"IdentityBackgroundImage",label:"Background Image",type:"image-upload",validate:{required:!0}},{name:"AllowOrganizationId",label:"Allow Organization Id",type:"select",options:b},{name:"Shared",label:"Shared",type:"select",options:b},{name:"AllowRegistrationId",label:"Allow Registration Id",type:"select",options:b},{name:"AllowRegistrationFees",label:"Allow Registration Fees",type:"select",options:b},{name:"AllowGrades",label:"Grade",type:"select",options:b,validate:{required:!0}},{name:"AllowAwards",label:"Allow Awards",type:"select",options:b},{name:"AllowDisplayCompetitionOrder",label:"Allow Display Competition Order",type:"select",options:b,validate:{required:!0}},{name:"AllowSubCoOrdinators",label:"Allow SubCoOrdinators",type:"select",options:b,validate:{required:!0}}],q="Edit Event Details",$="Update the event information below.",Se=()=>{const t=ee("/EventJson/Get",{filter:{},updateUrl:"/EventJson/Save",limit:10,sort:{},select:"EventName,EVId,OrganizationName,Venue,StartDateString,EndDateString,OrganizationShortName,Description,OrganizationLogo,EventLogo,IdentityBackgroundImage,AllowOrganizationId,Shared,AllowRegistrationId,AllowRegistrationFees,AllowGrades,AllowAwards,AllowDisplayCompetitionOrder,AllowSubCoOrdinators"}),[a,l]=r.useState(!1);let{row:n,update:i}=t;n?.StartDateString.indexOf(" ")>-1&&(n.StartDateString=n.StartDateString.split(" ")[0],n.EndDateString=n.EndDateString.split(" ")[0]);const o=async m=>{try{await i(m),h.success("Event data saved successfully"),l(!1)}catch(s){h.error(s.message),console.error("Error updating event:",s)}},d=()=>{l(!1)};return e.jsxs("div",{className:"bg-white rounded shadow p-6 w-full max-w-4xl flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Event Information"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detailed information about the event."})]}),e.jsxs("button",{className:"btn btn-success flex items-center gap-2",onClick:()=>l(!a),children:[e.jsx(xe,{className:"w-5 h-5"}),a?"Cancel":"Edit"]})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-100",children:[e.jsx(I,{description:$,noModal:!0,viewMode:!0,title:q,row:n,fields:V}),a&&e.jsx(I,{description:$,title:q,row:n,fields:V,onSave:o,onCancel:d})]})]})},ke=()=>{const[t,a]=r.useState(!1),[l,n]=r.useState(!1),[i,o]=r.useState(""),[d,m]=r.useState(!1),[s,c]=r.useState(!1),x=async()=>{await S("/backupJson/BackupFullSetup",{schedule:t}),h.success("Mail Full Backup initiated"+(t?" (Scheduled daily backup enabled)":""))},f=async()=>{await S("/backupJson/BackupResultSetup",{schedule:l}),h.success("Mail Result Backup initiated"+(l?" (Scheduled hourly backup enabled)":""))},E=async()=>{m(!0);try{await S("/SetupJson/SetupDuplicateEvent",{email:i||void 0,allowExportOrganizations:s}),h.success(i?`Event duplicated and assigned to ${i}`:"Event duplicated in your own account")}catch{h.error("Failed to duplicate event")}m(!1)};return e.jsxs("div",{className:"w-full max-w-3xl mx-auto flex flex-col gap-8",children:[e.jsxs("section",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Email Full Backup Now"}),e.jsx("p",{className:"mb-2 text-xs text-darkprimary",children:"Send a full backup of all event data to your email, or enable daily scheduled backup for automatic delivery."}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{}),e.jsx("div",{className:"justify-end flex",children:e.jsxs("button",{className:"inline-flex items-center gap-x-2 rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary w-fit",onClick:x,children:[e.jsx(C,{className:"-mr-0.5 h-5 w-5"}),"Send Full Backup Now"]})})]})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Mail Result Backup"}),e.jsx("p",{className:"mb-2 text-xs text-darkprimary",children:"Send only the event results to your email, or enable hourly scheduled backup during event days for automatic delivery."}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{}),e.jsx("div",{className:"justify-end flex",children:e.jsxs("button",{className:"inline-flex items-center gap-x-2 rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary w-fit",onClick:f,children:[e.jsx(C,{className:"-mr-0.5 h-5 w-5"}),"Send Result Backup Now"]})})]})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Duplicate Event"}),e.jsx("p",{className:"mb-2 text-xs text-darkprimary",children:"Duplicate this event in your own account, or assign the duplicate to another email address below. Duplicated event will contain all event settings. Optionally, you can allow exporting organizations."}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"py-4",children:[e.jsx("label",{className:"block font-semibold text-xs text-darkprimary mb-1",htmlFor:"duplicateEmail",children:"Assign duplicated event to a different user (optional)"}),e.jsx("input",{id:"duplicateEmail",type:"email",className:"border border-gray-300 rounded-md px-3 py-1.5 text-xs w-full focus:outline-none focus:ring-2 focus:ring-primary transition",placeholder:"Enter email to assign duplicate (optional)",value:i,onChange:u=>o(u.target.value)})]}),e.jsx("div",{className:"py-2",children:e.jsxs("label",{className:"flex items-center text-xs text-darkprimary",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:u=>c(u.target.checked),className:"accent-primary"}),e.jsx("span",{className:"ml-2",children:"Allow export organizations with duplicated event"})]})}),e.jsx("div",{className:"justify-end flex",children:e.jsxs("button",{className:"inline-flex items-center gap-x-2 rounded-md bg-yellow-500 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-yellow-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:opacity-60 w-fit",onClick:E,disabled:d,children:[e.jsx(ie,{className:"-mr-0.5 h-5 w-5"}),d?"Duplicating...":"Duplicate Event"]})})]}),e.jsx("blockquote",{className:"border-l-4 border-primary pl-4 p-2 italic text-xs text-darkprimary",children:e.jsx("span",{className:"text-xs text-darkprimary mt-2 block",children:"If no email is provided, the event will be duplicated in your own account."})})]})]})},j=({fieldName:t,label:a,placeholder:l,errors:n,register:i,formData:o,optional:d,maxLength:m,onChange:s,type:c,pattern:x,minLength:f,autocomplete:E,step:u,disabled:p,max:N,labelFont:z,noLabel:J,readonly:Y,validate:M,component:k,isCoordinatorView:F})=>{let U=n?.[t],[v,A]=r.useState(U);v&&console.log("error",v),r.useEffect(()=>{A(n?.[t])},[n?.[t]]);let G=t.includes("."),D=t.split(".")[0],L=n?.[D],B=L?t.split(".")[1]:null;r.useEffect(()=>{if(G){let w=L?.[B];A(w||"")}},[n?.[D],[n?.[D]?.[B]]]);const[R,W]=r.useState(!1),K=()=>{W(!R)};return e.jsxs("div",{className:"sm:col-span-4",children:[e.jsxs("label",{htmlFor:t,className:g(z||"block text-sm font-medium leading-6 ",v?"text-danger":"text-gray-900"),children:[J?"":a||t,!d&&e.jsx("span",{className:"text-danger pl-1",children:"*"})]}),e.jsxs("div",{className:g("relative rounded-md shadow-sm flex",p?"":"mt-2"),children:[c=="email"&&e.jsx("div",{className:g("pointer-events-none absolute inset-y-0 left-0 flex items-center",p?"":"pl-3"),children:e.jsx(C,{"aria-hidden":"true",className:"h-5 w-5 "+(v?"text-red-400":"text-gray-400")})}),c=="phone"&&e.jsx("div",{className:g("pointer-events-none absolute inset-y-0 left-0 flex items-center",p?"":"pl-3"),children:e.jsx(Z,{"aria-hidden":"true",className:"h-5 w-5 "+(v?"text-red-400":"text-gray-400")})}),p?e.jsx("div",{className:g(c==="email"||c==="phone"?"pl-7":"pl-0","block w-full py-1.5 print:py-1 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",p?"text-gray-500":""),children:o?.[t]??"-"}):e.jsx("input",{type:R?"text":c==="password"&&!R?"password":c?.toLowerCase()||"text",readOnly:Y,step:u||null,...i(t,{required:!d,maxLength:m||200,pattern:x||null,minLength:f||0,max:N||null,validate:w=>{if(M)return M(w);if(k?.reEnterFieldName){let Q=k.reEnterFieldName.charAt(0).toLowerCase()+k.reEnterFieldName.slice(1);var O=o[Q];if(O||(O=o[k.reEnterFieldName]),w!==O)return"Value does not match"}return!0}}),onChange:w=>{s&&s(w),A("")},disabled:p,autoComplete:E||"off",className:g(c==="email"||c==="phone"?"pl-10":"pl-3","block w-full rounded-md border-0 py-1.5 ring-1 ring-inset  focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",v?"border-danger focus:border-danger focus:ring-0 focus:ring-red-700 placeholder:text-red-400 ring-red-300 ":"text-gray-900  focus:border-darkprimary focus:ring-0 placeholder:text-gray-400 ring-gray-300 ",p?"bg-gray-200 text-gray-500":""),placeholder:l||"Enter "+a}),c==="password"&&e.jsx("span",{className:"absolute right-0 top-0 ml-2 cursor-pointer bg-gray-100 m-2",onClick:K,children:R?e.jsx(de,{className:"h-5 w-5 text-gray-600 bg-gray-100"}):e.jsx(ue,{className:"h-5 w-5 text-gray-600 bg-gray-100"})}),F&&c==="phone"&&e.jsx("a",{target:"_new",href:`https://wa.me/${o?.[t]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(ae,{className:"h-4 w-4 inline-block text-gray-400"})})}),F&&c==="phone"&&o?.[t]&&e.jsx("a",{target:"_new",href:`tel:${o?.[t]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(Z,{className:"h-4 w-4 inline-block text-gray-400"})})}),F&&c==="email"&&o?.[t]&&e.jsx("a",{target:"_new",href:`mailto:${o?.[t]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(C,{className:"h-4 w-4 inline-block text-gray-400"})})})]}),v&&e.jsx("div",{children:(()=>{switch(v.type){case"required":return e.jsx(y,{message:a+" is required"});case"maxLength":return e.jsx(y,{message:"Max length is "+m});case"max":return e.jsx(y,{message:"Value must be less or equal than "+N});case"minLength":return e.jsx(y,{message:"Min length is "+f});case"pattern":return e.jsx(y,{message:"Format of this field is not valid"});case"validate":return e.jsx(y,{message:v.message})}})()})]})},He=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),T=({control:t,fieldName:a,label:l,errors:n,formData:i,optional:o,onChange:d,disabled:m,outerClass:s,labelClass:c})=>{let x=n?.[a],[f,E]=r.useState(x),u=i?.[a]==!0;return r.useEffect(()=>{E(n?.[a])},[n?.[a]]),r.useEffect(()=>{try{if(a.length<20){let p=document.querySelector(`input[name='${a}']`);p&&(p.checked=u,d&&d(u))}}catch{}},[u]),e.jsxs("div",{className:"",children:[e.jsx("div",{className:s||"flex gap-3",children:m?e.jsx("div",{className:"",children:e.jsxs("label",{className:"block text-sm font-medium leading-6",children:[l||a," :",e.jsxs("span",{className:"font-normal",children:[" ",u?"Yes":"No"," "]})]})}):e.jsx(te,{name:a,control:t,value:u,rules:{required:!o},render:({field:p})=>e.jsx("div",{className:"",children:e.jsxs("label",{className:c||"flex",children:[e.jsx("input",{type:"checkbox",...p,disabled:m,onChange:N=>{d&&d(N.target.checked),p.onChange(N.target.checked),E("")},defaultChecked:u==!0,value:u,className:g(" h-5 w-5 optiontext-darkprimary ",f?"border-red-300  text-red-600 focus:ring-red-800":m?"bg-gray-200 text-gray-500":"focus:ring-darkprimary text-primary border-gray-300")}),e.jsxs("span",{className:"ml-2 text-xs font-medium leading-5 select-none "+(f?"text-danger":"text-gray-900"),children:[l||a,!o&&e.jsx("span",{className:"font-bold text-base leading-4",children:"*"})]})]})})})}),f&&e.jsx(y,{message:"This field is required"})]})},_e=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));function Ae(){const{register:t,handleSubmit:a,formState:{errors:l,isSubmitting:n},control:i,getValues:o}=_({defaultValues:{eventName:"",coordinatorEmail:"",organizationName:""}});let d=o();const m=async s=>{if(!s.eventName||!s.coordinatorEmail||!s.organizationName){h.error("Please enter event name, coordinator email, and organization name before importing.");return}try{await S("/SetupJson/ImportEventSettings",{eventName:s.eventName,coordinatorEmail:s.coordinatorEmail,organizationName:s.organizationName}),h.success("Event settings imported successfully.")}catch{h.error("Import failed. Please check your details and try again.")}};return e.jsxs("section",{className:"bg-white rounded-xl shadow-sm p-5 mb-8",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Import Event Settings"}),e.jsx("p",{className:"mb-4 text-xs text-darkprimary",children:"Enter the event name, coordinator email, and organization name of the source event to import its settings into the current event."}),e.jsx("form",{onSubmit:a(m),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{children:e.jsx(j,{fieldName:"eventName",label:"Event Name",placeholder:"Type the event name here",register:t,errors:l,control:i,formData:d,maxLength:100,minLength:3,optional:!1})}),e.jsx("div",{children:e.jsx(j,{fieldName:"coordinatorEmail",label:"Event Coordinator Email",placeholder:"Type the coordinator's email address",register:t,errors:l,control:i,formData:d,type:"email",optional:!1})}),e.jsx("div",{children:e.jsx(j,{fieldName:"organizationName",label:"Organization Name",placeholder:"Type the organization name here",register:t,errors:l,control:i,formData:d,maxLength:100,minLength:2,optional:!1})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{type:"submit",className:g("inline-flex items-center gap-x-2 rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",n&&"opacity-60 cursor-not-allowed"),disabled:n,children:[e.jsx(P,{className:"-mr-0.5 h-5 w-5"}),n?"Importing...":"Import Event Settings"]})})]})})]})}function Re(){const{register:t,handleSubmit:a,formState:{errors:l,isSubmitting:n},control:i,getValues:o,setValue:d,watch:m}=_({defaultValues:{eventName:"",coordinatorEmail:"",organizationName:"",includeCandidates:!1}});let s=o();m("includeCandidates");const c=async x=>{if(!x.eventName||!x.coordinatorEmail||!x.organizationName){h.error("Please enter event name, coordinator email, and organization name before importing organizations.");return}try{await S("/SetupJson/ImportOrganizations",{eventName:x.eventName,coordinatorEmail:x.coordinatorEmail,organizationName:x.organizationName,includeCandidates:x.includeCandidates}),h.success("Organizations imported successfully.")}catch{h.error("Import failed. Please check your details and try again.")}};return e.jsxs("section",{className:"bg-white rounded-xl shadow-sm p-5 mb-8",children:[e.jsx("div",{className:"border-b-[#4852573e] text-[#206689] mb-4 items-center font-medium pb-1 px-1 w-full uppercase border-b text-sm",children:"Import Organizations"}),e.jsx("p",{className:"mb-4 text-xs text-darkprimary",children:"Enter the event name, coordinator email, and organization name to import organizations into the current event."}),e.jsx("form",{onSubmit:a(c),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{children:e.jsx(j,{fieldName:"eventName",label:"Event Name",placeholder:"Type the event name here",register:t,errors:l,control:i,formData:s,maxLength:100,minLength:3,optional:!1})}),e.jsx("div",{children:e.jsx(j,{fieldName:"coordinatorEmail",label:"Event Coordinator Email",placeholder:"Type the coordinator's email address",register:t,errors:l,control:i,formData:s,type:"email",optional:!1})}),e.jsx("div",{children:e.jsx(j,{fieldName:"organizationName",label:"Organization Name",placeholder:"Type the organization name here",register:t,errors:l,control:i,formData:s,maxLength:100,minLength:2,optional:!1})}),e.jsx("div",{children:e.jsx(T,{fieldName:"includeCandidates",label:"Include candidates while importing organizations",control:i,register:t,formData:s,optional:!0})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{type:"submit",className:g("inline-flex items-center gap-x-2 rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",n&&"opacity-60 cursor-not-allowed"),disabled:n,children:[e.jsx(P,{className:"-mr-0.5 h-5 w-5"}),n?"Importing...":"Import Organizations"]})})]})})]})}const Ce=()=>e.jsxs("div",{className:"w-full max-w-3xl mx-auto flex flex-col gap-8",children:[e.jsx(Ae,{}),e.jsx(Re,{})]}),H=[{name:"Update Event Details",href:"#",icon:we},{name:"Age Limitations",href:"#",icon:re},{name:"Competition Items",href:"#",icon:ve},{name:"Import Data",href:"#",icon:je},{name:"Export Data",href:"#",icon:ge}];function Fe({tabs:t,currentTab:a,setCurrentTab:l}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:hidden",children:[e.jsx("select",{value:a,"aria-label":"Select a tab",onChange:n=>l(n.target.value),className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-2 pl-3 pr-8 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600",children:t.map(n=>e.jsx("option",{value:n.name,children:n.name},n.name))}),e.jsx(Ne,{"aria-hidden":"true",className:"pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end fill-gray-500"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:t.map(n=>e.jsxs("a",{href:n.href,"aria-current":a===n.name?"page":void 0,onClick:i=>{i.preventDefault(),l(n.name)},className:g(a===n.name?"border-darkprimary text-darkprimary":"border-transparent text-gray-400 hover:border-gray-300 hover:text-gray-700","group inline-flex items-center border-b-2 px-3 py-2 text-xs font-medium"),children:[e.jsx(n.icon,{"aria-hidden":"true",className:g(a===n.name?"text-darkprimary":"text-gray-500 group-hover:text-gray-500","-ml-0.5 mr-2 size-4")}),e.jsx("span",{children:n.name})]},n.name))})})}),e.jsxs("div",{className:"pt-10 flex flex-col",children:[a==="Update Event Details"&&e.jsx(Se,{}),a==="Age Limitations"&&e.jsx("div",{children:"Coming Soon: Age Limitations"}),a==="Competition Items"&&e.jsx("div",{children:"Coming Soon: Competition Items"}),a==="Import Data"&&e.jsx(Ce,{}),a==="Export Data"&&e.jsx(ke,{})]})]})}function De(){const[t,a]=r.useState(H[0].name);return e.jsx(X,{heading:"Manage Event Details",children:e.jsx("div",{className:"flex flex-col mt-5",children:e.jsx(Fe,{tabs:H,currentTab:t,setCurrentTab:a})})})}const Pe=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"}));export{C as F,j as T,Z as a,ue as b,de as c,_e as d,Pe as m,He as t};
