import{r as c,p as R}from"./mainweb-DwlsqqgG.js";function Z({title:n,titleId:i,...l},t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),n?c.createElement("title",{id:i},n):null,c.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const _=c.forwardRef(Z);function J({title:n,titleId:i,...l},t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),n?c.createElement("title",{id:i},n):null,c.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const H=c.forwardRef(J);function B({title:n,titleId:i,...l},t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),n?c.createElement("title",{id:i},n):null,c.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"}))}const N=c.forwardRef(B);function L({title:n,titleId:i,...l},t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),n?c.createElement("title",{id:i},n):null,c.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const K=c.forwardRef(L);function Y(n,i,l){var E,x,f,I,A,T;l!=null&&l.RegistrationId&&!(l!=null&&l.registrationId)&&(l.registrationId=l.RegistrationId);const t=l?Object.keys(l).filter(e=>e.includes("extra_payment_")):[],g=n==null?void 0:n.AdditionalSettings,u=(x=(E=n==null?void 0:n.components)==null?void 0:E.User)==null?void 0:x.find(e=>e.type==="RegistrationIdBox"),v=g==null?void 0:g.EligibleRegistrationNumbers;let a=[];if(((f=l==null?void 0:l.teamMembers)==null?void 0:f.length)>0&&((I=n==null?void 0:n.AdditionalSettings)==null?void 0:I.AllowTeamDiscountIfCaptainIsEligible)==="Yes"){const e=(A=l==null?void 0:l.teamMembers)==null?void 0:A.find(d=>d.Designation===4),s=R(e==null?void 0:e.UserJsonSettings),o=R(e==null?void 0:e.JsonSettings);l={...l,...s,...o,...e},l.registrationId=e==null?void 0:e.RegistrationId}const M=v==null?void 0:v.find(e=>e.RegistrationNumber===((l==null?void 0:l.registrationId)??"-"));let P=u!=null&&u.conditions?u.conditions.every(e=>{var d,$;const s=l[`${e.key.charAt(0).toLowerCase()}${e.key.slice(1)}`],o=l[e.key];return(s==null?void 0:s.toString())===((d=e.value)==null?void 0:d.toString())||(o==null?void 0:o.toString())===(($=e.value)==null?void 0:$.toString())}):!0;if(M&&P&&(u!=null&&u.discountPercentage)){const e=parseFloat(u.discountPercentage);a.push({Title:u.discountTitle,DiscountPercent:e})}const b=i.reduce((e,s)=>e+parseFloat(s.Fees),0),r=i.map(e=>({name:`${e.Title} - ${e.CompetitionCategoryName}`,total:e.Fees})),h=t.flatMap(e=>{const s=R(l[e]);return Object.entries(s).filter(([o,d])=>d.checked).map(([o,d])=>({name:o,total:d.fees}))}),y=h.reduce((e,s)=>e+parseFloat(s.total),0);let p=0;if(a.length>0){const e=a[0],s=parseFloat(e.DiscountPercent);p=b*s/100}const C=b+y,k=C-p,O=((T=n==null?void 0:n.AdditionalSettings)==null?void 0:T.FeesCurrency)??"USD",w=[];return r.length>0&&w.push({heading:"Competitions Fees",total:r.reduce((e,s)=>e+parseFloat(s.total),0),products:r}),h.length>0&&w.push({heading:"Extra Fees",total:y,products:h}),a.length>0&&w.push({heading:"Discount",total:`-${p}`,products:a.map(e=>({name:e.Title,total:`-${p}`}))}),{products:r,subTotal:C,discountPrice:p,extraPayments:h,total:k,feesCurrency:O,discounts:a,orders:w}}export{N as F,_ as a,H as b,Y as c,K as d};
