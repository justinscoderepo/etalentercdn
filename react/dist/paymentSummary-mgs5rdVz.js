import{r as o,j as e}from"./main-BxwnD9jH.js";import{c as E}from"./computeTotalAmount-Brka3pgR.js";const G=({fieldName:n,label:f,errors:x,register:T,control:D,setValue:N,formData:b,eventDetails:v,competitions:F,participantsList:m,onChange:w,disabled:J,selectedCompetitions:S})=>{let j={...b},A=x?.[n],[M,C]=o.useState(A);o.useEffect(()=>{C(x?.[n])},[x?.[n]]);let I=m?.map(t=>t.Competition)??[],[O,$]=o.useState(I),P=function(t){t.forEach(l=>{let d=`competitionCheckBox_${l.Competition}`,c=document.querySelector(`input[name='${d}']`);c&&(c.checked=!0,w&&N(d,!0))})};o.useEffect(()=>{m?.length>0&&P(m)},[m]);let p=F??[];p=p.filter(t=>S.includes(t.CompetitionStructureId));let h=JSON.parse(v?.JsonSettings??"{}");j?.participantType=="Individual"?h?.AdditionalSettings?.MaximumParticipationPerCandidate:h?.AdditionalSettings?.MaximumParticipationPerGroup;let{total:k,feesCurrency:a,orders:g}=E(h,p,j);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"py-4 print:py-1",children:[e.jsx("div",{className:"mx-auto",children:e.jsx("div",{className:"mx-auto lg:px-0",children:e.jsx("h1",{className:"mt-2 text-sm font-bold whitespace-break-spaces tracking-tight text-gray-900 sm:text-base",children:f??n})})}),e.jsx("div",{className:"mt-2 print:mt-0",children:e.jsx("div",{className:"mx-auto ",children:e.jsx("div",{className:"mx-auto ",children:g.map((t,l)=>{const d=t.products?.reduce((s,i)=>s+parseFloat(i.total||0),0)||parseFloat(t.total),c=t.products?.reduce((s,i)=>{const r=parseFloat(i.total||0),u=parseFloat(i.discountAmount||0);return s+(r-u)},0)||parseFloat(t.total),y=t.heading==="Competitions Fees"&&t.products?.some(s=>s.discountAmount&&parseFloat(s.discountAmount)>0);return e.jsxs("div",{className:"border-b border-t border-gray-200 bg-white  print:border-none print:shadow-none shadow-sm rounded-lg border  mt-6",children:[e.jsx("div",{className:"flex flex-col border-b border-gray-200 p-4 print:p-0 print:border-0 border-l-2 border-l-gray-500 ",children:e.jsxs("dl",{className:"flex space-x-2 justify-between items-center",children:[e.jsx("div",{children:e.jsx("dt",{className:"font-medium text-amber-900",children:t.heading})}),e.jsx("div",{children:e.jsx("dd",{className:"mt-1  print:mt-0  text-gray-500",children:e.jsx("p",{className:"fees text-md mt-2 print:mt-0 text-gray-600",children:e.jsx("b",{children:e.jsxs("i",{className:"text-green-700 font-medium",children:[y&&e.jsxs("span",{className:"line-through text-gray-400 mr-2",children:[d.toFixed(3),a]}),e.jsxs("span",{className:y?"text-green-600":"",children:[c.toFixed(3),a]})]})})})})})]})}),e.jsx("h4",{className:"sr-only",children:"Items"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200 px-4  print:px-0",children:t.products?.map((s,i)=>{const r=s.discountAmount&&parseFloat(s.discountAmount)>0,u=r?(parseFloat(s.total)-parseFloat(s.discountAmount)).toFixed(3):null;return e.jsx("li",{className:"py-4 print:py-1",children:e.jsx("div",{className:"flex items-center sm:items-start",children:e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsxs("div",{className:"font-medium text-gray-600 sm:flex sm:justify-between",children:[e.jsx("h5",{children:s.name}),e.jsxs("p",{className:"mt-2 print:mt-0 sm:mt-0",children:[r&&e.jsxs("span",{className:"line-through text-gray-400 mr-2",children:[s.total,a]}),e.jsxs("span",{className:r?"text-green-600 font-semibold":"",children:[r?u:s.total,a]})]})]}),e.jsx("p",{className:"hidden text-gray-500 print:mt-0 sm:mt-2 sm:block",children:s.description})]})})},i)})})]},l)})})})}),e.jsx("section",{"aria-labelledby":"summary-heading",className:"mt-10 print:mt-2 justify-items-end sm:pl-6  print:mb-2",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:p-8  print:py-3 flex flex-wrap max-w-96",children:[e.jsx("h2",{id:"summary-heading",className:"sr-only",children:"Price summary"}),e.jsx("div",{className:"flow-root",children:e.jsxs("dl",{className:"-my-4 divide-y divide-gray-200 text-sm",children:[g.map((t,l)=>e.jsxs("div",{className:"flex gap-x-10 items-center justify-between py-4 print:py-0",children:[e.jsx("dt",{className:"text-gray-600",children:t.heading}),e.jsxs("dd",{className:"font-medium text-gray-900",children:[t.total,a]})]},l)),e.jsxs("div",{className:"flex items-center gap-x-10 justify-between py-4 print:py-0",children:[e.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total"}),e.jsxs("dd",{className:"text-base font-medium text-gray-900",children:[k,a]})]})]})})]})})]})})," "]})};export{G as default};
