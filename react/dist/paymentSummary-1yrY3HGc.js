import{r as x,j as e}from"./mainweb-h4V9e9SQ.js";import{c as P}from"./computeTotalAmount-Bd3v6rEV.js";const G=({fieldName:n,label:f,errors:t,register:A,control:F,setValue:g,formData:p,eventDetails:o,competitions:N,participantsList:l,onChange:b,disabled:T,selectedCompetitions:v})=>{var y,j;console.log({formData:p});let c={...p},w=t==null?void 0:t[n],[J,I]=x.useState(w);x.useEffect(()=>{I(t==null?void 0:t[n])},[t==null?void 0:t[n]]);let S=(l==null?void 0:l.map(s=>s.Competition))??[],[M,$]=x.useState(S),C=function(s){s.forEach(a=>{let i=`competitionCheckBox_${a.Competition}`,m=document.querySelector(`input[name='${i}']`);m&&(m.checked=!0,b&&g(i,!0))})};x.useEffect(()=>{(l==null?void 0:l.length)>0&&C(l)},[l]);let h=N??[];h=h.filter(s=>v.includes(s.CompetitionStructureId));let d=JSON.parse((o==null?void 0:o.JsonSettings)??"{}");(c==null?void 0:c.participantType)=="Individual"?(y=d==null?void 0:d.AdditionalSettings)==null||y.MaximumParticipationPerCandidate:(j=d==null?void 0:d.AdditionalSettings)==null||j.MaximumParticipationPerGroup;let{total:k,feesCurrency:r,orders:u}=P(d,h,c);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"py-4 print:py-1",children:[e.jsx("div",{className:"mx-auto",children:e.jsx("div",{className:"mx-auto lg:px-0",children:e.jsx("h1",{className:"mt-2 text-sm font-bold whitespace-break-spaces tracking-tight text-gray-900 sm:text-base",children:f??n})})}),e.jsx("div",{className:"mt-2 print:mt-0",children:e.jsx("div",{className:"mx-auto ",children:e.jsx("div",{className:"mx-auto ",children:u.map((s,a)=>{var i;return e.jsxs("div",{className:"border-b border-t border-gray-200 bg-white  print:border-none print:shadow-none shadow-sm rounded-lg border",children:[e.jsx("div",{className:"flex flex-col border-b border-gray-200 p-4 print:p-0 print:border-0 border-l-2 border-l-gray-500 ",children:e.jsxs("dl",{className:"flex space-x-2 justify-between items-center",children:[e.jsx("div",{children:e.jsx("dt",{className:"font-medium text-amber-900",children:s.heading})}),e.jsx("div",{children:e.jsx("dd",{className:"mt-1  print:mt-0  text-gray-500",children:e.jsx("p",{className:"fees text-md mt-2 print:mt-0 text-gray-600",children:e.jsx("b",{children:e.jsxs("i",{className:"text-green-700 font-medium",children:[s.total,r]})})})})})]})}),e.jsx("h4",{className:"sr-only",children:"Items"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200 px-4  print:px-0",children:(i=s.products)==null?void 0:i.map((m,E)=>e.jsx("li",{className:"py-4 print:py-1",children:e.jsx("div",{className:"flex items-center sm:items-start",children:e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsxs("div",{className:"font-medium text-gray-600 sm:flex sm:justify-between",children:[e.jsx("h5",{children:m.name}),e.jsxs("p",{className:"mt-2 print:mt-0 sm:mt-0",children:[m.total,r]})]}),e.jsx("p",{className:"hidden text-gray-500 print:mt-0 sm:mt-2 sm:block",children:m.description})]})})},E))})]},a)})})})}),e.jsx("section",{"aria-labelledby":"summary-heading",className:"mt-10 print:mt-2 justify-items-end sm:pl-6  print:mb-2",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:p-8  print:py-3 flex flex-wrap max-w-96",children:[e.jsx("h2",{id:"summary-heading",className:"sr-only",children:"Price summary"}),e.jsx("div",{className:"flow-root",children:e.jsxs("dl",{className:"-my-4 divide-y divide-gray-200 text-sm",children:[u.map((s,a)=>e.jsxs("div",{className:"flex gap-x-10 items-center justify-between py-4 print:py-0",children:[e.jsx("dt",{className:"text-gray-600",children:s.heading}),e.jsxs("dd",{className:"font-medium text-gray-900",children:[s.total,r]})]},a)),e.jsxs("div",{className:"flex items-center gap-x-10 justify-between py-4 print:py-0",children:[e.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total"}),e.jsxs("dd",{className:"text-base font-medium text-gray-900",children:[k,r]})]})]})})]})})]})}),"    "]})};export{G as default};
