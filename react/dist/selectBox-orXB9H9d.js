import{r as c,j as l,i as b}from"./main-jxF6ZGYK.js";import{V as Z}from"./validationMessage-D9rzYMil.js";function z({title:e,titleId:i,...m},t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},m),e?c.createElement("title",{id:i},e):null,c.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const H=c.forwardRef(z),Q=({fieldName:e,label:i,placeholder:m,errors:t,register:w,formData:d,optional:R,onChange:V,options:p,optionText:y,optionKey:g,optionIcon:s,groupText:k,groupIcon:E,disabled:h,readOnly:G,multiple:$,noLabel:M})=>{let A=t?.[e],[x,f]=c.useState(A);c.useEffect(()=>{f(t?.[e])},[t?.[e]]);let C=e.includes("."),j=e.split(".")[0],L=t?.[j],O=L?e.split(".")[1]:null;c.useEffect(()=>{if(C){let r=L?.[O];f(r||"")}},[t?.[j],[t?.[j]?.[O]]]);let q=C?e.replace(j+".",""):e,F=q.charAt(0).toLowerCase()+q.slice(1);console.log({formData:d});let v=d?.[F+"Name"]??d?.[F+"Title"]??d?.[F]??d?.[e];console.log({value:v});let S=p?.find(r=>r[g]?.toString()===v?.toString());return l.jsxs("div",{className:"w-full",children:[!M&&l.jsxs("label",{htmlFor:e,className:b("block text-sm font-medium leading-6 ",x?"text-danger":"text-gray-900"),children:[i||e,!R&&l.jsx("span",{className:"text-danger pl-1",children:"*"})]}),l.jsx("div",{className:b("relative rounded-md shadow-sm flex",h||M?"":"mt-2"),children:h?l.jsxs("div",{className:b("block w-full py-1.5 print:py-1 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",h?"text-gray-500":""),children:[s&&S?.[s]?`${S[s]} `:"",S?.[y]??v??"-"]}):l.jsxs(l.Fragment,{children:[l.jsxs("select",{...w?w(e,{required:!R}):{name:e},onChange:r=>{V&&V(r),f("")},disabled:h,multiple:$,readOnly:G,...!w&&{value:v},className:b("pl-3 pr-10 block w-full rounded-md border-0 py-1.5 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6","appearance-none",x?"border-danger focus:border-danger focus:ring-0 focus:ring-red-700 placeholder:text-red-400 ring-red-300 ":"text-gray-900 focus:border-darkprimary focus:ring-0 placeholder:text-gray-400 ring-gray-300 ",h?"bg-gray-200 text-gray-500":""),placeholder:m||"Enter "+i,children:[!$&&l.jsx("option",{value:"",children:m||"Please Select"}),k?(()=>{const r=[];let n=null,o="",u=[];return p?.forEach((a,P)=>{const B=a[k],W=E&&a[E]?a[E]:"";n!==B&&(n!==null&&u.length>0&&r.push(l.jsx("optgroup",{label:`${o?o+" ":""}${n}`,children:u},`group-${n}`)),n=B,o=W,u=[]),u.push(l.jsxs("option",{value:a[g],children:[s&&a[s]?`${a[s]} `:"",a[y]]},a[g])),P===p.length-1&&u.length>0&&r.push(l.jsx("optgroup",{label:`${o?o+" ":""}${n}`,children:u},`group-${n}`))}),r})():p?.map(r=>l.jsxs("option",{value:r[g],children:[s&&r[s]?`${r[s]} `:"",r[y]]},r[g]))]}),!$&&l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:l.jsx(H,{"aria-hidden":"true",className:"h-5 w-5 "+(x?"text-red-400":"text-gray-400")})})]})}),x&&l.jsx(Z,{message:"This field is required"})]})};export{Q as default};
