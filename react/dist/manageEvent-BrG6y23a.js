import{r as n,j as t}from"./mainweb-C-fYIVSe.js";import{B as w}from"./box-8Vs7llda.js";import{c as d}from"./utilities-CN4lTu6a.js";import{F as m}from"./formEditor-CxMkV9AF.js";import{u as y}from"./useBackend-JnmMr3HB.js";import{F as b}from"./UserGroupIcon-lsQA3Zy8.js";import"./index.esm-DMRRpLCA.js";import"./renderComponents-Bq3GeYZK.js";import"./index.modern-LU3-dINH.js";import"./modalForm-DeXzKW5P.js";import"./dialog-BRCG_XkL.js";import"./keyboard-Co2Qh0Xo.js";import"./XMarkIcon-KbAeszFw.js";import"./XCircleIcon-c4T_To7X.js";import"./httpService-fNHmhpQ8.js";import"./index-t--hEgTQ.js";function E({title:r,titleId:a,...l},e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M6 4.75A.75.75 0 0 1 6.75 4h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 4.75ZM6 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 10Zm0 5.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM1.99 4.75a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1v-.01ZM1.99 15.25a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1v-.01ZM1.99 10a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1V10Z",clipRule:"evenodd"}))}const D=n.forwardRef(E);function j({title:r,titleId:a,...l},e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{d:"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"}),n.createElement("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"}))}const v=n.forwardRef(j);function A({title:r,titleId:a,...l},e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const S=n.forwardRef(A),i=[{text:"Yes",value:"1"},{text:"No",value:"2"}],c=[{name:"EventName",label:"Event Name",type:"text",validate:{required:!0,minLength:3,maxLength:100}},{name:"OrganizationName",label:"Organization Name",type:"text",validate:{required:!0,minLength:2,maxLength:100}},{name:"Venue",label:"Venue",type:"htmlEditor",validate:{required:!0,minLength:2,maxLength:2e3}},{name:"Description",label:"Description",type:"markdownEditor",validate:{maxLength:4e3}},{name:"StartDateString",label:"Start Date",type:"normalDate",maxDate:new Date(new Date().getFullYear()+5,11,31),minDate:new Date(new Date().getFullYear()-5,0,1),validate:{required:!0}},{name:"EndDateString",label:"End Date",type:"normalDate",maxDate:new Date(new Date().getFullYear()+5,11,31),minDate:new Date(new Date().getFullYear()-5,0,1),validate:{required:!0}},{name:"OrganizationLogo",label:"Organization Logo",type:"image-upload",validate:{required:!0}},{name:"EventLogo",label:"Event Logo",type:"image-upload",validate:{required:!0}},{name:"IdentityBackgroundImage",label:"Background Image",type:"image-upload",validate:{required:!0}},{name:"AllowOrganizationId",label:"Allow Organization Id",type:"select",options:i},{name:"Shared",label:"Shared",type:"select",options:i},{name:"AllowRegistrationId",label:"Allow Registration Id",type:"select",options:i},{name:"AllowRegistrationFees",label:"Allow Registration Fees",type:"select",options:i},{name:"AllowGrades",label:"Grade",type:"select",options:i,validate:{required:!0}},{name:"AllowAwards",label:"Allow Awards",type:"select",options:i},{name:"AllowDisplayCompetitionOrder",label:"Allow Display Competition Order",type:"select",options:i,validate:{required:!0}},{name:"AllowSubCoOrdinators",label:"Allow SubCoOrdinators",type:"select",options:i,validate:{required:!0}}],u="Edit Event Details",p="Update the event information below.",N=()=>{const r=y("/EventJson/Get",{filter:{},updateUrl:"/EventJson/Save",limit:10,sort:{},select:"EventName,EVId,OrganizationName,Venue,StartDateString,EndDateString,OrganizationShortName,Description,OrganizationLogo,EventLogo,IdentityBackgroundImage,AllowOrganizationId,Shared,AllowRegistrationId,AllowRegistrationFees,AllowGrades,AllowAwards,AllowDisplayCompetitionOrder,AllowSubCoOrdinators"}),[a,l]=n.useState(!1);let{row:e,update:o}=r;e?.StartDateString.indexOf(" ")>-1&&(e.StartDateString=e.StartDateString.split(" ")[0],e.EndDateString=e.EndDateString.split(" ")[0]);const x=async h=>{try{await o(h),toast.success("Event data saved successfully"),l(!1)}catch(s){toast.error(s.message),console.error("Error updating event:",s)}},f=()=>{l(!1)};return t.jsxs("div",{className:"bg-white rounded shadow p-6 w-full max-w-4xl flex flex-col justify-between",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{className:"px-4 sm:px-0",children:[t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Event Information"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detailed information about the event."})]}),t.jsxs("button",{className:"btn btn-success flex items-center gap-2",onClick:()=>l(!a),children:[t.jsx(v,{className:"w-5 h-5"}),a?"Cancel":"Edit"]})]}),t.jsxs("div",{className:"mt-6 border-t border-gray-100",children:[t.jsx(m,{description:p,noModal:!0,viewMode:!0,title:u,row:e,fields:c}),a&&t.jsx(m,{description:p,title:u,row:e,fields:c,onSave:x,onCancel:f})]})]})},g=[{name:"Update Event Details",href:"#",icon:v},{name:"Age Limitations",href:"#",icon:b},{name:"Competition Items",href:"#",icon:D}];function O({tabs:r,currentTab:a,setCurrentTab:l}){return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 sm:hidden",children:[t.jsx("select",{value:a,"aria-label":"Select a tab",onChange:e=>l(e.target.value),className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-2 pl-3 pr-8 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600",children:r.map(e=>t.jsx("option",{value:e.name,children:e.name},e.name))}),t.jsx(S,{"aria-hidden":"true",className:"pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end fill-gray-500"})]}),t.jsx("div",{className:"hidden sm:block",children:t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:r.map(e=>t.jsxs("a",{href:e.href,"aria-current":a===e.name?"page":void 0,onClick:o=>{o.preventDefault(),l(e.name)},className:d(a===e.name?"border-darkprimary text-darkprimary":"border-transparent text-gray-400 hover:border-gray-300 hover:text-gray-700","group inline-flex items-center border-b-2 px-3 py-2 text-xs font-medium"),children:[t.jsx(e.icon,{"aria-hidden":"true",className:d(a===e.name?"text-darkprimary":"text-gray-500 group-hover:text-gray-500","-ml-0.5 mr-2 size-4")}),t.jsx("span",{children:e.name})]},e.name))})})}),t.jsx("div",{className:"pt-10 flex flex-col",children:a==="Update Event Details"&&t.jsx(N,{})})]})}function $(){const[r,a]=n.useState(g[0].name);return t.jsx(w,{heading:"Manage Event Details",children:t.jsx("div",{className:"flex flex-col mt-5",children:t.jsx(O,{tabs:g,currentTab:r,setCurrentTab:a})})})}export{$ as default};
