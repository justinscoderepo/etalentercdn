import{r as i,e as oe,j as e,L as ot,p as me,a as et}from"./mainweb-CkSeKWlN.js";import{u as Lt,i as Cr}from"./useBackend-DHfMD7vc.js";import{u as Sr}from"./useConfirmation-C4V6Lf2l.js";import{a as Pr,g as Lr,p as tt}from"./httpService-BLG8KK4O.js";import{c as C}from"./utilities-CN4lTu6a.js";import{M as It,F as Rt}from"./renderComponents-ogeg1DQg.js";import{B as ve}from"./box-DOOW0kLF.js";import{p as Ir,o as de,u as zt,O as kt,K as dt,b as ct,T as Rr,L as ut,C as kr,c as Ar,d as mt,i as He,_ as At,e as Mr,x as Br,R as Hr,s as Or,f as we,r as ne,g as Jt,h as Vt,F as Gt,k as Ur,l as rt,m as zr,n as Jr,q as Vr,t as Gr,v as Wr}from"./publicRegistrationHelper-BRLazh_C.js";import{a as Oe}from"./ChevronRightIcon-B7WumyEA.js";import{b as Wt,F as Zr}from"./formSubmission-mIoKsSeh.js";import{M as _r}from"./modalForm-IAPI9y1H.js";function Kr({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),i.createElement("path",{fillRule:"evenodd",d:"M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z",clipRule:"evenodd"}))}const Zt=i.forwardRef(Kr);function qr({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{d:"M1 8.25a1.25 1.25 0 1 1 2.5 0v7.5a1.25 1.25 0 1 1-2.5 0v-7.5ZM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0 1 14 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 0 1-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 0 1-1.341-.317l-2.734-1.366A3 3 0 0 0 6.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 0 1 2.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388Z"}))}const _t=i.forwardRef(qr);function Yr({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{fillRule:"evenodd",d:"M9.493 2.852a.75.75 0 0 0-1.486-.204L7.545 6H4.198a.75.75 0 0 0 0 1.5h3.14l-.69 5H3.302a.75.75 0 0 0 0 1.5h3.14l-.435 3.148a.75.75 0 0 0 1.486.204L7.955 14h2.986l-.434 3.148a.75.75 0 0 0 1.486.204L12.456 14h3.346a.75.75 0 0 0 0-1.5h-3.14l.69-5h3.346a.75.75 0 0 0 0-1.5h-3.14l.435-3.148a.75.75 0 0 0-1.486-.204L12.045 6H9.059l.434-3.148ZM8.852 7.5l-.69 5h2.986l.69-5H8.852Z",clipRule:"evenodd"}))}const Mt=i.forwardRef(Yr);function Xr({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{fillRule:"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"}))}const Qr=i.forwardRef(Xr);function Dr({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{d:"M6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z"}))}const en=i.forwardRef(Dr);function tn({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{d:"M10.75 6.75a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z"}))}const rn=i.forwardRef(tn);function nn({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{d:"M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z"}))}const Kt=i.forwardRef(nn);function sn({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))}const Je=i.forwardRef(sn),qt=typeof document<"u"?oe.useLayoutEffect:()=>{};function ln(t){const r=i.useRef(null);return qt(()=>{r.current=t},[t]),i.useCallback((...s)=>{const n=r.current;return n==null?void 0:n(...s)},[])}const Ee=t=>{var r;return(r=t==null?void 0:t.ownerDocument)!==null&&r!==void 0?r:document},xe=t=>t&&"window"in t&&t.window===t?t:Ee(t).defaultView||window;function an(t){var r;return typeof window>"u"||window.navigator==null?!1:((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.brands.some(s=>t.test(s.brand)))||t.test(window.navigator.userAgent)}function on(t){var r;return typeof window<"u"&&window.navigator!=null?t.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function Yt(t){let r=null;return()=>(r==null&&(r=t()),r)}const dn=Yt(function(){return on(/^Mac/i)}),cn=Yt(function(){return an(/Android/i)});function un(t){return t.mozInputSource===0&&t.isTrusted?!0:cn()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class mn{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(r,s){this.nativeEvent=s,this.target=s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget,this.bubbles=s.bubbles,this.cancelable=s.cancelable,this.defaultPrevented=s.defaultPrevented,this.eventPhase=s.eventPhase,this.isTrusted=s.isTrusted,this.timeStamp=s.timeStamp,this.type=r}}function Xt(t){let r=i.useRef({isFocused:!1,observer:null});qt(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let s=ln(n=>{t==null||t(n)});return i.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let o=n.target,u=m=>{r.current.isFocused=!1,o.disabled&&s(new mn("blur",m)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&o.disabled){var m;(m=r.current.observer)===null||m===void 0||m.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),r.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[s])}function xn(t){let{isDisabled:r,onFocus:s,onBlur:n,onFocusChange:o}=t;const u=i.useCallback(f=>{if(f.target===f.currentTarget)return n&&n(f),o&&o(!1),!0},[n,o]),m=Xt(u),a=i.useCallback(f=>{const w=Ee(f.target);f.target===f.currentTarget&&w.activeElement===f.target&&(s&&s(f),o&&o(!0),m(f))},[o,s,m]);return{focusProps:{onFocus:!r&&(s||o||n)?a:void 0,onBlur:!r&&(n||o)?u:void 0}}}let $e=null,st=new Set,Ne=new Map,fe=!1,lt=!1;const fn={Tab:!0,Escape:!0};function xt(t,r){for(let s of st)s(t,r)}function gn(t){return!(t.metaKey||!dn()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Ue(t){fe=!0,gn(t)&&($e="keyboard",xt("keyboard",t))}function _(t){$e="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(fe=!0,xt("pointer",t))}function Qt(t){un(t)&&(fe=!0,$e="virtual")}function Dt(t){t.target===window||t.target===document||(!fe&&!lt&&($e="virtual",xt("virtual",t)),fe=!1,lt=!1)}function er(){fe=!1,lt=!0}function it(t){if(typeof window>"u"||Ne.get(xe(t)))return;const r=xe(t),s=Ee(t);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){fe=!0,n.apply(this,arguments)},s.addEventListener("keydown",Ue,!0),s.addEventListener("keyup",Ue,!0),s.addEventListener("click",Qt,!0),r.addEventListener("focus",Dt,!0),r.addEventListener("blur",er,!1),typeof PointerEvent<"u"?(s.addEventListener("pointerdown",_,!0),s.addEventListener("pointermove",_,!0),s.addEventListener("pointerup",_,!0)):(s.addEventListener("mousedown",_,!0),s.addEventListener("mousemove",_,!0),s.addEventListener("mouseup",_,!0)),r.addEventListener("beforeunload",()=>{tr(t)},{once:!0}),Ne.set(r,{focus:n})}const tr=(t,r)=>{const s=xe(t),n=Ee(t);r&&n.removeEventListener("DOMContentLoaded",r),Ne.has(s)&&(s.HTMLElement.prototype.focus=Ne.get(s).focus,n.removeEventListener("keydown",Ue,!0),n.removeEventListener("keyup",Ue,!0),n.removeEventListener("click",Qt,!0),s.removeEventListener("focus",Dt,!0),s.removeEventListener("blur",er,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",_,!0),n.removeEventListener("pointermove",_,!0),n.removeEventListener("pointerup",_,!0)):(n.removeEventListener("mousedown",_,!0),n.removeEventListener("mousemove",_,!0),n.removeEventListener("mouseup",_,!0)),Ne.delete(s))};function hn(t){const r=Ee(t);let s;return r.readyState!=="loading"?it(t):(s=()=>{it(t)},r.addEventListener("DOMContentLoaded",s)),()=>tr(t,s)}typeof document<"u"&&hn();function rr(){return $e!=="pointer"}const pn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function bn(t,r,s){var n;const o=typeof window<"u"?xe(s==null?void 0:s.target).HTMLInputElement:HTMLInputElement,u=typeof window<"u"?xe(s==null?void 0:s.target).HTMLTextAreaElement:HTMLTextAreaElement,m=typeof window<"u"?xe(s==null?void 0:s.target).HTMLElement:HTMLElement,a=typeof window<"u"?xe(s==null?void 0:s.target).KeyboardEvent:KeyboardEvent;return t=t||(s==null?void 0:s.target)instanceof o&&!pn.has(s==null||(n=s.target)===null||n===void 0?void 0:n.type)||(s==null?void 0:s.target)instanceof u||(s==null?void 0:s.target)instanceof m&&(s==null?void 0:s.target.isContentEditable),!(t&&r==="keyboard"&&s instanceof a&&!fn[s.key])}function vn(t,r,s){it(),i.useEffect(()=>{let n=(o,u)=>{bn(!!(s!=null&&s.isTextInput),o,u)&&t(rr())};return st.add(n),()=>{st.delete(n)}},r)}function jn(t){let{isDisabled:r,onBlurWithin:s,onFocusWithin:n,onFocusWithinChange:o}=t,u=i.useRef({isFocusWithin:!1}),m=i.useCallback(w=>{u.current.isFocusWithin&&!w.currentTarget.contains(w.relatedTarget)&&(u.current.isFocusWithin=!1,s&&s(w),o&&o(!1))},[s,o,u]),a=Xt(m),f=i.useCallback(w=>{!u.current.isFocusWithin&&document.activeElement===w.target&&(n&&n(w),o&&o(!0),u.current.isFocusWithin=!0,a(w))},[n,o,a]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:m}}}let ze=!1,nt=0;function at(){ze=!0,setTimeout(()=>{ze=!1},50)}function Bt(t){t.pointerType==="touch"&&at()}function yn(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Bt):document.addEventListener("touchend",at),nt++,()=>{nt--,!(nt>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Bt):document.removeEventListener("touchend",at))}}function wn(t){let{onHoverStart:r,onHoverChange:s,onHoverEnd:n,isDisabled:o}=t,[u,m]=i.useState(!1),a=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(yn,[]);let{hoverProps:f,triggerHoverEnd:w}=i.useMemo(()=>{let b=(l,x)=>{if(a.pointerType=x,o||x==="touch"||a.isHovered||!l.currentTarget.contains(l.target))return;a.isHovered=!0;let j=l.currentTarget;a.target=j,r&&r({type:"hoverstart",target:j,pointerType:x}),s&&s(!0),m(!0)},h=(l,x)=>{if(a.pointerType="",a.target=null,x==="touch"||!a.isHovered)return;a.isHovered=!1;let j=l.currentTarget;n&&n({type:"hoverend",target:j,pointerType:x}),s&&s(!1),m(!1)},p={};return typeof PointerEvent<"u"?(p.onPointerEnter=l=>{ze&&l.pointerType==="mouse"||b(l,l.pointerType)},p.onPointerLeave=l=>{!o&&l.currentTarget.contains(l.target)&&h(l,l.pointerType)}):(p.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=l=>{!a.ignoreEmulatedMouseEvents&&!ze&&b(l,"mouse"),a.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=l=>{!o&&l.currentTarget.contains(l.target)&&h(l,"mouse")}),{hoverProps:p,triggerHoverEnd:h}},[r,s,n,o,a]);return i.useEffect(()=>{o&&w({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:f,isHovered:u}}function Nn(t={}){let{autoFocus:r=!1,isTextInput:s,within:n}=t,o=i.useRef({isFocused:!1,isFocusVisible:r||rr()}),[u,m]=i.useState(!1),[a,f]=i.useState(()=>o.current.isFocused&&o.current.isFocusVisible),w=i.useCallback(()=>f(o.current.isFocused&&o.current.isFocusVisible),[]),b=i.useCallback(l=>{o.current.isFocused=l,m(l),w()},[w]);vn(l=>{o.current.isFocusVisible=l,w()},[],{isTextInput:s});let{focusProps:h}=xn({isDisabled:n,onFocusChange:b}),{focusWithinProps:p}=jn({isDisabled:!n,onFocusWithinChange:b});return{isFocused:u,isFocusVisible:a,focusProps:n?p:h}}function En(t){let r=t.width/2,s=t.height/2;return{top:t.clientY-s,right:t.clientX+r,bottom:t.clientY+s,left:t.clientX-r}}function $n(t,r){return!(!t||!r||t.right<r.left||t.left>r.right||t.bottom<r.top||t.top>r.bottom)}function Fn({disabled:t=!1}={}){let r=i.useRef(null),[s,n]=i.useState(!1),o=Ir(),u=de(()=>{r.current=null,n(!1),o.dispose()}),m=de(a=>{if(o.dispose(),r.current===null){r.current=a.currentTarget,n(!0);{let f=zt(a.currentTarget);o.addEventListener(f,"pointerup",u,!1),o.addEventListener(f,"pointermove",w=>{if(r.current){let b=En(w);n($n(b,r.current.getBoundingClientRect()))}},!1),o.addEventListener(f,"pointercancel",u,!1)}}});return{pressed:s,pressProps:t?{}:{onPointerDown:m,onPointerUp:u,onClick:u}}}function Tn(t){let r=t.parentElement,s=null;for(;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(s=r),r=r.parentElement;let n=(r==null?void 0:r.getAttribute("disabled"))==="";return n&&Cn(s)?!1:n}function Cn(t){if(!t)return!1;let r=t.previousElementSibling;for(;r!==null;){if(r instanceof HTMLLegendElement)return!1;r=r.previousElementSibling}return!0}function Sn(t,r){return i.useMemo(()=>{var s;if(t.type)return t.type;let n=(s=t.as)!=null?s:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(r==null?void 0:r.tagName)==="BUTTON"&&!r.hasAttribute("type"))return"button"},[t.type,t.as,r])}var Ht;let Pn=(Ht=oe.startTransition)!=null?Ht:function(t){t()};var Ln=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ln||{}),In=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(In||{});let Rn={0:t=>({...t,disclosureState:mt(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,r){return t.buttonId===r.buttonId?t:{...t,buttonId:r.buttonId}},3(t,r){return t.panelId===r.panelId?t:{...t,panelId:r.panelId}},4(t,r){return t.buttonElement===r.element?t:{...t,buttonElement:r.element}},5(t,r){return t.panelElement===r.element?t:{...t,panelElement:r.element}}},ft=i.createContext(null);ft.displayName="DisclosureContext";function gt(t){let r=i.useContext(ft);if(r===null){let s=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,gt),s}return r}let ht=i.createContext(null);ht.displayName="DisclosureAPIContext";function nr(t){let r=i.useContext(ht);if(r===null){let s=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,nr),s}return r}let pt=i.createContext(null);pt.displayName="DisclosurePanelContext";function kn(){return i.useContext(pt)}function An(t,r){return mt(r.type,Rn,t,r)}let Mn=i.Fragment;function Bn(t,r){let{defaultOpen:s=!1,...n}=t,o=i.useRef(null),u=ct(r,Rr(j=>{o.current=j},t.as===void 0||t.as===i.Fragment)),m=i.useReducer(An,{disclosureState:s?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:f},w]=m,b=de(j=>{w({type:1});let v=zt(o);if(!v||!f)return;let R=j?j instanceof HTMLElement?j:j.current instanceof HTMLElement?j.current:v.getElementById(f):v.getElementById(f);R==null||R.focus()}),h=i.useMemo(()=>({close:b}),[b]),p=i.useMemo(()=>({open:a===0,close:b}),[a,b]),l={ref:u},x=ut();return oe.createElement(ft.Provider,{value:m},oe.createElement(ht.Provider,{value:h},oe.createElement(kr,{value:b},oe.createElement(Ar,{value:mt(a,{0:He.Open,1:He.Closed})},x({ourProps:l,theirProps:n,slot:p,defaultTag:Mn,name:"Disclosure"})))))}let Hn="button";function On(t,r){let s=i.useId(),{id:n=`headlessui-disclosure-button-${s}`,disabled:o=!1,autoFocus:u=!1,...m}=t,[a,f]=gt("Disclosure.Button"),w=kn(),b=w===null?!1:w===a.panelId,h=i.useRef(null),p=ct(h,r,de(N=>{if(!b)return f({type:4,element:N})}));i.useEffect(()=>{if(!b)return f({type:2,buttonId:n}),()=>{f({type:2,buttonId:null})}},[n,f,b]);let l=de(N=>{var y;if(b){if(a.disclosureState===1)return;switch(N.key){case we.Space:case we.Enter:N.preventDefault(),N.stopPropagation(),f({type:0}),(y=a.buttonElement)==null||y.focus();break}}else switch(N.key){case we.Space:case we.Enter:N.preventDefault(),N.stopPropagation(),f({type:0});break}}),x=de(N=>{switch(N.key){case we.Space:N.preventDefault();break}}),j=de(N=>{var y;Tn(N.currentTarget)||o||(b?(f({type:0}),(y=a.buttonElement)==null||y.focus()):f({type:0}))}),{isFocusVisible:v,focusProps:R}=Nn({autoFocus:u}),{isHovered:L,hoverProps:B}=wn({isDisabled:o}),{pressed:z,pressProps:H}=Fn({disabled:o}),P=i.useMemo(()=>({open:a.disclosureState===0,hover:L,active:z,disabled:o,focus:v,autofocus:u}),[a,L,z,v,o,u]),c=Sn(t,a.buttonElement),$=b?At({ref:p,type:c,disabled:o||void 0,autoFocus:u,onKeyDown:l,onClick:j},R,B,H):At({ref:p,id:n,type:c,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:o||void 0,autoFocus:u,onKeyDown:l,onKeyUp:x,onClick:j},R,B,H);return ut()({ourProps:$,theirProps:m,slot:P,defaultTag:Hn,name:"Disclosure.Button"})}let Un="div",zn=kt.RenderStrategy|kt.Static;function Jn(t,r){let s=i.useId(),{id:n=`headlessui-disclosure-panel-${s}`,transition:o=!1,...u}=t,[m,a]=gt("Disclosure.Panel"),{close:f}=nr("Disclosure.Panel"),[w,b]=i.useState(null),h=ct(r,de(L=>{Pn(()=>a({type:5,element:L}))}),b);i.useEffect(()=>(a({type:3,panelId:n}),()=>{a({type:3,panelId:null})}),[n,a]);let p=Mr(),[l,x]=Br(o,w,p!==null?(p&He.Open)===He.Open:m.disclosureState===0),j=i.useMemo(()=>({open:m.disclosureState===0,close:f}),[m.disclosureState,f]),v={ref:h,id:n,...Hr(x)},R=ut();return oe.createElement(Or,null,oe.createElement(pt.Provider,{value:m.panelId},R({ourProps:v,theirProps:u,slot:j,defaultTag:Un,features:zn,visible:l,name:"Disclosure.Panel"})))}let Vn=dt(Bn),sr=dt(On),lr=dt(Jn),Gn=Object.assign(Vn,{Button:sr,Panel:lr});function Wn({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Zn=i.forwardRef(Wn);function _n({title:t,titleId:r,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),t?i.createElement("title",{id:r},t):null,i.createElement("path",{fillRule:"evenodd",d:"M16.098 2.598a3.75 3.75 0 1 1 3.622 6.275l-1.72.46V12a.75.75 0 0 1-.22.53l-.75.75a.75.75 0 0 1-1.06 0l-.97-.97-7.94 7.94a2.56 2.56 0 0 1-1.81.75 1.06 1.06 0 0 0-.75.31l-.97.97a.75.75 0 0 1-1.06 0l-.75-.75a.75.75 0 0 1 0-1.06l.97-.97a1.06 1.06 0 0 0 .31-.75c0-.68.27-1.33.75-1.81L11.69 9l-.97-.97a.75.75 0 0 1 0-1.06l.75-.75A.75.75 0 0 1 12 6h2.666l.461-1.72c.165-.617.49-1.2.971-1.682Zm-3.348 7.463L4.81 18a1.06 1.06 0 0 0-.31.75c0 .318-.06.63-.172.922a2.56 2.56 0 0 1 .922-.172c.281 0 .551-.112.75-.31l7.94-7.94-1.19-1.19Z",clipRule:"evenodd"}))}const Ot=i.forwardRef(_n),Ut=t=>{try{let r=t.split(" ");if(r.length>1){let s=r[0].split("-");return new Date(s[2],s[1]-1,s[0])}}catch{return null}};function Kn({participationDetails:t,isTeamsRegistration:r,isIndividualRegistration:s,eventDetails:n,setParticipantType:o,tempUser:u,startNewRegistration:m,participantType:a,allStepsComponents:f}){var Te,Ge,Ce,F,Se,q,ce,je,We,D,Pe,K;let{user:w}=Pr();w==null||w.RoleTitle;let b=((Te=w==null?void 0:w.Email)==null?void 0:Te.indexOf("justnshalom"))!=-1,h=JSON.parse((n==null?void 0:n.JsonSettings)??"{}"),p=((Ge=h==null?void 0:h.AdditionalSettings)==null?void 0:Ge.FeesCurrency)??"USD";console.log("jsonSettings",h);let[l,x]=i.useState("");console.log("selectedGroup ",l);let j=[];s&&j.push({name:"Individual",icon:Mt}),r&&j.push({name:"Team",icon:Mt});let v=Ut(n==null?void 0:n.StartDateString),R=Ut(n==null?void 0:n.EndDateString),L=v==null?void 0:v.toDateString(),B=R==null?void 0:R.toDateString(),z=L===B,H=((Ce=f.Participations)==null?void 0:Ce.length)>0&&((Se=(F=f.Participations)==null?void 0:F.filter(g=>g.type=="competitions"))==null?void 0:Se.length)>0;((q=h==null?void 0:h.AdditionalSettings)==null?void 0:q.DisableCompetitionsInFrontPage)=="Yes"&&(H=!1);let P=(ce=t==null?void 0:t.Competitions)==null?void 0:ce.map(g=>g.GroupName),c=[...new Set(P)],$=c.length>1;c.filter(g=>g==l).length==0&&(l=""),$&&c.length>0&&!l&&(l=c[0]);const N=[];let y=$?(je=t==null?void 0:t.Competitions)==null?void 0:je.filter(g=>g.GroupName==l):t==null?void 0:t.Competitions;console.log("filteredCompetitions",y);const T=[...new Set(y==null?void 0:y.map(g=>g.CompetitionCategoryName))],Z=y==null?void 0:y.reduce((g,I)=>g.find(k=>k.CompetitionName===I.CompetitionName)?g:g.concat([I]),[]);console.log("uniqueCategories",T),T.forEach(g=>{let I=Z.filter(k=>k.CompetitionCategoryName==g),J={};J.CategoryName=g,J.CompetitionNames=[],I.forEach(k=>{let G=y==null?void 0:y.filter(V=>V.CompetitionCategoryName==g&&V.CompetitionName==k.CompetitionName),se={};se.CompetitionName=k.CompetitionName,se.competitions=G,J.CompetitionNames.push(se)}),N.push(J)});const Fe=({startNewRegistration:g})=>e.jsx("div",{className:"bg-indigo-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Ready to participate? ",e.jsx("br",{}),e.jsxs("span",{className:"text-indigo-600",children:["Join ",n==null?void 0:n.EventName," now!"]})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("button",{type:"button",onClick:()=>g("Individual"),className:"rounded-md bg-indigo-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 max-w-96 w-full",children:[e.jsx(Ot,{className:"h-6 w-6 inline-block mr-2"}),"Register Now"]})})]})});let Ve=()=>e.jsx("div",{className:"bg-blue-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Already registered? ",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:"Login to your account"})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("a",{href:"/Account/Login",className:"rounded-md bg-blue-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 text-center focus-visible:outline-offset-2 focus-visible:outline-blue-600 max-w-96 w-full",children:[e.jsx(Zn,{className:"h-6 w-6 inline-block mr-2"}),"Login Now"]})})]})});const ge=({startNewRegistration:g})=>e.jsx("div",{className:"bg-violet-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Ready to participate in a team event? ",e.jsx("br",{}),e.jsxs("span",{className:"text-violet-600",children:["Join ",n==null?void 0:n.EventName," now!"]})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("button",{type:"button",onClick:()=>g("Team"),className:"rounded-md bg-indigo-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 max-w-96 w-full",children:["  ",e.jsx(Ot,{className:"h-6 w-6 inline-block mr-2"}),"Register Team Now"]})})]})});return n?e.jsxs("div",{className:"flex flex-col p-4",children:[e.jsx("div",{className:"event-details flex flex-col ",children:e.jsxs("div",{className:"flex flex-col md:flex-row ",children:[e.jsxs("div",{className:"mx-auto sm:max-w-[300px] min-w-60 text-center mb-10",children:[(n==null?void 0:n.OrganizationLogo)&&e.jsx("img",{src:n==null?void 0:n.OrganizationLogo,alt:"Event Logo",className:"max-h-24 sm:max-h-56 w-auto mx-auto"}),e.jsx("h2",{className:"text-xl mt-4 font-semibold tracking-tight text-purple-950",children:n==null?void 0:n.OrganizationName}),e.jsx("p",{className:"mt-1 mb-2 text-pretty text-sm font-medium text-gray-500",children:"Presenting"}),(n==null?void 0:n.EventLogo)&&((We=h==null?void 0:h.AdditionalSettings)==null?void 0:We.DisableEventLogoInFrontPage)!="Yes"&&e.jsx("img",{src:n==null?void 0:n.EventLogo,alt:"Event Logo",className:"hidden sm:flex max-h-56 w-auto mx-auto"}),e.jsx("div",{className:"flex sm:hidden flex-col items-center justify-center mb-6",children:e.jsx("img",{alt:"",src:n==null?void 0:n.IdentityBackgroundImage,className:"h-auto w-auto shadow-lg  object-right max-h-96"})}),e.jsx("h2",{className:"text-2xl mt-2 font-semibold tracking-tight text-primary",children:n==null?void 0:n.EventName}),e.jsx("div",{className:"mt-4 text-pretty text-xs font-medium text-gray-500 ",children:e.jsx("blockquote",{className:"text-xs border-l-emerald-400 border-l-2 px-4 text-left text-gray-600 whitespace-pre-line",children:e.jsx(It,{options:{forceBlock:!0},children:n==null?void 0:n.Description})})}),e.jsx("p",{className:"event-date mt-8 text-pretty text-xs font-medium text-gray-500",children:z?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-6 w-6 inline-block"}),L]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-6 w-6 inline-block"}),L," - ",B]})}),((D=n==null?void 0:n.Venue)==null?void 0:D.indexOf("iframe"))>-1?e.jsx("div",{className:"mt-8 iframelocation",dangerouslySetInnerHTML:{__html:n==null?void 0:n.Venue}}):((Pe=n==null?void 0:n.Venue)==null?void 0:Pe.indexOf("http"))>-1?e.jsxs("a",{href:n==null?void 0:n.Venue,target:"_blank",rel:"noreferrer",className:"mt-8 text-blue-600 hover:text-blue-500 justify-center items-center flex",children:[e.jsx(Qr,{className:"h-6 w-6 inline-block"}),n==null?void 0:n.Venue]}):e.jsx("p",{className:"mt-8 text-pretty text-lg font-medium text-gray-500 sm:text-xl/8",children:n==null?void 0:n.Venue}),u&&e.jsxs(e.Fragment,{children:[s&&a=="Individual"&&e.jsx(Fe,{startNewRegistration:m}),r&&a=="Team"&&e.jsx(ge,{startNewRegistration:m})]}),b&&e.jsx(Ve,{})]}),e.jsxs("div",{className:"flex flex-col sm:pl-6",children:[e.jsx("div",{className:"hidden sm:flex flex-col items-center justify-center mb-6",children:e.jsx("img",{alt:"",src:n==null?void 0:n.IdentityBackgroundImage,className:"h-auto w-auto shadow-lg  object-right max-h-96"})}),H&&e.jsxs(ve,{heading:"Competitions",childrenClasses:"flex flex-col py-6 pl-2",outerClasses:"mb-4",children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6",children:j.map((g,I)=>e.jsxs("button",{onClick:()=>o(g.name),className:C(a===g.name?"text-violet-800 bg-violet-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",I===0?"rounded-l-lg":"",I===j.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none"),children:[e.jsx(g.icon,{className:C(a===g.name?"text-violet-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsx("span",{className:C(g.hideOnMobile?"hidden sm:block":""),children:g.name}),e.jsx("span",{"aria-hidden":"true",className:C(a===g.name?"bg-violet-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},I))}),e.jsx("div",{className:"block sm:hidden pb-6",children:$&&e.jsx("select",{id:"group",name:"group",className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-2 pl-3 pr-8 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600",value:l,onChange:g=>x(g.target.value),children:c.map((g,I)=>e.jsx("option",{value:g,children:g},I))})}),e.jsx("div",{className:"hidden sm:flex flex-col items-center justify-center",children:$&&e.jsx("nav",{"aria-label":"Tabs",className:"flex space-x-4 pb-4",children:c.map((g,I)=>e.jsx("button",{type:"button",onClick:()=>{x(g)},className:C(g==l?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium"),children:e.jsx("span",{className:C(""),children:g})},I))})}),N==null?void 0:N.map((g,I)=>{var J;return e.jsxs("div",{className:"mb-3 rounded-md border border-gray-200 px-5 py-2",children:[e.jsx("div",{className:"border-b border-gray-300 pb-2  mt-1",children:e.jsxs("div",{className:"flex flex-wrap items-baseline",children:[e.jsx("h3",{className:"mt-1 text-xl font-semibold leading-6 text-violet-800",children:g.CategoryName}),e.jsx("p",{className:"ml-1 truncate text-base text-gray-500",children:"Programs"})]})}),e.jsx("div",{className:"flex flex-col md:grid md:grid-cols-2 md:gap-2",children:(J=g.CompetitionNames)==null?void 0:J.map((k,G)=>{var se;return e.jsxs("div",{children:[e.jsx("div",{className:"border-b border-gray-100 pb-0",children:e.jsxs("div",{className:"flex items-baseline text-left justify-start",children:[e.jsx("h3",{className:"mt-1 text-medium font-semibold leading-6 text-green-800",children:k.CompetitionName}),e.jsx("p",{className:"ml-1 truncate text-sm text-gray-500"})]})}),e.jsx("div",{className:"mt-2 flex flex-wrap",children:(se=k.competitions)==null?void 0:se.map((V,bt)=>e.jsxs("div",{className:"w-min-[300] pr-4 mb-2",children:[e.jsx("div",{className:"flex gap-3",children:e.jsx("label",{className:C("ml-2","block text-sm text-gray-900"),children:e.jsx("span",{className:C("ml-2","text-xs font-medium leading-6 select-none text-gray-900"),children:((n==null?void 0:n.AllowDisplayCompetitionOrder)==1?V.CompetitionOrder+" - ":"")+(V.Title.replace(k.CompetitionName,"").replace(/ /gi,"").trim()!==""?V.Title.replace(k.CompetitionName,"").trim():k.CompetitionName.trim())})})}),e.jsx("div",{className:"text-sm text-gray-500 whitespace-break-spaces",children:(V==null?void 0:V.Remarks)&&e.jsx(It,{children:V.Remarks})}),V.Fees>0&&e.jsxs("p",{className:"fees text-xs mt-2 font-normal text-gray-600",children:["Fees:",e.jsxs("i",{className:"text-indigo-800 font-medium text-xs",children:[" ",V.Fees,p]})]})]},I+"_"+G+"_"+V.CompetitionStructureId))})]},I+"_"+G)})})]},I)})]}),e.jsx(ve,{heading:"What are the required information to finish registration?",childrenClasses:"flex flex-col py-6 px-2",children:e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"divide-y divide-gray-900/10",children:[e.jsx("h2",{className:"text-sm font-semibold tracking-tight text-gray-900",children:"Get ready to complete Registration! Be ready with following details to finish your registration..."}),e.jsx("dl",{className:"mt-2 space-y-6 divide-y divide-gray-900/10",children:(K=ne.filter(g=>g.name!="Agreement"&&g.name!="Participant Type"&&(a=="Individual"?g.name!="Team"&&g.name!="Team Members":g.name!="User")))==null?void 0:K.map((g,I)=>{var k;let J=f[g.name];return J!=null&&J.length?e.jsxs(Gn,{as:"div",className:"pt-6",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(sr,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e.jsxs("span",{className:"text-base/7 font-semibold",children:[g.name," Information"]}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(rn,{"aria-hidden":"true",className:"size-6 group-data-[open]:hidden"}),e.jsx(en,{"aria-hidden":"true",className:"size-6 group-[&:not([data-open])]:hidden"})]})]})}),e.jsx(lr,{as:"dd",className:"mt-2 pr-12",children:e.jsx("ul",{className:"list-disc ms-6 mt-3 space-y-1.5",children:(k=J.filter(G=>G.type!="heading"&&G.type!="paragraph"&&G.type!="payment-summary"&&G.type!="imageFromUrl"))==null?void 0:k.map(G=>e.jsx("li",{className:"ps-1 text-sm text-gray-600 dark:text-neutral-400",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:G.label})},G.id))})})]},I):null})})]})})})})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-grow space-x-2",children:[u&&e.jsxs(e.Fragment,{children:[s&&a=="Individual"&&e.jsx(Fe,{startNewRegistration:m}),r&&a=="Team"&&e.jsx(ge,{startNewRegistration:m})]}),b&&e.jsx(Ve,{})]})]}):e.jsx(ot,{})}const qn=({participationDetails:t,users:r,userRoles:s,activeUser:n,onChange:o,allStepsComponents:u,onClickDelete:m})=>{let a=u==null?void 0:u.User;u==null||u.Participation;let f=u==null?void 0:u.Payment;const w=b=>{o(b)};return e.jsx("div",{className:C("flex justify-center gap-2",n?"flex-col":"flex-row flex-wrap"),children:r==null?void 0:r.map((b,h)=>{var B,z,H,P;let p=s==null?void 0:s.find(c=>c.User===b.UId),l=p!=null&&p.JsonSettings?JSON.parse(p.JsonSettings):{},x="Not Submitted",j=30,v=[];t&&(v=(B=t.ParticipantsList)==null?void 0:B.filter(c=>c.Candidate==(p==null?void 0:p.UserRoleId)),(v==null?void 0:v.length)>0&&(j=60)),l!=null&&l.FinishedSteps&&(j=100);let R=["DobString","Mobile"],L=["paymentMethod","paymentReferenceId","paymentScreenShot"];return(l==null?void 0:l.FinishedSteps)==!0&&(x="Submitted"),l.ApprovalStatus&&(x=l.ApprovalStatus),(l==null?void 0:l.FinishedSteps)==!0&&l.ApprovalStatus=="Reviewed"&&(x="Submitted"),e.jsxs("div",{className:C("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",x=="Submitted"?"border-blue-500":x=="Approved"?"border-green-500":x=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("div",{className:"flex justify-center",children:b.ProfilePicture?e.jsx("div",{className:"bg-gray-200 flex rounded-xl p-2",children:e.jsx("img",{className:"mx-auto size-32 shrink-0 rounded-full",src:b.ProfilePicture,alt:""})}):e.jsx(e.Fragment,{})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:b.Name}),e.jsxs("dl",{className:"mt-1  flex-col justify-between",children:[e.jsx("dd",{className:"text-sm text-gray-500 overflow-hidden text-ellipsis",children:b.Email}),e.jsx("dd",{className:"mt-3",children:x=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):x=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):x=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):x=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:x})})]}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[j!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:C("progress-bar-fill h-1   rounded-md",j==100?"bg-green-500":j>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${j}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(Je,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"User Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:R.map((c,$)=>{var N;return e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:(N=a==null?void 0:a.find(y=>{var T;return((T=y.key)==null?void 0:T.toLowerCase())==(c==null?void 0:c.toLowerCase())}))==null?void 0:N.label}),e.jsx("dd",{className:"font-medium text-gray-900",children:b[c]})]},$)})})]})})]})]})}),(v==null?void 0:v.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(_t,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[(z=t==null?void 0:t.OrganizationLevels)==null?void 0:z.map((c,$)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:c.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:p[c.LevelName+"Name"]})]},$)),e.jsx("div",{className:"h-4 flex w-full"}),v.map((c,$)=>{var N,y;return e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Oe,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),(y=(N=t==null?void 0:t.Competitions)==null?void 0:N.find(T=>T.CompetitionStructureId==c.Competition))==null?void 0:y.Title]})},$)})]})]})})]})]})}),(l==null?void 0:l.FinishedSteps)!=null&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Jt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:L.map((c,$)=>{var N;return e.jsx(e.Fragment,{children:l[c]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:(N=f==null?void 0:f.find(y=>{var T;return((T=y.key)==null?void 0:T.toLowerCase())==(c==null?void 0:c.toLowerCase())}))==null?void 0:N.label}),c=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:l[c],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:l[c]})]},$)})})})]})})]})})}),((H=l==null?void 0:l.ReviewComments)==null?void 0:H.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Vt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),(P=l==null?void 0:l.ReviewComments)==null?void 0:P.map((c,$)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Oe,{className:C("size-6 -mt-1",c.Status==="Reviewed"?"text-yellow-400":c.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:c.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:c.Comment})]})]})},$))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:x=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):x=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):x=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):x=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:x})}),e.jsx("div",{className:"flex flex-grow gap-2",children:(l==null?void 0:l.FinishedSteps)==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>w(b),children:[e.jsx(Zt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>w(b),children:[e.jsx(Gt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>m({...b,...p}),children:[e.jsx(Wt,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},h)})})};function Yn({teams:t,allStepsComponents:r,selectedTeam:s,onClickDelete:n,participationDetails:o,handleChangeTeam:u,isIndividualRegistration:m,isTeamsRegistration:a,users:f,userRoles:w,selectedUser:b,handleChangeUser:h,participantType:p,setParticipantType:l,addNewParticipant:x,addNewTeamParticipant:j,tempUser:v}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full",children:[p=="Individual"&&e.jsxs(e.Fragment,{children:[m&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"w-full px-2 bg-yellow-900 max-w-60 text-white text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary mr-4",onClick:x,children:"Add New Individual Participant"})}),e.jsx(ve,{heading:"Participation Requests",outerClasses:"relative "+(b?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[m&&e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx(qn,{allStepsComponents:r,onClickDelete:n,users:f,activeUser:b,userRoles:w,onChange:h,setParticipantType:l,participationDetails:o})}),!(f!=null&&f.length)&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(Je,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new participants to the list by click on the Add New Participant button."})]})})]})})]}),p=="Team"&&a&&e.jsx(Xn,{teams:t,tempUser:v,selectedTeam:s,participationDetails:o,handleChangeTeam:u,users:f,onClickDelete:n,userRoles:w,allStepsComponents:r,selectedUser:b,handleChangeUser:h,setParticipantType:l,addNewParticipant:j})]})})}function Xn({teams:t,handleChangeTeam:r,allStepsComponents:s,users:n,userRoles:o,selectedUser:u,participationDetails:m,onClickDelete:a,addNewParticipant:f,tempUser:w}){s==null||s.Team,s==null||s.Participation;let b=s==null?void 0:s.Payment;return e.jsxs("div",{className:"max-w-full flex-1 overflow-hidden",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`w-full bg-green-900 max-w-60 text-white  text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 \r
            px-2  mr-4\r
            focus-visible:outline-offset-2 focus-visible:outline-primary`,onClick:f,children:"Add New Team Participant"})}),e.jsx(ve,{heading:"Participation Requests",outerClasses:"relative "+(u?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx("div",{className:C("flex justify-center gap-2","flex-row flex-wrap"),children:t==null?void 0:t.map((h,p)=>{var L,B,z,H,P;let l=h!=null&&h.TeamJsonSettings?JSON.parse(h.TeamJsonSettings):{},x="Not Submitted",j=30,v=[];m&&(v=(L=m.ParticipantsList)==null?void 0:L.filter(c=>c.Candidate==(h==null?void 0:h.Team)),(v==null?void 0:v.length)>0&&(j=60)),l!=null&&l.FinishedSteps&&(j=100);let R=["paymentMethod","paymentReferenceId","paymentScreenShot"];return(l==null?void 0:l.FinishedSteps)==!0&&(x="Submitted"),l.ApprovalStatus&&(x=l.ApprovalStatus),(l==null?void 0:l.FinishedSteps)==!0&&l.ApprovalStatus=="Reviewed"&&(x="Submitted"),e.jsxs("div",{className:C("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",x=="Submitted"?"border-blue-500":x=="Approved"?"border-green-500":x=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:h.TeamTeamName}),e.jsx("dl",{className:"mt-1  flex-col justify-between",children:e.jsx("dd",{className:"mt-3",children:x=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):x=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):x=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):x=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:x})})}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[j!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:C("progress-bar-fill h-1   rounded-md",j==100?"bg-green-500":j>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${j}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(Kt,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Team Members"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:(B=h==null?void 0:h.TeamMembers)==null?void 0:B.map((c,$)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:c.UserName}),e.jsx("dd",{className:"font-medium text-gray-900",children:c.UserDobString})]},$))})]})})]})]})}),(v==null?void 0:v.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(_t,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[(z=m==null?void 0:m.OrganizationLevels)==null?void 0:z.map((c,$)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:c.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:h[c.LevelName+"Name"]})]},$)),e.jsx("div",{className:"h-4 flex w-full"}),v.map((c,$)=>{var N,y;return e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Oe,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),(y=(N=m==null?void 0:m.Competitions)==null?void 0:N.find(T=>T.CompetitionStructureId==c.Competition))==null?void 0:y.Title]})},$)})]})]})})]})]})}),(l==null?void 0:l.FinishedSteps)!=null&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Jt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:R.map((c,$)=>{var N;return e.jsx(e.Fragment,{children:l[c]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:(N=b==null?void 0:b.find(y=>{var T;return((T=y.key)==null?void 0:T.toLowerCase())==(c==null?void 0:c.toLowerCase())}))==null?void 0:N.label}),c=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:l[c],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:l[c]})]},$)})})})]})})]})})}),((H=l==null?void 0:l.ReviewComments)==null?void 0:H.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:C("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Vt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),(P=l==null?void 0:l.ReviewComments)==null?void 0:P.map((c,$)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Oe,{className:C("size-6 -mt-1",c.Status==="Reviewed"?"text-yellow-400":c.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:c.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:c.Comment})]})]})},$))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:x=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):x=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):x=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):x=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:x})}),e.jsx("div",{className:"flex flex-grow gap-2",children:(l==null?void 0:l.FinishedSteps)==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>r(h),children:[e.jsx(Zt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>r(h),children:[e.jsx(Gt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>a({...h}),children:[e.jsx(Wt,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},p)})})}),!(t!=null&&t.length)&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(Je,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Team Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new team participants to the list by click on the Add New Team Participant button."})]})}),"  "]})})]})}function Qn({isSubmitted:t,availableSteps:r,submittedSteps:s,handleClick:n}){return e.jsx("nav",{"aria-label":"Progress",className:"mb-2 flex w-full",children:e.jsx("ol",{role:"list",className:"divide-y divide-gray-300 rounded-md border border-gray-300 flex md:divide-y-0  w-full flex-wrap",children:r==null?void 0:r.map((o,u)=>e.jsxs("li",{className:"relative md:flex md:flex-1 ",children:[o.status==="active"?e.jsx("a",{href:o.href,"aria-current":"step",className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-primary",children:e.jsx("span",{className:"text-white text-xs",children:o.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-indigo-600",children:o.label??o.name})]})}):s!=null&&s.find(m=>m.name==o.name)||t?e.jsx("a",{href:o.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:m=>n(u,m),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-gray-300 group-hover:bg-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:o.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-400 group-hover:text-gray-900",children:o.label??o.name})]})}):e.jsx("a",{href:o.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:m=>n(u,m),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full border-2 border-gray-300 group-hover:border-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:o.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-500 group-hover:text-gray-900",children:o.label??o.name})]})}),u!==r.length-1?e.jsx(e.Fragment,{children:e.jsx("div",{"aria-hidden":"true",className:"absolute right-0 top-0 hidden h-full w-5 md:block",children:e.jsx("svg",{fill:"none",viewBox:"0 0 22 80",preserveAspectRatio:"none",className:"h-full w-full text-gray-300",children:e.jsx("path",{d:"M0 -2L20 40L0 82",stroke:"currentcolor",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"})})})}):null]},o.name))})})}function Dn({steps:t,userRoleJson:r,gotoHome:s,participantType:n,isSubmitted:o,selectedUser:u,selectedTeam:m,eventDetails:a,activeStep:f,isLoading:w,updateIndex:b,setComponents:h,availableSteps:p,submittedSteps:l,allStepsComponents:x,customComponents:j,data:v,onChange:R,handleClick:L,handleNext:B,components:z,tempUser:H,selectedComponent:P,setSelectedComponent:c}){if(console.log({data:v}),!p||(p==null?void 0:p.length)==0)return e.jsx("div",{className:"text-center text-2xl text-gray-500",children:u||m?"Steps Loading/No Steps Found":""});let $=p.findIndex(y=>y.status==="active")+1===p.length,N=p.findIndex(y=>y.name==="Guardian Registration")>-1;if(console.log("isGuardianRegistration",N),u||m||N){let y=e.jsxs("span",{className:"text-gray-500",children:[(a==null?void 0:a.EventName)+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Participant Registration"})]});n==="Team"&&(y=e.jsxs("span",{className:"text-gray-500",children:[(a==null?void 0:a.EventName)+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Team Registration"})]})),u&&u.Name&&(y=(a==null?void 0:a.EventName)+" - "+u.Name),(r==null?void 0:r.FinishedSteps)==!0&&(y=(a==null?void 0:a.EventName)+" - "+u.Name+" - Submitted");let T="Registration Form",Z="Please fill the form to register for the event";return u&&u.Name&&(T=u.Name+" - Registration Form",Z="Please continue remaining steps to complete the registration"),m&&m.TeamName&&(T=m.TeamName+" - Registration Form",Z="Please continue remaining steps to complete the registration"),o&&(T="View",Z="Please view the details submitted in the registration form"),H&&(y=(a==null?void 0:a.EventName)+" - First User Registration",T="Registration Form",Z="Please fill the form to register for the event"),N&&(y=(a==null?void 0:a.EventName)+" - Account Registration",T="Account Registration Form",Z="Please fill the form to register an account for adding participants"),e.jsx(_r,{title:T,description:Z,open:!0,customHeading:j||null,setOpen:()=>{s()},children:e.jsx(ve,{heading:y,outerClasses:"relative w-full",headingClasses:"px-1 lg:px-4  w-full",children:e.jsx("div",{className:"w-full mt-5 min-h-[800px]",id:"registrationBox",children:f?e.jsxs(e.Fragment,{children:[(p==null?void 0:p.length)>1&&e.jsx(Qn,{isSubmitted:o,availableSteps:p,submittedSteps:l,handleClick:L}),w?e.jsx(ot,{}):e.jsx(e.Fragment,{children:e.jsx(Zr,{participantType:n,isGuardianRegistration:N,handleNext:B,isSubmitted:o,eventDetails:a,isPlayGround:!1,onChange:R,data:v,isLastStep:$,existingComponents:z,selectedComponent:P,setSelectedComponent:c,components:z,setComponents:h},b)})]}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a step to proceed"})})})})}else if(H&&n==="individual")return e.jsx(ve,{heading:a+" - Event Registration",outerClasses:"relative w-3/4",headingClasses:"px-1 md:px-6  w-full",children:e.jsx("div",{className:"w-full mt-5",children:e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please click on add button and proceed"})})})}function vs({view:t,setActiveTab:r,getEvets:s,getUserRoles:n,setParticipantTypeInt:o,getParticipants:u,participantTypeInt:m,candidateId:a,closeModel:f,customComponents:w,allowEdit:b}){var wt,Nt,Et,$t,Ft,Tt,Ct,St;let{user:h}=Lr(),p=(h==null?void 0:h.RoleTitle)==="Guardian",l=((wt=h==null?void 0:h.Email)==null?void 0:wt.indexOf("justnshalom"))!=-1,[x,j]=i.useState(0),[v,R]=i.useState(null),[L,B]=i.useState({});const[z,H]=Sr();let[P,c]=i.useState(null),[$,N]=i.useState(!1);var y={};let[T,Z]=i.useState([]),[Fe,Ve]=i.useState(null),[ge,Te]=i.useState([]),[Ge,Ce]=i.useState({}),[F,Se]=i.useState(m==1?"Individual":m==2?"Team":"");console.log({participantTypeInt:m});let[q,ce]=i.useState([...ne]),[je,We]=i.useState({}),D=d=>{R(d)},Pe=d=>{Ce(d)},K=d=>{Se(d)};const{row:g,status:I}=Lt(s||"/CandidateJson/GetEvents",{select:"AllowDisplayCompetitionOrder,Description,EVId,EndDateString,EventCategory,EventCategoryTitle,EventLogo,EventName,IdentityBackgroundImage,OrganizationLogo,OrganizationName,OrganizationShortName,StartDateString,Venue,JsonSettings",doCache:!0});let J=()=>{},k="finished",G=()=>{},se="finished",V=()=>{},bt="finished",{row:le,update:ir,status:ar,setFilter:Le,delete:or}=Lt(u||"/CandidateJson/GetParticipants",{deleteUrl:"/CandidateJson/RemoveUser",mandatoryParams:["participantType"],select:"participantList,userList,UserEmail,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,CreatedBy,CreatedByUserName,ParticipationId,UserJsonSettings,TeamJsonSettings,Remarks,LevelSettings,RegistrationId",updateUrl:"/CandidateJson/UpdateParticipant",doCache:!0,filter:a?{Candidate:a,...m==1?{participantType:"1"}:m==2?{participantType:"2"}:{}}:{}}),dr=Ur(le,a,v==null?void 0:v.UId,P==null?void 0:P.Team),{userRoles:ye,userRole:A,users:ue,userData:O,teams:vt,teamData:M}=dr;v=v||O,P=P||M;let cr=d=>{try{return tt("/CandidateJson/UpdateTeam",d)}catch{}},ur=d=>{try{return tt("/CandidateJson/UpdateUser",d)}catch{}},mr=d=>{try{return tt(a?"/UsersRolesJson/Save":"/CandidateJson/UpdateUserRoles",d)}catch{}},he=ue!=null&&ue.length?null:(Nt=me(localStorage.user))==null?void 0:Nt.user;if(p&&!l&&(he=null),F=="Team"){let d=(Et=me(localStorage.user))==null?void 0:Et.user;d&&(he=(($t=d==null?void 0:d.Email)==null?void 0:$t.indexOf("justnshalom"))==-1?null:d)}let U=he?{UId:he==null?void 0:he.UId}:null;U&&(O={UId:U==null?void 0:U.UId});let xr=function(){if(U){let d=rt(E,ne,!0,"Individual",ue,U,"participationDetails"),S=rt(E,ne,!0,"Team",ue,U,"participationDetails");d.length>0&&d.find(X=>X.name=="User")?Re(U):S.length>0&&S.find(X=>X.name=="Team")&&ke({})}};$=Cr(I,k,se,bt,ar)||$;let W=me(A==null?void 0:A.JsonSettings),ie=me(O==null?void 0:O.JsonSettings),ee=me(M==null?void 0:M.TeamJsonSettings);const Ze=g==null?void 0:g.JsonSettings,Ie=Ze!=null&&Ze!=""?me(Ze):{components:{}},E=Ie.components,fr=Ie==null?void 0:Ie.AdditionalSettings,_e=Object.keys(E??{});let gr=me(L==null?void 0:L.JsonSettings),Ke=(_e==null?void 0:_e.includes("Agreement"))&&((Tt=(Ft=E==null?void 0:E.Agreement)==null?void 0:Ft.filter(d=>{var S;return((S=d==null?void 0:d.validate)==null?void 0:S.required)&&!W[d.name]&&!gr[d.name]}))==null?void 0:Tt.length)==0;Ke&&localStorage.setItem("isAgreementStepFilled","true"),localStorage.getItem("isAgreementStepFilled")=="true"&&(Ke=!0);let te=rt(E,q,Ke,F,ue,U,t);console.log({availableSteps:te});let hr=zr(E),Y=Jr(te);ge=Vr(E,Y);let qe=Y?Gr(Y.name,{},Pe,j,Y,A,W,O,ie,F,M,le,E,v,P,ee,!1,L):{};const Re=async d=>{O=d,q=ne,A=ye==null?void 0:ye.find(S=>S.User==d.UId),F="Individual",W=JSON.parse(A!=null&&A.JsonSettings?A==null?void 0:A.JsonSettings:"{}"),ie=JSON.parse(O!=null&&O.JsonSettings?O==null?void 0:O.JsonSettings:"{}"),v=d,D(d),K(F),c({}),T=[],Z([]),ce(ne),x=x+1,j(x)},ke=async d=>{M=d,ee=JSON.parse(M!=null&&M.TeamJsonSettings?M==null?void 0:M.TeamJsonSettings:"{}"),q=ne,A={},W={},ie={},P=d,c(d),D({}),F="Team",K(F),T=[],ce(ne),Z([]),x=x+1,j(x)},jt=(d,S,X,re,Fr,Q,Pt,Xe,ts,rs,ns,ss,ls,is,Qe)=>{if(S.preventDefault(),!re)return;let Tr=re[d];if(!((Xe==null?void 0:Xe.FinishedSteps)||(Qe==null?void 0:Qe.FinishedSteps)||a)&&!X&&!(re.findIndex(De=>De.status==="active")>d)&&!T.find(De=>De.name==Tr.name)){et.error("Please complete the current step/click the next button for proceed to the next step.");return}const Be=re==null?void 0:re.map((ae,be)=>be===d?{...ae,status:"active"}:{...ae,status:"inactive"});if(re=Be,Q=Be.find(ae=>ae.status==="active"),E[Q.name]){let ae=E[Q.name];ae.forEach(be=>{be.name=be.name.charAt(0).toLowerCase()+be.name.slice(1)}),y[Q.name]=[...ae]}else y[Q.name]=[];window.scrollTo({top:0,behavior:"smooth"}),q=Be,ce(Be)},pr=async(d,S,X)=>{N(!0),je={...je,...d};let re=te.findIndex(Q=>Q.status==="active")+1;if(X||re>=te.length&&(F=="Individual"?W.FinishedSteps=!0:d.FinishedSteps=!0),await Wr(d,L,Y,A,ye,W,O,ie,F,M,le,ge,mr,ur,cr,Le,ir,v,G,D,P,c,J,V,B,ee,vt,fr,X)){Z([...T,Y]),S();let Q=te.findIndex(Pt=>Pt.status==="active")+1;Q<te.length&&!X?jt(Q,{preventDefault:()=>{}},!0,te,qe,Y,A,W,O,ie,F,M,le,v,ee):(D(null),A={},ie={},W={},M={},c(null))}else et.error("Failed to save data");N(!1),j(x+1),r("My Participation")},br=(d,S)=>{y[Y.name]=d};let vr=()=>{B({}),D({}),q=ne,ce(q),A={},ie={},W={},M={},ee={},c({})},yt=async d=>{vr(),x=x+1,j(x)};const jr=async()=>{if(U){Re(U);return}F="Individual",K(F),yt()},yr=async()=>{p&&l?r("Registration"):(F="Team",K(F),yt())},wr=(d,S)=>{jt(d,S,!1,te,qe,Y,A,W,O,ie,F,M,le,v,ee)};let Ye=F=="Individual"&&(W==null?void 0:W.FinishedSteps)||F=="Team"&&(ee==null?void 0:ee.FinishedSteps);a&&(Ye=!0),b&&a&&(Ye=!1);let Nr=(E==null?void 0:E.User)&&(E==null?void 0:E.Team),Ae=(E==null?void 0:E.User)&&((Ct=E==null?void 0:E.User)==null?void 0:Ct.length)>0,pe=(E==null?void 0:E.Team)&&((St=E==null?void 0:E.Team)==null?void 0:St.length)>0;console.log({isTeamsAndIndividualRegistration:Nr,isIndividualRegistration:Ae,isTeamsRegistration:pe}),i.useEffect(()=>{!pe&&F==""&&(K("Individual"),Le({participantType:"1"}))},[pe]);let Er=()=>{D(null),c(null),Z([]),f&&f()};if(a&&!le)return e.jsx(ot,{});let Me=[];Ae&&Me.push({name:"Individual",icon:Je}),pe&&Me.push({name:"Team",icon:Kt});let $r=d=>{if(d){const S={UserRoleId:F=="Individual"?d.Candidate:d.Team,id:F=="Individual"?d.Candidate:d.Team,participantType:F=="Individual"?"1":"2"};H(S)}};return e.jsxs("div",{children:[e.jsx(z,{title:"Delete Participant",description:"Are you sure you want to delete this participant?",confirmButtonLabel:"Delete",confirmButtonClick:async d=>{await or(d),et.success("Participant Deleted Successfully")},className:"w-96  print:hidden"}),e.jsx(Dn,{customComponents:w,userRoleJson:W,setComponents:Te,participantType:F,steps:q,gotoHome:Er,isSubmitted:Ye,selectedTeam:P,tempUser:U,selectedUser:v,eventDetails:g,activeStep:Y,isLoading:$,onChange:br,availableSteps:te,submittedSteps:T,allStepsComponents:E,data:{...qe},handleClick:wr,handleNext:pr,components:ge,selectedComponent:Fe,setSelectedComponent:()=>{}},x),t=="participationDetails"&&e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6 mt-5",children:Me.map((d,S)=>e.jsxs("button",{onClick:()=>{K(d.name),Le({participantType:d.name=="Individual"?"1":"2"})},className:C(F===d.name?"text-sky-800 bg-sky-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",S===0?"rounded-l-lg":"",S===Me.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none"),children:[e.jsx(d.icon,{className:C(F===d.name?"text-sky-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsxs("span",{className:C(d.hideOnMobile?"hidden sm:block":""),children:["As ",d.name]}),e.jsx("span",{"aria-hidden":"true",className:C(F===d.name?"bg-sky-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},d.name))}),e.jsx("div",{className:"flex mt-6 flex-col justify-center justify-items-center sm:flex-row sm:space-x-2",children:e.jsx(e.Fragment,{children:e.jsx(Yn,{allStepsComponents:E,allFields:hr,teams:vt,onClickDelete:$r,updateIndex:x,tempUser:U,selectedTeam:P,isIndividualRegistration:Ae,isTeamsRegistration:pe,handleChangeTeam:ke,participantType:F,addNewParticipant:()=>{p&&l?r("Registration"):(r("My Participation"),F=="Individual"?U?Re(U):jr():ke({}))},addNewTeamParticipant:yr,userRoles:ye,users:ue,participationDetails:le,selectedUser:v,setParticipantType:K,handleChangeUser:Re})})})]}),t=="eventDetails"&&e.jsx(Kn,{tempUser:U,isIndividualRegistration:Ae,isTeamsRegistration:pe,startNewRegistration:()=>{p&&l?r("Registration"):(r("My Participation"),F=="Individual"?xr():ke({}))},participationDetails:le,eventDetails:g,setParticipantType:d=>{K(d),Le({participantType:d=="Individual"?"1":"2"})},participantType:F,allStepsComponents:E})]})}export{vs as R,Gn as j};
