import{r as l,R as te,u as Wt,j as e,L as ze,b as ct,f as Xt,p as de,_ as Be}from"./mainweb-C-fYIVSe.js";import{u as Je,i as Qt}from"./useBackend-JnmMr3HB.js";import{u as es}from"./useConfirmation-C16HC6cK.js";import{p as Me}from"./httpService-fNHmhpQ8.js";import{c as w}from"./utilities-CN4lTu6a.js";import{M as lt}from"./index.modern-LU3-dINH.js";import{B as pe}from"./box-8Vs7llda.js";import{$ as ts,a as ss,w as ls,e as as,r as is,b as Ce,c as at}from"./dateHelper-YDrGqKPT.js";import{r as ee,F as mt,c as xt,e as rs,g as Oe,d as ns,f as os,a as ds,u as cs,s as ms}from"./publicRegistrationHelper-Cu-fE6fi.js";import{F as it}from"./CalendarDateRangeIcon-1ytQnhqY.js";import{K as $e,y as Ge,T as xs,o as fe,L as _e,u as Ze,_ as rt,O as nt,b as je,c as us}from"./keyboard-Co2Qh0Xo.js";import{C as fs,c as ps,i as Re,u as gs,x as hs,R as js,s as bs}from"./dialog-BRCG_XkL.js";import{F as Fe}from"./ChevronRightIcon-CNEYZHfs.js";import{F as ut}from"./PencilIcon-C19UkucN.js";import{F as ft}from"./TrashIcon-B-NjqM4y.js";import{F as pt}from"./UserGroupIcon-lsQA3Zy8.js";function vs({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),l.createElement("path",{fillRule:"evenodd",d:"M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z",clipRule:"evenodd"}))}const gt=l.forwardRef(vs);function Ns({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{d:"M1 8.25a1.25 1.25 0 1 1 2.5 0v7.5a1.25 1.25 0 1 1-2.5 0v-7.5ZM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0 1 14 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 0 1-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 0 1-1.341-.317l-2.734-1.366A3 3 0 0 0 6.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 0 1 2.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388Z"}))}const ht=l.forwardRef(Ns);function ys({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fillRule:"evenodd",d:"M9.493 2.852a.75.75 0 0 0-1.486-.204L7.545 6H4.198a.75.75 0 0 0 0 1.5h3.14l-.69 5H3.302a.75.75 0 0 0 0 1.5h3.14l-.435 3.148a.75.75 0 0 0 1.486.204L7.955 14h2.986l-.434 3.148a.75.75 0 0 0 1.486.204L12.456 14h3.346a.75.75 0 0 0 0-1.5h-3.14l.69-5h3.346a.75.75 0 0 0 0-1.5h-3.14l.435-3.148a.75.75 0 0 0-1.486-.204L12.045 6H9.059l.434-3.148ZM8.852 7.5l-.69 5h2.986l.69-5H8.852Z",clipRule:"evenodd"}))}const ot=l.forwardRef(ys);function ws({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fillRule:"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"}))}const Ss=l.forwardRef(ws);function Cs({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{d:"M6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z"}))}const Rs=l.forwardRef(Cs);function Fs({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{d:"M10.75 6.75a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z"}))}const Es=l.forwardRef(Fs);function Ps({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))}const Ee=l.forwardRef(Ps);function Is({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),l.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const Ts=l.forwardRef(Is);function As({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const ks=l.forwardRef(As);var dt;let Ds=(dt=te.startTransition)!=null?dt:function(t){t()};var Ls=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ls||{}),Us=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(Us||{});let Bs={0:t=>({...t,disclosureState:Ze(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,s){return t.buttonId===s.buttonId?t:{...t,buttonId:s.buttonId}},3(t,s){return t.panelId===s.panelId?t:{...t,panelId:s.panelId}},4(t,s){return t.buttonElement===s.element?t:{...t,buttonElement:s.element}},5(t,s){return t.panelElement===s.element?t:{...t,panelElement:s.element}}},He=l.createContext(null);He.displayName="DisclosureContext";function Ve(t){let s=l.useContext(He);if(s===null){let c=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,Ve),c}return s}let qe=l.createContext(null);qe.displayName="DisclosureAPIContext";function jt(t){let s=l.useContext(qe);if(s===null){let c=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,jt),c}return s}let Ye=l.createContext(null);Ye.displayName="DisclosurePanelContext";function Ms(){return l.useContext(Ye)}function Os(t,s){return Ze(s.type,Bs,t,s)}let Js=l.Fragment;function zs(t,s){let{defaultOpen:c=!1,...r}=t,x=l.useRef(null),N=Ge(s,xs(h=>{x.current=h},t.as===void 0||t.as===l.Fragment)),m=l.useReducer(Os,{disclosureState:c?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:u},F]=m,g=fe(h=>{F({type:1});let f=us(x);if(!f||!u)return;let T=h?h instanceof HTMLElement?h:h.current instanceof HTMLElement?h.current:f.getElementById(u):f.getElementById(u);T?.focus()}),b=l.useMemo(()=>({close:g}),[g]),y=l.useMemo(()=>({open:d===0,close:g}),[d,g]),n={ref:N},a=_e();return te.createElement(He.Provider,{value:m},te.createElement(qe.Provider,{value:b},te.createElement(fs,{value:g},te.createElement(ps,{value:Ze(d,{0:Re.Open,1:Re.Closed})},a({ourProps:n,theirProps:r,slot:y,defaultTag:Js,name:"Disclosure"})))))}let $s="button";function Gs(t,s){let c=l.useId(),{id:r=`headlessui-disclosure-button-${c}`,disabled:x=!1,autoFocus:N=!1,...m}=t,[d,u]=Ve("Disclosure.Button"),F=Ms(),g=F===null?!1:F===d.panelId,b=l.useRef(null),y=Ge(b,s,fe(P=>{if(!g)return u({type:4,element:P})}));l.useEffect(()=>{if(!g)return u({type:2,buttonId:r}),()=>{u({type:2,buttonId:null})}},[r,u,g]);let n=fe(P=>{var L;if(g){if(d.disclosureState===1)return;switch(P.key){case je.Space:case je.Enter:P.preventDefault(),P.stopPropagation(),u({type:0}),(L=d.buttonElement)==null||L.focus();break}}else switch(P.key){case je.Space:case je.Enter:P.preventDefault(),P.stopPropagation(),u({type:0});break}}),a=fe(P=>{switch(P.key){case je.Space:P.preventDefault();break}}),h=fe(P=>{var L;is(P.currentTarget)||x||(g?(u({type:0}),(L=d.buttonElement)==null||L.focus()):u({type:0}))}),{isFocusVisible:f,focusProps:T}=ts({autoFocus:N}),{isHovered:j,hoverProps:C}=ss({isDisabled:x}),{pressed:p,pressProps:A}=ls({disabled:x}),E=l.useMemo(()=>({open:d.disclosureState===0,hover:j,active:p,disabled:x,focus:f,autofocus:N}),[d,j,p,f,x,N]),M=as(t,d.buttonElement),W=g?rt({ref:y,type:M,disabled:x||void 0,autoFocus:N,onKeyDown:n,onClick:h},T,C,A):rt({ref:y,id:r,type:M,"aria-expanded":d.disclosureState===0,"aria-controls":d.panelElement?d.panelId:void 0,disabled:x||void 0,autoFocus:N,onKeyDown:n,onKeyUp:a,onClick:h},T,C,A);return _e()({ourProps:W,theirProps:m,slot:E,defaultTag:$s,name:"Disclosure.Button"})}let _s="div",Zs=nt.RenderStrategy|nt.Static;function Hs(t,s){let c=l.useId(),{id:r=`headlessui-disclosure-panel-${c}`,transition:x=!1,...N}=t,[m,d]=Ve("Disclosure.Panel"),{close:u}=jt("Disclosure.Panel"),[F,g]=l.useState(null),b=Ge(s,fe(j=>{Ds(()=>d({type:5,element:j}))}),g);l.useEffect(()=>(d({type:3,panelId:r}),()=>{d({type:3,panelId:null})}),[r,d]);let y=gs(),[n,a]=hs(x,F,y!==null?(y&Re.Open)===Re.Open:m.disclosureState===0),h=l.useMemo(()=>({open:m.disclosureState===0,close:u}),[m.disclosureState,u]),f={ref:b,id:r,...js(a)},T=_e();return te.createElement(bs,null,te.createElement(Ye.Provider,{value:m.panelId},T({ourProps:f,theirProps:N,slot:h,defaultTag:_s,features:Zs,visible:n,name:"Disclosure.Panel"})))}let Vs=$e(zs),bt=$e(Gs),vt=$e(Hs),qs=Object.assign(Vs,{Button:bt,Panel:vt});function Ys({title:t,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),t?l.createElement("title",{id:s},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Ks=l.forwardRef(Ys);function Ws({participationDetails:t,isTeamsRegistration:s,isIndividualRegistration:c,eventDetails:r,setParticipantType:x,tempUser:N,startNewRegistration:m,participantType:d,allStepsComponents:u}){let{user:F}=Wt();F?.RoleTitle;let g=F?.Email?.indexOf("justnshalom")!=-1,b=JSON.parse(r?.JsonSettings??"{}"),y=b?.AdditionalSettings?.FeesCurrency??"USD";const{rows:n}=Je("/CandidateJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:1},doCache:!0,select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status,AgeStartDate,MaxAgeDate,MinAgeDate,AgeStartMonth,AgeStartYear"});console.log("ageWiseGroups",n),console.log("jsonSettings",b);let[a,h]=l.useState(""),f=[],T=b?.AdditionalSettings?.DisableIndividualRegForm=="Yes";b?.AdditionalSettings?.DisableTeamRegForm=="Yes",c&&f.push({name:"Individual",icon:ot}),s&&f.push({name:"Team",icon:ot});let j=Ce(r?.StartDateString),C=Ce(r?.EndDateString),p=j?.toDateString(),A=C?.toDateString(),E=p===A,M=u.Participations?.length>0&&u.Participations?.filter(o=>o.type=="competitions")?.length>0;b?.AdditionalSettings?.DisableCompetitionsInFrontPage=="Yes"&&(M=!1);let W=b?.AdditionalSettings?.DisableFormFieldsInFrontPage=="Yes",P=b?.AdditionalSettings?.DisableBannerImageInFrontPage!="Yes",L=t?.Competitions?.map(o=>o.GroupName),D=t?.Competitions?.map(o=>o.Group),U=[...new Set(D)];[...new Set(L)];let z=U.length>1;U.filter(o=>o==a).length==0&&(a=""),z&&U.length>0&&!a&&(a=U[0]);let ge=n?.find(o=>o.EventGroupId==a);console.log("selectedGroup ",a);const ce=[];let me=z?t?.Competitions?.filter(o=>o.Group==a):t?.Competitions;console.log("filteredCompetitions",me);const Pe=[...new Set(me?.map(o=>o.CompetitionCategoryName))],Ie=me?.reduce((o,I)=>o.find(S=>S.CompetitionName===I.CompetitionName)?o:o.concat([I]),[]);console.log("uniqueCategories",Pe),Pe.forEach(o=>{let I=Ie.filter(S=>S.CompetitionCategoryName==o),B={};B.CategoryName=o,B.CompetitionNames=[],I.forEach(S=>{let $=me?.filter(xe=>xe.CompetitionCategoryName==o&&xe.CompetitionName==S.CompetitionName),O={};O.CompetitionName=S.CompetitionName,O.competitions=$,B.CompetitionNames.push(O)}),ce.push(B)});const v=({startNewRegistration:o})=>e.jsx("div",{className:"bg-indigo-100 mt-3 flex-grow",children:e.jsx("div",{className:"px-6 py-6",children:T?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration is closed for this event."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Ready to participate? ",e.jsx("br",{}),e.jsxs("span",{className:"text-indigo-600",children:["Join ",r?.EventName," now!"]})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("button",{type:"button",onClick:()=>o("Individual"),className:"rounded-md bg-indigo-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 max-w-96 w-full",children:[e.jsx(ks,{className:"h-6 w-6 inline-block mr-2  -mt-1"}),"Register Now"]})})]})})});let be=()=>e.jsx("div",{className:"bg-blue-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Already registered? ",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:"Login to your account"})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("a",{href:"/Account/Login",className:"rounded-md bg-blue-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 text-center focus-visible:outline-offset-2 focus-visible:outline-blue-600 max-w-96 w-full",children:[e.jsx(Ks,{className:"h-6 w-6 inline-block mr-2"}),"Login Now"]})})]})});const H=({startNewRegistration:o})=>e.jsx("div",{className:"bg-violet-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Ready to participate in a team event? ",e.jsx("br",{}),e.jsxs("span",{className:"text-violet-600",children:["Join ",r?.EventName," now!"]})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("button",{type:"button",onClick:()=>o("Team"),className:"rounded-md bg-indigo-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 max-w-96 w-full",children:["  ",e.jsx(Ts,{className:"h-6 w-6 inline-block mr-2 -mt-1"}),"Register Team Now"]})})]})});return r?e.jsxs("div",{className:"flex flex-col p-4",children:[e.jsx("div",{className:"event-details flex flex-col ",children:e.jsxs("div",{className:"flex flex-col md:flex-row ",children:[e.jsxs("div",{className:"mx-auto sm:max-w-[300px] min-w-60 text-center mb-10",children:[r?.OrganizationLogo&&e.jsx("img",{src:r?.OrganizationLogo,alt:"Event Logo",className:"max-h-24 sm:max-h-56 w-auto mx-auto"}),e.jsx("h2",{className:"text-xl mt-4 font-semibold tracking-tight text-purple-950",children:r?.OrganizationName}),e.jsx("p",{className:"mt-1 mb-2 text-pretty text-sm font-medium text-gray-500",children:"Presenting"}),r?.EventLogo&&b?.AdditionalSettings?.DisableEventLogoInFrontPage!="Yes"&&e.jsx("img",{src:r?.EventLogo,alt:"Event Logo",className:"hidden sm:flex max-h-56 w-auto mx-auto"}),P&&e.jsx("div",{className:"flex sm:hidden flex-col items-center justify-center mb-6",children:e.jsx("img",{alt:"",src:r?.IdentityBackgroundImage,className:"h-auto w-auto shadow-lg  object-right max-h-96"})}),e.jsx("h2",{className:"text-2xl mt-2 font-semibold tracking-tight text-primary",children:r?.EventName}),e.jsx("div",{className:"mt-4 text-pretty text-xs font-medium text-gray-500 ",children:e.jsx("blockquote",{className:"text-xs border-l-emerald-400 border-l-2 px-4 text-left text-gray-600 whitespace-pre-line",children:e.jsx(lt,{options:{forceBlock:!0},children:r?.Description})})}),e.jsx("p",{className:"event-date mt-8 text-pretty text-xs font-medium text-gray-500",children:E?e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"h-6 w-6 inline-block"}),p]}):e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"h-6 w-6 inline-block"}),p," - ",A]})}),r?.Venue?.indexOf("iframe")>-1?e.jsx("div",{className:"mt-8 iframelocation",dangerouslySetInnerHTML:{__html:r?.Venue}}):r?.Venue?.indexOf("http")>-1?e.jsxs("a",{href:r?.Venue,target:"_blank",rel:"noreferrer",className:"mt-8 text-blue-600 hover:text-blue-500 justify-center items-center flex",children:[e.jsx(Ss,{className:"h-6 w-6 inline-block"}),r?.Venue]}):e.jsx("p",{className:"mt-8 text-pretty text-lg font-medium text-gray-500 sm:text-xl/8",children:r?.Venue}),N&&e.jsxs(e.Fragment,{children:[c&&d=="Individual"&&e.jsx(v,{startNewRegistration:m}),s&&d=="Team"&&e.jsx(H,{startNewRegistration:m})]}),g&&e.jsx(be,{})]}),e.jsxs("div",{className:"flex flex-col sm:pl-6",children:[P&&e.jsx("div",{className:"hidden sm:flex flex-col items-center justify-center mb-6",children:e.jsx("img",{alt:"",src:r?.IdentityBackgroundImage,className:"h-auto w-auto shadow-lg  object-right max-h-96"})}),M&&e.jsxs(pe,{heading:"Competitions",childrenClasses:"flex flex-col py-6 pl-2",outerClasses:"mb-4",children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6",children:f.map((o,I)=>e.jsxs("button",{onClick:()=>x(o.name),className:w(d===o.name?"text-violet-800 bg-violet-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",I===0?"rounded-l-lg":"",I===f.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none "),children:[e.jsx(o.icon,{className:w(d===o.name?"text-violet-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsx("span",{className:w(o.hideOnMobile?"hidden sm:block ":""),children:o.name}),e.jsx("span",{"aria-hidden":"true",className:w(d===o.name?"bg-violet-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},I))}),e.jsx("div",{className:"block sm:hidden pb-6",children:z&&e.jsx("select",{id:"group",name:"group",className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-2 pl-3 pr-8 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600",value:a,onChange:o=>h(o.target.value),children:n?.map((o,I)=>e.jsx("option",{value:o.EventGroupId,children:o.GroupName.split(" - ")?.[0]},I))})}),e.jsx("div",{className:"hidden sm:flex flex-col items-center justify-center",children:z&&e.jsx(e.Fragment,{children:e.jsx("nav",{"aria-label":"Tabs",className:"flex flex-wrap gap-x-1 pb-4",children:n?.map((o,I)=>(console.log("x",o),e.jsxs("button",{type:"button",onClick:()=>h(o.EventGroupId),className:w(o.EventGroupId==a?"bg-indigo-100 text-indigo-700":"text-gray-500 bg-gray-50 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium text-center"),children:[e.jsx("span",{children:o.GroupName.split(" - ")?.[0]}),e.jsx("br",{})]},I)))})})}),ge&&e.jsxs("div",{className:"text-sm text-gray-700 font-medium whitespace-break-spaces text-center  pb-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:"text-gray-500",children:[" ",ge.GroupName]})}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),e.jsxs("span",{className:"text-sm",children:[" ",at(Ce(ge.MinAgeDate))," - ",at(Ce(ge.MaxAgeDate))]})]})]}),ce?.map((o,I)=>e.jsxs("div",{className:"mb-3 rounded-md border border-gray-200 px-5 py-2",children:[e.jsx("div",{className:"border-b border-gray-300 pb-2  mt-1",children:e.jsxs("div",{className:"flex flex-wrap items-baseline",children:[e.jsx("h3",{className:"mt-1 text-xl font-semibold leading-6 text-violet-800",children:o.CategoryName}),e.jsx("p",{className:"ml-1 truncate text-base text-gray-500",children:"Programs"})]})}),e.jsx("div",{className:"flex flex-col md:grid md:grid-cols-2 md:gap-2",children:o.CompetitionNames?.map((B,S)=>e.jsxs("div",{children:[e.jsx("div",{className:"border-b border-gray-100 pb-0",children:e.jsxs("div",{className:"flex items-baseline text-left justify-start",children:[e.jsx("h3",{className:"mt-1 text-medium font-semibold leading-6 text-green-800",children:B.CompetitionName}),e.jsx("p",{className:"ml-1 truncate text-sm text-gray-500"})]})}),e.jsx("div",{className:"mt-2 flex flex-wrap",children:B.competitions?.map(($,O)=>e.jsxs("div",{className:"w-min-[300] pr-4 mb-2",children:[e.jsx("div",{className:"flex gap-3",children:e.jsx("label",{className:w("","block text-sm text-gray-900"),children:e.jsx("span",{className:w("","text-xs font-medium leading-6 select-none text-gray-900"),children:(r?.AllowDisplayCompetitionOrder==1?$.CompetitionOrder+" - ":"")+($.Title.replace(B.CompetitionName,"").replace(/ /gi,"").trim()!==""?$.Title.replace(B.CompetitionName,"").trim():B.CompetitionName.trim())})})}),e.jsx("div",{className:"text-sm text-gray-500 whitespace-break-spaces",children:$?.Remarks&&e.jsx(lt,{children:$.Remarks})}),$.Fees>0&&e.jsxs("p",{className:"fees text-xs mt-2 font-normal text-gray-600",children:["Fees:",e.jsxs("i",{className:"text-indigo-800 font-medium text-xs",children:[" ",$.Fees,y]})]})]},I+"_"+S+"_"+$.CompetitionStructureId))})]},I+"_"+S))})]},I))]}),!W&&e.jsx(pe,{heading:"What are the required information to finish registration?",childrenClasses:"flex flex-col py-6 px-2",children:e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"divide-y divide-gray-900/10",children:[e.jsx("h2",{className:"text-sm font-semibold tracking-tight text-gray-900",children:"Get ready to complete Registration! Be ready with following details to finish your registration..."}),e.jsx("dl",{className:"mt-2 space-y-6 divide-y divide-gray-900/10",children:ee.filter(o=>o.name!="Agreement"&&o.name!="Participant Type"&&(d=="Individual"?o.name!="Team"&&o.name!="Team Members":o.name!="User"))?.map((o,I)=>{let B=u[o.name];return B?.length?e.jsxs(qs,{as:"div",className:"pt-6",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(bt,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e.jsxs("span",{className:"text-base/7 font-semibold",children:[o.name," Information"]}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(Es,{"aria-hidden":"true",className:"size-6 group-data-[open]:hidden"}),e.jsx(Rs,{"aria-hidden":"true",className:"size-6 group-[&:not([data-open])]:hidden"})]})]})}),e.jsx(vt,{as:"dd",className:"mt-2 pr-12",children:e.jsx("ul",{className:"list-disc ms-6 mt-3 space-y-1.5",children:B.filter(S=>S.type!="heading"&&S.type!="paragraph"&&S.type!="payment-summary"&&S.type!="imageFromUrl")?.map(S=>e.jsx("li",{className:"ps-1 text-sm text-gray-600 dark:text-neutral-400",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:S.label})},S.id))})})]},I):null})})]})})})})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-grow space-x-2",children:[N&&e.jsxs(e.Fragment,{children:[c&&d=="Individual"&&e.jsx(v,{startNewRegistration:m}),s&&d=="Team"&&e.jsx(H,{startNewRegistration:m})]}),g&&e.jsx(be,{})]})]}):e.jsx(ze,{})}const Xs=({participationDetails:t,users:s,userRoles:c,activeUser:r,onChange:x,allStepsComponents:N,onClickDelete:m})=>{let d=N?.User;N?.Participation;let u=N?.Payment;const F=g=>{x(g)};return e.jsx("div",{className:w("flex justify-center gap-2",r?"flex-col":"flex-row flex-wrap"),children:s?.map((g,b)=>{let y=c?.find(p=>p.User===g.UId),n=y?.JsonSettings?JSON.parse(y.JsonSettings):{};console.log(n);let a="Not Submitted",h=30,f=[];t&&(f=t.ParticipantsList?.filter(p=>p.Candidate==y?.UserRoleId),f?.length>0&&(h=60)),n?.FinishedSteps&&(h=100);let T=["DobString","Mobile"],j=["paymentMethod","paymentReferenceId","paymentScreenShot"],C=!1;return j?.find(p=>n[p]!=null)&&(C=!0),n?.FinishedSteps==!0&&(a="Submitted"),n.ApprovalStatus&&(a=n.ApprovalStatus),n?.FinishedSteps==!0&&n.ApprovalStatus=="Reviewed"&&(a="Submitted"),n.FinishedSteps==!0&&n.ApprovalStatus=="Submitted"&&(a="Submitted"),!n.FinishedSteps&&n.ApprovalStatus=="InProgress"&&(a="Not Submitted"),e.jsxs("div",{className:w("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",a=="Submitted"?"border-blue-500":a=="Approved"?"border-green-500":a=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("div",{className:"flex justify-center",children:g.ProfilePicture?e.jsx("div",{className:"bg-gray-200 flex rounded-xl p-2",children:e.jsx("img",{className:"mx-auto size-32 shrink-0 rounded-full",src:g.ProfilePicture,alt:""})}):e.jsx(e.Fragment,{})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:g.Name}),e.jsxs("dl",{className:"mt-1  flex-col justify-between",children:[e.jsx("dd",{className:"text-sm text-gray-500 overflow-hidden text-ellipsis",children:g.Email}),e.jsx("dd",{className:"mt-3",children:a=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):a=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):a=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):a=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:a})})]}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[h!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:w("progress-bar-fill h-1   rounded-md",h==100?"bg-green-500":h>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${h}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ee,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"User Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:T.map((p,A)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:d?.find(E=>E.key?.toLowerCase()==p?.toLowerCase())?.label}),e.jsx("dd",{className:"font-medium text-gray-900",children:g[p]})]},A))})]})})]})]})}),f?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(ht,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[t?.OrganizationLevels?.map((p,A)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:p.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:y[p.LevelName+"Name"]})]},A)),e.jsx("div",{className:"h-4 flex w-full"}),f.map((p,A)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Fe,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),t?.Competitions?.find(E=>E.CompetitionStructureId==p.Competition)?.Title]})},A))]})]})})]})]})}),n?.FinishedSteps!=null&&C&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(mt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:j.map((p,A)=>e.jsx(e.Fragment,{children:n[p]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:u?.find(E=>E.key?.toLowerCase()==p?.toLowerCase())?.label}),p=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:n[p],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:n[p]})]},A)}))})]})})]})})}),n?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(xt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),n?.ReviewComments?.map((p,A)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Fe,{className:w("size-6 -mt-1",p.Status==="Reviewed"?"text-yellow-400":p.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:p.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:p.Comment})]})]})},A))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:a=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):a=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):a=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):a=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):a=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:a})}),e.jsx("div",{className:"flex flex-grow gap-2",children:n?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>F(g),children:[e.jsx(gt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>F(g),children:[e.jsx(ut,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>m({...g,...y}),children:[e.jsx(ft,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},b)})})};function Qs({teams:t,allStepsComponents:s,selectedTeam:c,advancedSettings:r,onClickDelete:x,participationDetails:N,handleChangeTeam:m,isIndividualRegistration:d,isTeamsRegistration:u,users:F,userRoles:g,selectedUser:b,handleChangeUser:y,participantType:n,setParticipantType:a,addNewParticipant:h,addNewTeamParticipant:f,tempUser:T}){let j=r?.DisableIndividualRegForm=="Yes";return r?.DisableTeamRegForm=="Yes",e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full",children:[n=="Individual"&&e.jsxs(e.Fragment,{children:[j&&d?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration is closed for this event."})]})}):d&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"w-full px-2 bg-yellow-900 max-w-60 text-white text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary mr-4",onClick:h,children:"Add New Individual Participant"})}),e.jsx(pe,{heading:"Participation Requests",outerClasses:"relative "+(b?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[d&&e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx(Xs,{allStepsComponents:s,onClickDelete:x,users:F,activeUser:b,userRoles:g,onChange:y,setParticipantType:a,participationDetails:N})}),!F?.length&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(Ee,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new participants to the list by click on the Add New Participant button."})]})})]})})]}),n=="Team"&&u&&e.jsx(el,{teams:t,tempUser:T,selectedTeam:c,participationDetails:N,handleChangeTeam:m,users:F,onClickDelete:x,userRoles:g,allStepsComponents:s,selectedUser:b,handleChangeUser:y,setParticipantType:a,addNewParticipant:f})]})})}function el({teams:t,handleChangeTeam:s,allStepsComponents:c,users:r,userRoles:x,selectedUser:N,participationDetails:m,onClickDelete:d,addNewParticipant:u,tempUser:F}){c?.Team,c?.Participation;let g=c?.Payment;return e.jsxs("div",{className:"max-w-full flex-1 overflow-hidden",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`w-full bg-green-900 max-w-60 text-white  text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 \r
            px-2  mr-4\r
            focus-visible:outline-offset-2 focus-visible:outline-primary`,onClick:u,children:"Add New Team Participant"})}),e.jsx(pe,{heading:"Participation Requests",outerClasses:"relative "+(N?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx("div",{className:w("flex justify-center gap-2","flex-row flex-wrap"),children:t?.map((b,y)=>{let n=b?.TeamJsonSettings?JSON.parse(b.TeamJsonSettings):{},a="Not Submitted",h=30,f=[];m&&(f=m.ParticipantsList?.filter(j=>j.Candidate==b?.Team),f?.length>0&&(h=60)),n?.FinishedSteps&&(h=100);let T=["paymentMethod","paymentReferenceId","paymentScreenShot"];return n?.FinishedSteps==!0&&(a="Submitted"),n.ApprovalStatus&&(a=n.ApprovalStatus),n?.FinishedSteps==!0&&n.ApprovalStatus=="Reviewed"&&(a="Submitted"),n.FinishedSteps==!0&&n.ApprovalStatus=="Submitted"&&(a="Submitted"),!n.FinishedSteps&&n.ApprovalStatus=="InProgress"&&(a="Not Submitted"),e.jsxs("div",{className:w("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",a=="Submitted"?"border-blue-500":a=="Approved"?"border-green-500":a=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:b.TeamTeamName}),e.jsx("dl",{className:"mt-1  flex-col justify-between",children:e.jsx("dd",{className:"mt-3",children:a=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):a=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):a=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):a=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:a})})}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[h!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:w("progress-bar-fill h-1   rounded-md",h==100?"bg-green-500":h>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${h}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(pt,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Team Members"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:b?.TeamMembers?.map((j,C)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:j.UserName}),e.jsx("dd",{className:"font-medium text-gray-900",children:j.UserDobString})]},C))})]})})]})]})}),f?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(ht,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[m?.OrganizationLevels?.map((j,C)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:j.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:b[j.LevelName+"Name"]})]},C)),e.jsx("div",{className:"h-4 flex w-full"}),f.map((j,C)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Fe,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),m?.Competitions?.find(p=>p.CompetitionStructureId==j.Competition)?.Title]})},C))]})]})})]})]})}),n?.FinishedSteps!=null&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(mt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:T.map((j,C)=>e.jsx(e.Fragment,{children:n[j]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:g?.find(p=>p.key?.toLowerCase()==j?.toLowerCase())?.label}),j=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:n[j],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:n[j]})]},C)}))})]})})]})})}),n?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:w("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(xt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),n?.ReviewComments?.map((j,C)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(Fe,{className:w("size-6 -mt-1",j.Status==="Reviewed"?"text-yellow-400":j.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:j.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:j.Comment})]})]})},C))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:a=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):a=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):a=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):a=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):a=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:a})}),e.jsx("div",{className:"flex flex-grow gap-2",children:n?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>s(b),children:[e.jsx(gt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>s(b),children:[e.jsx(ut,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>d({...b}),children:[e.jsx(ft,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},y)})})}),!t?.length&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(Ee,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Team Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new team participants to the list by click on the Add New Team Participant button."})]})}),"  "]})})]})}function tl({isSubmitted:t,availableSteps:s,submittedSteps:c,handleClick:r}){return e.jsx("nav",{"aria-label":"Progress",className:"mb-2 flex w-full",children:e.jsx("ol",{role:"list",className:"divide-y divide-gray-300 rounded-md border border-gray-300 flex md:divide-y-0  w-full flex-wrap",children:s?.map((x,N)=>e.jsxs("li",{className:"relative md:flex md:flex-1 ",children:[x.status==="active"?e.jsx("a",{href:x.href,"aria-current":"step",className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-primary",children:e.jsx("span",{className:"text-white text-xs",children:x.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-indigo-600",children:x.label??x.name})]})}):c?.find(m=>m.name==x.name)||t?e.jsx("a",{href:x.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:m=>r(N,m),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-gray-300 group-hover:bg-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:x.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-400 group-hover:text-gray-900",children:x.label??x.name})]})}):e.jsx("a",{href:x.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:m=>r(N,m),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full border-2 border-gray-300 group-hover:border-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:x.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-500 group-hover:text-gray-900",children:x.label??x.name})]})}),N!==s.length-1?e.jsx(e.Fragment,{children:e.jsx("div",{"aria-hidden":"true",className:"absolute right-0 top-0 hidden h-full w-5 md:block",children:e.jsx("svg",{fill:"none",viewBox:"0 0 22 80",preserveAspectRatio:"none",className:"h-full w-full text-gray-300",children:e.jsx("path",{d:"M0 -2L20 40L0 82",stroke:"currentcolor",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"})})})}):null]},x.name))})})}const sl=te.lazy(()=>ct(()=>import("./formSubmission-3WFpUY30.js"),[])),ll=te.lazy(()=>ct(()=>import("./modalForm-DeXzKW5P.js"),[]));function al({steps:t,userRoleJson:s,isCoordinatorView:c,gotoHome:r,participantType:x,isSubmitted:N,selectedUser:m,selectedTeam:d,eventDetails:u,activeStep:F,isLoading:g,updateIndex:b,setComponents:y,availableSteps:n,submittedSteps:a,allStepsComponents:h,customComponents:f,data:T,onChange:j,handleClick:C,handleNext:p,components:A,tempUser:E,selectedComponent:M,setSelectedComponent:W}){if(console.log({data:T}),!n||n?.length==0)return e.jsx("div",{className:"text-center text-2xl text-gray-500",children:m||d?"Steps Loading/No Steps Found":""});let P=n.findIndex(D=>D.status==="active")+1===n.length,L=n.findIndex(D=>D.name==="Guardian Registration")>-1;if(console.log("isGuardianRegistration",L),m||d||L){let D=e.jsxs("span",{className:"text-gray-500",children:[u?.EventName+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Participant Registration"})]});x==="Team"&&(D=e.jsxs("span",{className:"text-gray-500",children:[u?.EventName+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Team Registration"})]})),m&&m.Name&&(D=u?.EventName+" - "+m.Name),s?.FinishedSteps==!0&&(D=u?.EventName+" - "+m.Name+" - Submitted");let U="Registration Form",z="Please fill the form to register for the event";return m&&m.Name&&(U=m.Name+" - Registration Form",z="Please continue remaining steps to complete the registration"),d&&d.TeamName&&(U=d.TeamName+" - Registration Form",z="Please continue remaining steps to complete the registration"),N&&(U="View",z="Please view the details submitted in the registration form"),E&&(D=u?.EventName+" - First User Registration",U="Registration Form",z="Please fill the form to register for the event"),L&&(D=u?.EventName+" - Account Registration",U="Account Registration Form",z="Please fill the form to register an account for adding participants"),e.jsx(ll,{title:U,description:z,open:!0,customHeading:f||null,setOpen:()=>{r()},children:e.jsx(pe,{heading:D,outerClasses:"relative w-full",headingClasses:"px-1 lg:px-4  w-full",children:e.jsx("div",{className:"w-full mt-5 min-h-[800px]",id:"registrationBox",children:F?e.jsxs(e.Fragment,{children:[n?.length>1&&e.jsx(tl,{isSubmitted:N,availableSteps:n,submittedSteps:a,handleClick:C}),g?e.jsx(ze,{}):e.jsx(e.Fragment,{children:e.jsx(sl,{isCoordinatorView:c,participantType:x,isGuardianRegistration:L,handleNext:p,isSubmitted:N,eventDetails:u,isPlayGround:!1,onChange:j,data:T,isLastStep:P,existingComponents:A,selectedComponent:M,setSelectedComponent:W,components:A,setComponents:y},b)})]}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a step to proceed"})})})})}else if(E&&x==="individual")return e.jsx(pe,{heading:u+" - Event Registration",outerClasses:"relative w-3/4",headingClasses:"px-1 md:px-6  w-full",children:e.jsx("div",{className:"w-full mt-5",children:e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please click on add button and proceed"})})})}function Pl({view:t,setActiveTab:s,getEvets:c,isCoordinatorView:r,setParticipantTypeInt:x,getParticipants:N,participantTypeInt:m,candidateId:d,closeModel:u,customComponents:F,allowEdit:g}){let{user:b}=Xt()||{};if(!b||!b.Email)return e.jsx("div",{children:"Please log in to access this form."});let y=b?.RoleTitle==="Guardian",n=b?.Email?.indexOf("justnshalom")!=-1,[a,h]=l.useState(0),[f,T]=l.useState(null),[j,C]=l.useState({});const[p,A]=es();let[E,M]=l.useState(null),[W,P]=l.useState(!1);var L={};let[D,U]=l.useState([]),[z,ge]=l.useState(null),[ce,me]=l.useState([]),[Pe,Ie]=l.useState({}),[v,be]=l.useState(m==1?"Individual":m==2?"Team":"");console.log({participantType:v}),console.log({participantTypeInt:m});let[H,o]=l.useState([...ee]),[I,B]=l.useState({}),S=i=>{T(i)},$=i=>{Ie(i)},O=i=>{be(i)};const{row:xe,status:Nt}=Je(c||"/CandidateJson/GetEvents",{select:"AllowDisplayCompetitionOrder,Description,EVId,EndDateString,EventCategory,EventCategoryTitle,EventLogo,EventName,IdentityBackgroundImage,OrganizationLogo,OrganizationName,OrganizationShortName,StartDateString,Venue,JsonSettings",doCache:!0});let yt=()=>{},wt="finished",St=()=>{},Ct="finished",Rt=()=>{},Ft="finished",{row:X,update:Et,status:Pt,setFilter:ae,delete:It}=Je(N||"/CandidateJson/GetParticipants",{deleteUrl:"/CandidateJson/RemoveUser",mandatoryParams:["participantType"],select:"participantList,userList,UserEmail,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,CreatedBy,CreatedByUserName,ParticipationId,UserJsonSettings,TeamJsonSettings,Remarks,LevelSettings,RegistrationId",updateUrl:"/CandidateJson/UpdateParticipant",doCache:!0,filter:d?{Candidate:d,...m==1?{participantType:"1"}:m==2?{participantType:"2"}:{}}:{}});console.log({participationDetails:X});let Ke=rs(X,d,f?.UId,E?.Team);console.log({extracted:Ke});let{userRoles:Te,userRole:_,users:he,userData:V,teams:We,teamData:Z}=Ke;f=f||V,E=E||Z;let Tt=i=>{try{return Me("/CandidateJson/UpdateTeam",i)}catch{}},At=i=>{try{return Me("/CandidateJson/UpdateUser",i)}catch{}},kt=i=>{try{return Me(d?"/UsersRolesJson/Save":"/CandidateJson/UpdateUserRoles",i)}catch{}},ve=he?.length?null:de(localStorage.user)?.user;if(y&&!n&&(ve=null),v=="Team"){let i=de(localStorage.user)?.user;i&&(ve=i?.Email?.indexOf("justnshalom")==-1?null:i)}let J=ve?{UId:ve?.UId}:null;J&&(V={UId:J?.UId});let Dt=function(){if(J){let i=Oe(k,ee,!0,"Individual",he,J,"participationDetails"),R=Oe(k,ee,!0,"Team",he,J,"participationDetails");i.length>0&&i.find(Y=>Y.name=="User")?Ne(J):R.length>0&&R.find(Y=>Y.name=="Team")&&ye({})}};W=Qt(Nt,wt,Ct,Ft,Pt)||W;let G=de(_?.JsonSettings),se=de(V?.JsonSettings),ie=de(Z?.TeamJsonSettings);const Ae=xe?.JsonSettings,Xe=Ae!=null&&Ae!=""?de(Ae):{components:{}},k=Xe.components,Qe=Xe?.AdditionalSettings,Lt=Object.keys(k??{});let Ut=de(j?.JsonSettings),ke=Lt?.includes("Agreement")&&k?.Agreement?.filter(i=>i?.validate?.required&&!G[i.name]&&!Ut[i.name])?.length==0;ke&&localStorage.setItem("isAgreementStepFilled","true"),localStorage.getItem("isAgreementStepFilled")=="true"&&(ke=!0);let Q=Oe(k,H,ke,v,he,J,t,r);console.log({availableSteps:Q});let Bt=ns(k),q=os(Q);ce=ds(k,q);let De=q?cs(q.name,{},$,h,q,_,G,V,se,v,Z,X,k,f,E,ie,!1,j):{};const Ne=async i=>{V=i,H=ee,_=Te?.find(R=>R.User==i.UId),v="Individual",G=JSON.parse(_?.JsonSettings?_?.JsonSettings:"{}"),se=JSON.parse(V?.JsonSettings?V?.JsonSettings:"{}"),f=i,S(i),O(v),M({}),D=[],U([]),o(ee),a=a+1,h(a)},ye=async i=>{Z=i,ie=JSON.parse(Z?.TeamJsonSettings?Z?.TeamJsonSettings:"{}"),H=ee,_={},G={},se={},E=i,M(i),S({}),v="Team",O(v),D=[],o(ee),U([]),a=a+1,h(a)},et=(i,R,Y,oe,Vt,K,st,qt,rl,nl,ol,dl,cl,ml,Yt)=>{if(R.preventDefault(),!oe)return;let Kt=oe[i];if(!(qt?.FinishedSteps||Yt?.FinishedSteps||d)&&!Y&&!(oe.findIndex(Ue=>Ue.status==="active")>i)&&!D.find(Ue=>Ue.name==Kt.name)){Be.error("Please complete the current step/click the next button for proceed to the next step.");return}const Se=oe?.map((le,ue)=>ue===i?{...le,status:"active"}:{...le,status:"inactive"});if(oe=Se,K=Se.find(le=>le.status==="active"),k[K.name]){let le=k[K.name];le.forEach(ue=>{ue.name=ue.name.charAt(0).toLowerCase()+ue.name.slice(1)}),L[K.name]=[...le]}else L[K.name]=[];window.scrollTo({top:0,behavior:"smooth"}),H=Se,o(Se)},Mt=async(i,R,Y)=>{P(!0),I={...I,...i};let oe=Q.findIndex(K=>K.status==="active")+1;if(Y||oe>=Q.length&&(v=="Individual"?G.FinishedSteps=!0:i.FinishedSteps=!0),await ms(i,j,q,_,Te,G,V,se,v,Z,X,ce,kt,At,Tt,ae,Et,f,St,S,E,M,yt,Rt,C,ie,We,Qe,Y)){U([...D,q]),R();let K=Q.findIndex(st=>st.status==="active")+1;K<Q.length&&!Y?et(K,{preventDefault:()=>{}},!0,Q,De,q,_,G,V,se,v,Z,X,f,ie):(S(null),_={},se={},G={},Z={},M(null),u&&u())}else Be.error("Failed to save data");P(!1),h(a+1),s("My Participation")},Ot=(i,R)=>{L[q.name]=i};let Jt=()=>{C({}),S({}),H=ee,o(H),_={},se={},G={},Z={},ie={},M({})},tt=async i=>{Jt(),a=a+1,h(a)};const zt=async()=>{if(J){Ne(J);return}v="Individual",O(v),tt()},$t=async()=>{y&&n?s("Registration"):(v="Team",O(v),tt())},Gt=(i,R)=>{et(i,R,!1,Q,De,q,_,G,V,se,v,Z,X,f,ie)};let Le=v=="Individual"&&G?.FinishedSteps||v=="Team"&&ie?.FinishedSteps;d&&(Le=!0),g&&d&&(Le=!1);let _t=k?.User&&k?.Team,re=k?.User&&k?.User?.length>0,ne=k?.Team&&k?.Team?.length>0;console.log({isTeamsAndIndividualRegistration:_t,isIndividualRegistration:re,isTeamsRegistration:ne}),l.useEffect(()=>{console.log({participantType:v}),re&&!v?(O("Individual"),ae({participantType:"1"})):ne&&!v&&(O("Team"),ae({participantType:"2"}))},[v,re,ne]);let Zt=()=>{S(null),M(null),U([]),u&&u()};if(d&&!X)return e.jsx(ze,{});let we=[];re&&we.push({name:"Individual",icon:Ee}),ne&&we.push({name:"Team",icon:pt});let Ht=i=>{if(i){const R={UserRoleId:v=="Individual"?i.Candidate:i.Team,id:v=="Individual"?i.Candidate:i.Team,participantType:v=="Individual"?"1":"2"};A(R)}};return e.jsxs("div",{children:[e.jsx(p,{title:"Delete Participant",description:"Are you sure you want to delete this participant?",confirmButtonLabel:"Delete",confirmButtonClick:async i=>{await It(i),Be.success("Participant Deleted Successfully")},className:"w-96  print:hidden"}),e.jsx(al,{isCoordinatorView:r,customComponents:F,userRoleJson:G,setComponents:me,participantType:v,steps:H,gotoHome:Zt,isSubmitted:Le,selectedTeam:E,tempUser:J,selectedUser:f,eventDetails:xe,activeStep:q,isLoading:W,onChange:Ot,availableSteps:Q,submittedSteps:D,allStepsComponents:k,data:{...De},handleClick:Gt,handleNext:Mt,components:ce,selectedComponent:z,setSelectedComponent:()=>{}},a),!d&&e.jsxs(e.Fragment,{children:[t=="participationDetails"&&e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6 mt-5",children:we.map((i,R)=>e.jsxs("button",{onClick:()=>{O(i.name),ae({participantType:i.name=="Individual"?"1":"2"})},className:w(v===i.name?"text-sky-800 bg-sky-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",R===0?"rounded-l-lg":"",R===we.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none"),children:[e.jsx(i.icon,{className:w(v===i.name?"text-sky-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsxs("span",{className:w(i.hideOnMobile?"hidden sm:block":""),children:["As ",i.name]}),e.jsx("span",{"aria-hidden":"true",className:w(v===i.name?"bg-sky-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},i.name))}),e.jsx("div",{className:"flex mt-6 flex-col justify-center justify-items-center sm:flex-row sm:space-x-2",children:e.jsx(e.Fragment,{children:e.jsx(Qs,{allStepsComponents:k,allFields:Bt,teams:We,onClickDelete:Ht,updateIndex:a,tempUser:J,selectedTeam:E,isIndividualRegistration:re,isTeamsRegistration:ne,handleChangeTeam:ye,participantType:v,addNewParticipant:()=>{y&&n?s("Registration"):(s("My Participation"),v=="Individual"?J?Ne(J):zt():ye({}))},addNewTeamParticipant:$t,userRoles:Te,users:he,participationDetails:X,selectedUser:f,setParticipantType:O,advancedSettings:Qe,handleChangeUser:i=>{re?ae({participantType:"1"}):ne&&ae({participantType:"2"}),Ne(i)}})})})]}),t=="eventDetails"&&e.jsx(Ws,{tempUser:J,isIndividualRegistration:re,isTeamsRegistration:ne,startNewRegistration:()=>{y&&n?s("Registration"):(s("My Participation"),v=="Individual"?Dt():ye({}))},participationDetails:X,eventDetails:xe,setParticipantType:i=>{O(i),ae({participantType:i=="Individual"?"1":"2"})},participantType:v,allStepsComponents:k})]})]})}export{Pl as R,qs as j};
