import{r as m,j as e,a as O}from"./mainweb-DcXazt7a.js";import{u as x}from"./useBackend-D8nScrDw.js";function G({title:t,titleId:a,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),t?m.createElement("title",{id:a},t):null,m.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const J=m.forwardRef(G);function D({hideTitle:t,hideGoBack:a,setOpen:r,title:s,description:o,children:d}){return e.jsx("div",{className:"bg-gray-100",children:e.jsx("div",{className:t?"p-0":"p-5 py-8",children:e.jsxs("div",{className:t?"":"w-full overflow-hidden rounded-md ring-1 ring-slate-900/10",children:[!t&&e.jsx("div",{className:"bg-[#193e65] px-4 py-4 sm:px-8 relative",children:e.jsxs("div",{className:"flex items-start justify-between space-x-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-base font-bold leading-6 text-white",children:s}),o&&e.jsx("p",{className:"text-sm text-white",children:o||"Continue the process"})]}),!a&&e.jsxs("button",{type:"button",onClick:()=>r(!1),className:"absolute rounded-full top-2 p-2 right-4 bg-[#193e65] text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(J,{"aria-hidden":"true",className:"h-6 w-6"})]})]})}),e.jsx("div",{className:t?"flex h-full w-[100%] py-3 flex-col overflow-y-scroll bg-white":"flex h-full w-[100%] flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:e.jsx("div",{className:t?"relative flex-1 px-0":"relative flex-1 px-2",children:d})})]})})})}const U=m.lazy(()=>O(()=>import("./teamMembers-BeCxYwOO.js"),[]));function A({groupId:t,disabled:a,hideGoBack:r,teamId:s,levels:o,onClose:d,onUpdate:u,renderAsComponenet:p}){var h;console.log({groupId:t,disabled:a,hideGoBack:r,teamId:s,levels:o,onClose:d,onUpdate:u});let[R,b]=m.useState(!1);const{row:j}=x("/EventJson/Get",{select:"EVId,EventName,Description,JsonSettings"}),{rows:y,setFilter:C}=x("/AgewiseGroupsJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status"}),{row:i,setFilter:w,update:N,status:T}=x("/CoordinatorJson/GetParticipants?ParticipantType=2&TeamId="+s,{updateUrl:"/CoordinatorJson/SaveParticipantsDirect",deleteUrl:"/CoordinatorJson/RemoveUserBody",sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:2,TeamId:s,disableGetCompetitions:!1,group:t},select:"participantList,userList,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,MaximumCandidates"});let f=(i==null?void 0:i.ParticipantsList)??[],S=(i==null?void 0:i.Competitions)??[],g=(i==null?void 0:i.UsersList)??[];g.forEach(n=>{let L=f.filter(c=>c.Candidate==n.Candidate||c.Candidate==n.Team),v=[];L.forEach(c=>{let M=S.find(_=>_.CompetitionStructureId==c.Competition);v.push(M)}),n.participatingCompetitions=v;let P=n.JsonSettings;try{let c=JSON.parse(P);c&&(n.ApplicationStatus=c.finalSubmitted)}catch{}});let l={};l.user={},l.user=g.find(n=>n.Team==s),l.participants=f.filter(n=>n.Candidate==s);const E=((h=l==null?void 0:l.user)==null?void 0:h.TeamMembers)??[];return m.useEffect(()=>{u&&u(E)},[l.participants]),e.jsx("div",{children:e.jsx(D,{hideGoBack:r,setOpen:()=>{d()},noClose:!1,hideTitle:p===!0,open:!0,title:"Manage Team Participants",children:e.jsx(U,{reducePadding:p===!0,groupId:t,hideGoBack:r,disabled:a,levels:o,isLoading2:T!=="finished",ageWiseGroup:y,setAgeFilter:C,setFilter:w,onClose:d,setIsLoading:b,saveParticipantDetails:N,eventDetails:j,participantList:f,teamId:s,selectedParticipantDetails:l,onChange:u})})})}const F=({renderAsComponenet:t,groupId:a,disabled:r,hideGoBack:s,teamId:o,levels:d,onClose:u,onUpdate:p})=>o?e.jsx(A,{renderAsComponenet:t,groupId:a,disabled:r,hideGoBack:s,teamId:o,levels:d,onClose:u,onUpdate:p}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a team to proceed"}),V=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{J as F,F as R,V as m};
