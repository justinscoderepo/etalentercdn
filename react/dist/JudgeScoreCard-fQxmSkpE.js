import{R as $,j as a,r as d}from"./mainweb-DtXlEdl8.js";import{a as J}from"./index-BtuGy7By.js";var se={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ee=$.createContext&&$.createContext(se),Se=["attr","size","title"];function be(e,t){if(e==null)return{};var r=ye(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ye(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V.apply(this,arguments)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(s){xe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xe(e,t,r){return t=Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){var t=je(e,"string");return typeof t=="symbol"?t:t+""}function je(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oe(e){return e&&e.map((t,r)=>$.createElement(t.tag,W({key:r},t.attr),oe(t.child)))}function le(e){return t=>$.createElement(we,V({attr:W({},e.attr)},t),oe(e.child))}function we(e){var t=r=>{var{attr:s,size:l,title:c}=e,S=be(e,Se),b=l||r.size||"1em",h;return r.className&&(h=r.className),e.className&&(h=(h?h+" ":"")+e.className),$.createElement("svg",V({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,S,{className:h,style:W(W({color:e.color||r.color},r.style),e.style),height:b,width:b,xmlns:"http://www.w3.org/2000/svg"}),c&&$.createElement("title",null,c),e.children)};return ee!==void 0?$.createElement(ee.Consumer,null,r=>t(r)):t(se)}function Ne(e){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Ie(e){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const re=({token:e,selectedParticipant:t,selectedCompetition:r,setSelectedParticipant:s,setCompetitionParticipants:l,setParticipantMark:c,fetchCompetitionParticipantsScoreCard:S})=>{const b=async()=>{try{const h=await J.delete("https://etalenterapi.azurewebsites.net/JudgesScoreCardJson/Remove",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`},params:{ScorecardId:t.ParticipantIdScorecardId}});h.data?(s(null),l([]),c(""),await S(r)):(console.error("Error deleting score:",h.data.message||"Unknown error"),alert("Error deleting score: "+(h.data.message||"Unknown error")))}catch(h){console.error("Error deleting score:",h),alert("An error occurred while deleting the score.")}};return a.jsx("button",{className:"btn-delete",onClick:b,title:"Delete Score",children:a.jsx(Ie,{size:16})})},Pe=({selectedCompetition:e,selectedAllotmentId:t,token:r,userRoleId:s,fetchJudgesAllotmentData:l,fetchCompetitionParticipantsScoreCard:c})=>{const S=async()=>{try{const b=new FormData;b.append("Competition",e),b.append("AllotementId",t);const h=await J.post("https://etalenterapi.azurewebsites.net/JudgesAllotmentJson/SaveJudgeStatus",b,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}});h.data?(l(s),c(e)):(console.error("Error saving score:",h.data.message||"Unknown error"),alert("Error saving score: "+(h.data.message||"Unknown error")))}catch(b){console.error("Error:",b),alert("An error occurred")}};return a.jsxs("div",{className:"completion-section",children:[a.jsx("p",{children:'If you finished all score updates for this selected competition, press "Mark as Completed". After marking as finished, it will move to the finished section.'}),a.jsx("button",{className:"btn-completed",onClick:S,children:"Mark as Completed"})]})},Re=({index:e,details:t,CriteriaMarks:r,competitionMaxScore:s,competitionDetails:l,handleMarkChange:c})=>{var h;const S=y=>{var v;return y/(s/((v=l==null?void 0:l.Results)==null?void 0:v.length))*100},b=y=>{var x;const v=s/((x=l==null?void 0:l.Results)==null?void 0:x.length);return y<=v/4?"red":y<=v/3?"#FF8C00":y<=v/3?"#FFB900":y<=v/1.5?"blue":"#03fc77"};return a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:"16px"},children:a.jsxs("div",{className:"relative range-slider",children:[a.jsx("div",{style:{width:`${S(r[e]||t.Score||0)}%`,backgroundColor:b(r[e]||t.Score||0)},className:"absolute h-full"}),a.jsx("div",{className:"absolute top-1 left-0 w-full flex justify-center items-center space-x-1",children:[...Array(10)].map((y,v)=>a.jsx("span",{className:"text-gray-400 text-xs",children:"★"},v))}),a.jsx("input",{type:"range",id:`range-slider-${t.Score}`,min:"0",max:"10",step:"0.1",value:r[e]===0?0:r[e]/(s/((h=l==null?void 0:l.Results)==null?void 0:h.length))*10,onChange:y=>{var R;const x=Number(y.target.value)/10*(s/((R=l==null?void 0:l.Results)==null?void 0:R.length));c(e,x)},className:"range-slider-input no-thumb"})]})}),a.jsx("input",{type:"number",id:`mark-${t.Score}`,className:"input-mark",placeholder:t.Score??0,value:r[e]||"",onChange:y=>c(e,Number(y.target.value)),step:"0.1",style:{marginBottom:"16px"}})]})},Oe=({participantMark:e,setParticipantMark:t,selectedParticipant:r})=>{const s=c=>c/10*100,l=c=>c<=3?"red":c<=4?"#FF8C00":c<=5.5?"#FFB900":c<=7?"blue":"#03fc77";return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("div",{className:"relative range-slider",children:[a.jsx("div",{style:{width:`${s(e===0?r.ParticipantIdScore:e)}%`,backgroundColor:l(e===0?r.ParticipantIdScore:e)},className:"absolute h-full"}),a.jsx("div",{className:"absolute top-1 left-0 w-full flex justify-center items-center space-x-1",children:[...Array(10)].map((c,S)=>a.jsx("span",{className:"text-gray-400 text-xs",children:"★"},S))}),a.jsx("input",{type:"range",id:`range-slider-${r.ParticipantId}`,min:"0",max:"10",step:"0.1",value:e===0?r.ParticipantIdScore:e,onChange:c=>t(Number(c.target.value)),className:"range-slider-input no-thumb"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginTop:"8px"},children:[a.jsx("span",{children:"0"})," ",a.jsx("span",{children:"10"})," "]})]}),a.jsx("input",{type:"number",id:`mark-${r.ParticipantId}`,className:"input-mark",placeholder:r.ParticipantIdScore>0?r.ParticipantIdScore:"Enter mark",value:e,onChange:c=>{const S=c.target.value;t(S===""?null:Number(S))},step:"0.1",style:{marginBottom:"16px"}})]})},Ae=({message:e,onClose:t,duration:r=3e3})=>(d.useEffect(()=>{if(e){const s=setTimeout(()=>{t()},r);return()=>clearTimeout(s)}},[e,t,r]),a.jsx("div",{className:`snackbar ${e?"show":""}`,children:e})),ae=({participantMark:e,competitionMaxScore:t,CriteriaMarks:r=[],selectedParticipant:s,competitionDetails:l,totalMark:c,userRoleId:S,token:b,fetchCompetitionParticipantsScoreCard:h,selectedCompetition:y,setSelectedParticipant:v,SetCompetitionParticipants:x,setParticipantMark:R,scoreLabel:T})=>{var _;const[F,U]=d.useState(""),M=async()=>{if((!e||isNaN(e)||e<0)&&(!r||r.length===0||r.some(p=>isNaN(p)||p<0))){alert("Please enter a valid score.");return}if(e>t){alert(`The score cannot exceed the maximum allowed score of ${t}.`);return}try{const p=new FormData;r.length>0&&!e?r.forEach((G,C)=>{var K;if(C===r.length-1)p.append(`Scores[${C}][ScoreCardParticipant]`,s.ParticipantId),p.append(`Scores[${C}][IsActAsJudge]`,"true"),p.append(`Scores[${C}][ScoreCardScore]`,c),p.append(`Scores[${C}][ScoreCardScorecardId]`,s.ParticipantIdScorecardId||0);else{const m=((K=l==null?void 0:l.Results)==null?void 0:K[C])||{},E=m.DetailId||m.Criteria||`Criteria ${C+1}`;p.append(`Scores[${C}][ScoreCard]`,m.ScoreCard||""),p.append(`Scores[${C}][IsActAsJudge]`,"true"),p.append(`Scores[${C}][Criteria]`,E),p.append(`Scores[${C}][Score]`,G),p.append(`Scores[${C}][Status]`,m.Status||1),p.append(`Scores[${C}][DetailedScoreCardCriteriaId]`,m.DetailedScoreCardCriteriaId||"")}}):(p.append("Scores[0][ScoreCardParticipant]",s.ParticipantId),p.append("Scores[0][IsActAsJudge]",!!l.Status),p.append("Scores[0][ScoreCardScore]",e),p.append("Scores[0][ScoreCardScorecardId]",s.ParticipantIdScorecardId)),p.append("JudgeId",S);const k=await J.post("https://etalenterapi.azurewebsites.net/JudgeJson/SaveScore",p,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${b}`}});k.data?(U("Score saved successfully!"),v(null),x([]),R(""),await h(y)):(console.error("Error saving score:",k.data.message||"Unknown error"),alert("Error saving score: "+(k.data.message||"Unknown error")),U("Score not saved!"))}catch(p){console.error("Error posting score:",p),alert("An error occurred while saving the score.")}};return a.jsxs("div",{children:[a.jsx("button",{className:"btn-save",onClick:M,title:"Save",disabled:isNaN(e)||e<0||e>(T==="Rating out of 10"?t/((_=l==null?void 0:l.Results)==null?void 0:_.length):t),children:a.jsx(Ne,{size:16})}),console.log("Snackbar message:",F),F&&a.jsx(Ae,{message:F,onClose:()=>U("")})]})};var Je={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Ee(e){if(typeof e=="number")return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();r.includes(".")?t=parseFloat(r):t=parseInt(r,10);var s=(e.match(/[^0-9]*$/)||"").toString();return Je[s]?{value:t,unit:s}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function ne(e){var t=Ee(e);return"".concat(t.value).concat(t.unit)}var ze=function(e,t,r){var s="react-spinners-".concat(e,"-").concat(r);if(typeof window>"u"||!window.document)return s;var l=document.createElement("style");document.head.appendChild(l);var c=l.sheet,S=`
    @keyframes `.concat(s,` {
      `).concat(t,`
    }
  `);return c&&c.insertRule(S,0),s},H=function(){return H=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},H.apply(this,arguments)},$e=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(r[s[l]]=e[s[l]]);return r},Te=ze("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function ke(e){var t=e.loading,r=t===void 0?!0:t,s=e.color,l=s===void 0?"#000000":s,c=e.speedMultiplier,S=c===void 0?1:c,b=e.cssOverride,h=b===void 0?{}:b,y=e.size,v=y===void 0?35:y,x=$e(e,["loading","color","speedMultiplier","cssOverride","size"]),R=H({background:"transparent !important",width:ne(v),height:ne(v),borderRadius:"100%",border:"2px solid",borderTopColor:l,borderBottomColor:"transparent",borderLeftColor:l,borderRightColor:l,display:"inline-block",animation:"".concat(Te," ").concat(.75/S,"s 0s infinite linear"),animationFillMode:"both"},h);return r?d.createElement("span",H({style:R},x)):null}const P=localStorage.getItem("accessToken");function He({user:e}){var D;const[t,r]=d.useState([]),[s,l]=d.useState(""),[c,S]=d.useState(null),[b,h]=d.useState([]),[y,v]=d.useState([]),[x,R]=d.useState(null),[T,F]=d.useState([]),[U,M]=d.useState(null),[_,p]=d.useState(!1),[k,G]=d.useState(!1),[C,K]=d.useState(!1),[m,E]=d.useState(null),[f,X]=d.useState(null),[O,z]=d.useState((m==null?void 0:m.ParticipantIdScore)||""),[Be,Fe]=d.useState({top:0,left:0}),[Ue,_e]=d.useState(!1),[w,ce]=d.useState(0),[ie,de]=d.useState(null),[N,ue]=d.useState(""),[Ge,Le]=d.useState(0),[I,Y]=d.useState([]),[L,q]=d.useState(0);d.useEffect(()=>{if(f!=null&&f.Results){const o=f.Results.map(u=>u.Score||0);let n=0;if(N==="Rating out of 10"){const u=o.filter(g=>g>0);n=u.length>0?u.reduce((g,j)=>g+j,0)/u.length:0}else N==="Marks"&&(n=o.reduce((u,g)=>u+(g>0?g:0),0));const i=[...o,Number(n.toFixed(2))];Y(i),q(Number(n.toFixed(2)))}},[f,N]);const Q=(o,n)=>{const i=[...I],u=i.length-1;if(o<u){i[o]=n;let g=0;if(N==="Rating out of 10"){const j=i.slice(0,-1).filter(A=>A>0);g=j.length>0?j.reduce((A,ve)=>A+ve,0)/j.length:0}else N==="Marks"&&(g=i.slice(0,-1).reduce((j,A)=>j+(A>0?A:0),0));i[u]=Number(g.toFixed(2))}else if(o===u){const g=n/(i.length-1);for(let j=0;j<u;j++)i[j]=Number(g.toFixed(2));i[u]=Number(n.toFixed(2))}Y(i),q(i[u])};d.useEffect(()=>{(async()=>{p(!0);try{const n=new FormData;n.append("CreatedBy","12007"),n.append("Role",e.Role),n.append("isCaching","true");const i=await J.post("https://etalenterapi.azurewebsites.net/UsersRolesJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});if(i.data&&i.data.Results){r(i.data.Results);const u=filteredJudges.map(g=>g.UserName||"Unknown");M(u)}}catch(n){console.error("Error fetching selected judges:",n)}finally{p(!1)}})()},[]);const pe=o=>{const n=Number(o.target.value);l(n),t.find(u=>u.UserRoleId===n)&&(p(!0),S(n),Z(n).finally(()=>p(!1)))};d.useEffect(()=>{},[c,s]);const Z=async o=>{G(!0);try{const n=new FormData;n.append("Status","1"),n.append("PageSize","500"),n.append("Judge",o),n.append("SortOrder","asc");const i=await J.post("https://etalenterapi.azurewebsites.net/JudgesAllotmentWithScoreLabelJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});if(i.data&&i.data.Results){const u=i.data.Results;h(u)}}catch(n){console.error("Error fetching judges allotment data:",n)}finally{G(!1)}},me=o=>{const n=Number(o.target.value);R(n);const i=b.filter(g=>g.Competition===n);if(F(i),i.length>0){const g=i[0].AllotementId;de(g)}const u=i[0].ScoreLabelLabel;ue(u),B(n)};d.useEffect(()=>{T&&T.length>0},[T]);const B=async o=>{try{const n=new FormData;n.append("PageSize","100"),n.append("IsActAsJudge","true"),n.append("Judge",c),n.append("Competition",o),n.append("SortColumn","ParticipantId"),n.append("SortOrder","asc"),n.append("PageNumber","1");const i=await J.post("https://etalenterapi.azurewebsites.net/CompetitionParticipantsScoreCardJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});if(i.data&&i.data.Results){const u=i.data.Results;v(u);const g=u[0];ce(g.CompetitionMaximumScore)}}catch(n){console.error("Error fetching CompetitionParticipants Scorecard data:",n)}},fe=o=>{q(0),E(o),o.ParticipantIdScore>0?ge(o):he(o)},he=async o=>{try{const n=new FormData;n.append("LanguageGlobal",o.CompetitionLanguage),n.append("GroupGlobal",o.CompetitionGroup),n.append("GenderGlobal",o.CompetitionGender),n.append("ParticipantTypeGlobal",o.CompetitionParticipantType),n.append("CompetitionItemGlobal",o.CompetitionCompetitionItem),n.append("isCaching","true");const i=await J.post("https://etalenterapi.azurewebsites.net/CompetitionDetailsJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});i.data&&X(i.data)}catch(n){console.error("Error fetching competition details:",n)}};d.useEffect(()=>{},[f]);const ge=async o=>{try{const n=new FormData;n.append("IsActAsJudge","true"),n.append("Judge",c),n.append("ScoreCard",o.ParticipantIdScorecardId);const i=await J.post("https://etalenterapi.azurewebsites.net/JudgesDetailedScoreCardJson/Get",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}});i.data&&X(i.data)}catch(n){console.error("Error fetching detailed score card:",n)}};return a.jsxs("div",{className:"body",children:[a.jsx("h2",{className:"scorecard-title",style:{textTransform:"uppercase"},children:"JUdges ScoreCard"}),a.jsxs("div",{className:"competition-selection form-group",children:[a.jsx("label",{className:"form-label",children:"Select Judge"}),a.jsxs("select",{className:"form-control",value:s,onChange:pe,disabled:_,children:[a.jsx("option",{value:"",children:"--Select Judge--"}),t.map(o=>a.jsx("option",{value:o.UserRoleId,children:o.UserName||"Unknown"},o.UserRoleId))]}),a.jsx("label",{className:"form-label",children:"Select Competition"}),k?a.jsx("div",{className:"spinner-container",children:a.jsx(ke,{color:"#36d7b7",loading:k,size:50})}):a.jsxs("select",{className:"form-control",value:x,onChange:me,children:[a.jsx("option",{value:"",children:"--Select Competition--"}),b.map(o=>a.jsxs("option",{value:o.Competition,children:[o.CompetitionGroupGroupName," - ",o.ScoreStatusScoreResultStatus," "," | ",o.CompetitionItemTitle||"Unknown"," "," (",o.CompetitionParticipantTypeTitle,")"]},o.AllotementId))]})]}),a.jsxs("div",{className:"participants-container",children:[a.jsx("div",{className:"participants-list",children:y.length>0?y.map(o=>a.jsx("div",{className:`participant-container ${(m==null?void 0:m.ParticipantId)===o.ParticipantId?"selected":""}`,onClick:()=>fe(o),children:a.jsxs("div",{className:"participant-summary",children:[a.jsx("div",{className:"participant-id",children:o.CandidateIdentityNumber||0}),a.jsx("div",{className:"participant-score",children:o.ParticipantIdScore||0})]})},o.ParticipantId)):a.jsx("p",{className:"no-participants-message",children:"No participants found."})}),a.jsx("div",{className:`expanded-content-container ${m?"visible":""}`,children:m&&a.jsx("div",{className:"input-mark",children:a.jsx("div",{className:"mark-section",children:((D=f==null?void 0:f.Results)==null?void 0:D.length)>1?a.jsxs(a.Fragment,{children:[f.Results.map((o,n)=>{var i,u,g,j;return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"8px"},children:[o.CriteriaCriteriaName||o.CriteriaName,((i=f==null?void 0:f.Results)==null?void 0:i.length)>0?a.jsxs("span",{children:["(",o.SecondValue||w/((u=f==null?void 0:f.Results)==null?void 0:u.length),")"]}):a.jsxs("span",{children:["(",o.SecondValue||w,")"]})]}),N==="Rating out of 10"?a.jsx(Re,{index:n,details:o,CriteriaMarks:I,competitionMaxScore:w,competitionDetails:f,handleMarkChange:Q},n):a.jsx("input",{type:"number",id:`mark-${o.Score}`,className:"input-mark",placeholder:o.Score??0,value:I[n]||"",onChange:A=>Q(n,Number(A.target.value)),style:{marginBottom:"16px"}}),I[n]&&(isNaN(I[n])||I[n]<0)&&a.jsx("div",{style:{color:"red",fontSize:"12px"},children:"Please enter a valid score (must be a positive number)."}),(I[n]>(N==="Rating out of 10"?w/((g=f==null?void 0:f.Results)==null?void 0:g.length):w)||(o.SecondValue?I[n]>o.SecondValue:I[n]>w))&&a.jsxs("div",{style:{color:"red",fontSize:"12px"},children:["The score cannot exceed the maximum score of ",o.SecondValue||w/((j=f==null?void 0:f.Results)==null?void 0:j.length),"."]})]},n)}),a.jsxs("div",{style:{marginBottom:"8px"},children:["Total",a.jsxs("span",{children:["(",T.CompetitionMaximumScore??w,")"]})]}),a.jsx("input",{type:"number",id:`mark-${L}`,className:"input-mark",placeholder:"Total",value:L||"",onChange:o=>Q(I.length-1,Number(o.target.value)),style:{marginBottom:"16px"}}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx(ae,{participantMark:O,competitionMaxScore:w,CriteriaMarks:I,selectedParticipant:m,competitionDetails:f,totalMark:L,userRoleId:c,token:P,fetchCompetitionParticipantsScoreCard:B,selectedCompetition:x,setSelectedParticipant:E,SetCompetitionParticipants:v,setParticipantMark:z,scoreLabel:N}),m.ParticipantIdScore>0&&a.jsx(re,{token:P,selectedParticipant:m,selectedCompetition:x,setSelectedParticipant:E,setCompetitionParticipants:v,setParticipantMark:z,fetchCompetitionParticipantsScoreCard:B})]})]}):a.jsxs("div",{children:[N==="Rating out of 10"?a.jsx(Oe,{participantMark:O,setParticipantMark:z,selectedParticipant:m}):a.jsxs("div",{children:["Total ",a.jsx("span",{children:m.CompetitionMaximumScore}),a.jsx("input",{type:"number",id:`mark-${m.ParticipantId}`,className:"input-mark",placeholder:m.ParticipantIdScore>0?m.ParticipantIdScore:"Enter mark",value:O,onChange:o=>{const n=o.target.value;z(n===""?null:Number(n))},style:{marginBottom:"16px"}})]}),O&&(isNaN(O)||O<0)&&a.jsx("div",{style:{color:"red",fontSize:"12px"},children:"Please enter a valid score (must be a positive number)."}),O>(N==="Rating out of 10"?10:w)&&a.jsxs("div",{style:{color:"red",fontSize:"12px"},children:["The score cannot exceed the maximum score of ",N==="Rating out of 10"?10:w,"."]}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx(ae,{participantMark:O,competitionMaxScore:w,CriteriaMarks:I,selectedParticipant:m,competitionDetails:f,totalMark:L,userRoleId:c,token:P,fetchCompetitionParticipantsScoreCard:B,selectedCompetition:x,setSelectedParticipant:E,SetCompetitionParticipants:v,setParticipantMark:z,scoreLabel:N}),m.ParticipantIdScore>0&&a.jsx(re,{token:P,selectedParticipant:m,selectedCompetition:x,setSelectedParticipant:E,setCompetitionParticipants:v,setParticipantMark:z,fetchCompetitionParticipantsScoreCard:B})]})]})})})})]}),a.jsx("div",{className:"completion-section",children:a.jsx(Pe,{selectedCompetition:x,selectedAllotmentId:ie,token:P,userRoleId:c,fetchJudgesAllotmentData:Z,fetchCompetitionParticipantsScoreCard:B})})]})}export{He as default};
