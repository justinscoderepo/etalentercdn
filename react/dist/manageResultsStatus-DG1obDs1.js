import{r as s,j as e,_ as L}from"./mainweb-BDuQvTWU.js";import{u as J}from"./useBackend-BvLNpOqw.js";import{F as ue}from"./XMarkIcon-BbOZIWw1.js";import{M as me,u as te,P as ge,a as he,b as xe,L as fe,m as X}from"./proxy-CEK27899.js";import"./httpService-Kj1G28QB.js";import"./index-t--hEgTQ.js";class pe extends s.Component{getSnapshotBeforeUpdate(l){const i=this.props.childRef.current;if(i&&l.isPresent&&!this.props.isPresent){const o=i.offsetParent,v=o instanceof HTMLElement&&o.offsetWidth||0,m=this.props.sizeRef.current;m.height=i.offsetHeight||0,m.width=i.offsetWidth||0,m.top=i.offsetTop,m.left=i.offsetLeft,m.right=v-m.width-m.left}return null}componentDidUpdate(){}render(){return this.props.children}}function be({children:n,isPresent:l,anchorX:i}){const o=s.useId(),v=s.useRef(null),m=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:S}=s.useContext(me);return s.useInsertionEffect(()=>{const{width:f,height:g,top:E,left:h,right:p}=m.current;if(l||!v.current||!f||!g)return;const y=i==="left"?`left: ${h}`:`right: ${p}`;v.current.dataset.motionPopId=o;const x=document.createElement("style");return S&&(x.nonce=S),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${y}px !important;
            top: ${E}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[l]),e.jsx(pe,{isPresent:l,childRef:v,sizeRef:m,children:s.cloneElement(n,{ref:v})})}const ve=({children:n,initial:l,isPresent:i,onExitComplete:o,custom:v,presenceAffectsLayout:m,mode:S,anchorX:f})=>{const g=te(ye),E=s.useId(),h=s.useCallback(y=>{g.set(y,!0);for(const x of g.values())if(!x)return;o&&o()},[g,o]),p=s.useMemo(()=>({id:E,initial:l,isPresent:i,custom:v,onExitComplete:h,register:y=>(g.set(y,!1),()=>g.delete(y))}),m?[Math.random(),h]:[i,h]);return s.useMemo(()=>{g.forEach((y,x)=>g.set(x,!1))},[i]),s.useEffect(()=>{!i&&!g.size&&o&&o()},[i]),S==="popLayout"&&(n=e.jsx(be,{isPresent:i,anchorX:f,children:n})),e.jsx(ge.Provider,{value:p,children:n})};function ye(){return new Map}const z=n=>n.key||"";function Y(n){const l=[];return s.Children.forEach(n,i=>{s.isValidElement(i)&&l.push(i)}),l}const Q=({children:n,custom:l,initial:i=!0,onExitComplete:o,presenceAffectsLayout:v=!0,mode:m="sync",propagate:S=!1,anchorX:f="left"})=>{const[g,E]=he(S),h=s.useMemo(()=>Y(n),[n]),p=S&&!g?[]:h.map(z),y=s.useRef(!0),x=s.useRef(h),k=te(()=>new Map),[Z,A]=s.useState(h),[w,$]=s.useState(h);xe(()=>{y.current=!1,x.current=h;for(let N=0;N<w.length;N++){const u=z(w[N]);p.includes(u)?k.delete(u):k.get(u)!==!0&&k.set(u,!1)}},[w,p.length,p.join("-")]);const M=[];if(h!==Z){let N=[...h];for(let u=0;u<w.length;u++){const R=w[u],P=z(R);p.includes(P)||(N.splice(u,0,R),M.push(R))}return m==="wait"&&M.length&&(N=M),$(Y(N)),A(h),null}const{forceRender:B}=s.useContext(fe);return e.jsx(e.Fragment,{children:w.map(N=>{const u=z(N),R=S&&!g?!1:h===w||p.includes(u),P=()=>{if(k.has(u))k.set(u,!0);else return;let W=!0;k.forEach(H=>{H||(W=!1)}),W&&(B?.(),$(x.current),S&&E?.(),o&&o())};return e.jsx(ve,{isPresent:R,initial:!y.current||i?void 0:!1,custom:l,presenceAffectsLayout:v,mode:m,onExitComplete:R?void 0:P,anchorX:f,children:N},u)})})};function we({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const G=s.forwardRef(we);function je({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const T=s.forwardRef(je);function Ne({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Ce=s.forwardRef(Ne);function Se({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Ee=s.forwardRef(Se);function ke({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const O=s.forwardRef(ke);function Re({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ie=s.forwardRef(Re);function Le({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Pe=s.forwardRef(Le);function Ge({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const F=s.forwardRef(Ge);function Me({title:n,titleId:l,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ee=s.forwardRef(Me),Be=({user:n})=>{const[l,i]=s.useState([]),[o,v]=s.useState("all"),[m,S]=s.useState(new Set),[f,g]=s.useState(""),[E,h]=s.useState(!1),[p,y]=s.useState("all"),{rows:x,status:k,setFilter:Z,update:A}=J("/CompetitionStructureJson/Get",{select:"CompetitionStructureId,Order,CompetitionItemTitle,CompetitionItemCompetitionItemTitle,GenderGenderTitle,LanguageLanguageName,GroupGroupName,CompetitionStatus,ParticipantTypeTitle,ParticipantsCount",filter:{EventCategory:n?.EventCategory,Event:n?.Event},limit:1e3,offset:0,updateUrl:"/CompetitionStructureJson/Save"}),{rows:w,status:$,update:M}=J("/JudgesAllotmentPlusUsersRolesJson/Get",{select:"AllotementId,JudgeUserName,ScoreStatus,Competition,Judge,ScoresSubmitted",filter:{EventCategory:n?.EventCategory,Event:n?.Event},limit:1e3,offset:0,updateUrl:"/JudgesAllotmentJson/Save"}),{rows:B,status:N}=J("/CompetitionScheduleJson/Get",{select:"CompetitionStructureId,StageName",filter:{EventCategory:n?.EventCategory,Event:n?.Event},limit:1e3,offset:0}),{rows:u,status:R}=J("/CompetitionStatusJson/Get",{select:"CompetitionStatusId,CompetitionStatusTitle",limit:100,offset:0}),{rows:P,status:W}=J("/JudgesResultStatusJson/Get",{select:"ResultStatusId,ScoreResultStatus",limit:100,offset:0}),H=k==="fetching"||$==="fetching"||N==="fetching"||R==="fetching"||W==="fetching",D=k==="refreshing"||$==="refreshing",_=s.useMemo(()=>u?u.map(t=>{let a="bg-gray-100 text-gray-800",r=O;return t.CompetitionStatusId===1?(a="bg-green-100 text-green-800",r=T):t.CompetitionStatusId===2?(a="bg-indigo-100 text-indigo-800",r=G):t.CompetitionStatusId===3?(a="bg-gray-100 text-gray-800",r=O):t.CompetitionStatusId===4?(a="bg-yellow-100 text-yellow-800",r=G):t.CompetitionStatusId===5?(a="bg-blue-100 text-blue-800",r=O):t.CompetitionStatusId===6?(a="bg-purple-100 text-purple-800",r=T):t.CompetitionStatusId===7&&(a="bg-red-100 text-red-800",r=ee),{value:t.CompetitionStatusId,label:t.CompetitionStatusTitle,color:a,icon:r}}):[{value:3,label:"Not Started",color:"bg-gray-100 text-gray-800",icon:O},{value:5,label:"Yet To Begin",color:"bg-blue-100 text-blue-800",icon:O},{value:4,label:"On Progress",color:"bg-yellow-100 text-yellow-800",icon:G},{value:6,label:"Finished",color:"bg-purple-100 text-purple-800",icon:T},{value:2,label:"On Review",color:"bg-indigo-100 text-indigo-800",icon:G},{value:1,label:"Results Published",color:"bg-green-100 text-green-800",icon:T},{value:7,label:"Cancelled",color:"bg-red-100 text-red-800",icon:ee}],[u]),V=s.useMemo(()=>P?P.map(t=>{let a="bg-gray-100 text-gray-800";return t.ResultStatusId===1?a="bg-green-100 text-green-800":t.ResultStatusId===2?a="bg-blue-100 text-blue-800":t.ResultStatusId===3&&(a="bg-yellow-100 text-yellow-800"),{value:t.ResultStatusId,label:t.ScoreResultStatus,color:a}}):[{value:1,label:"Published",color:"bg-green-100 text-green-800"},{value:2,label:"Filled",color:"bg-blue-100 text-blue-800"},{value:3,label:"Allowed to fill",color:"bg-yellow-100 text-yellow-800"}],[P]),se=s.useMemo(()=>{const t=[{value:"all",label:"All Competitions"}];if(u){const a=u.map(r=>({value:r.CompetitionStatusId,label:r.CompetitionStatusTitle}));return[...t,...a]}return t},[u]),b=s.useMemo(()=>x?x.map(t=>{const a=w?w.filter(c=>c.Competition===t.CompetitionStructureId).map(c=>({id:c.AllotementId,name:c.JudgeUserName||"Unknown Judge",status:c.ScoreStatus||1,scoresSubmitted:c.ScoresSubmitted||0,allotmentId:c.AllotementId,judgeId:c.Judge,competitionId:c.Competition})):[],d=B?.find(c=>c.CompetitionStructureId===t.CompetitionStructureId)?.StageName||"TBD",j=t.CompetitionStatus===1;return{id:t.CompetitionStructureId,competitionStructureId:t.CompetitionStructureId,name:`${t.Order} - ${t.GroupGroupName} - ${t.CompetitionItemTitle||t.CompetitionItemCompetitionItemTitle} ${t.GenderGenderTitle?`(${t.GenderGenderTitle})`:""} ${t.LanguageLanguageName?`- ${t.LanguageLanguageName}`:""}`,category:t.CompetitionItemTitle||t.CompetitionItemCompetitionItemTitle,ageGroup:t.GroupGroupName,status:t.CompetitionStatus||1,totalParticipants:t.ParticipantsCount||0,stageName:d,isResultPublished:j,judges:a,order:t.Order||0,participantType:t.ParticipantTypeTitle,gender:t.GenderGenderTitle,language:t.LanguageLanguageName,group:t.GroupGroupName}}).sort((t,a)=>(t.order||0)-(a.order||0)):[],[x,w,B]),q=s.useMemo(()=>{const t=[{value:"all",label:"All Groups"}];if(b&&b.length>0){const r=[...new Set(b.map(d=>d.group).filter(Boolean))].map(d=>({value:d,label:d}));return[...t,...r]}return t},[b]);s.useEffect(()=>{let t=b;if(p!=="all"&&(t=t.filter(a=>a.group===p)),o!=="all"&&(t=t.filter(a=>a.status===parseInt(o))),f.trim()){const a=f.toLowerCase().trim();t=t.filter(r=>r.name.toLowerCase().includes(a)||r.category?.toLowerCase().includes(a)||r.ageGroup?.toLowerCase().includes(a)||r.stageName?.toLowerCase().includes(a))}E&&(t=t.filter(a=>a.isResultPublished)),i(t)},[b,p,o,f,E]);const re=t=>{const a=new Set(m);a.has(t)?a.delete(t):a.add(t),S(a)},ne=s.useCallback(async(t,a)=>{try{const r=x?.find(c=>c.CompetitionStructureId===t);if(!r){console.error("Competition not found"),L.error("Competition not found");return}const d={CompetitionStructureId:t,CompetitionStatus:a,Event:n?.Event,EventCategory:n?.EventCategory,Order:r.Order,CompetitionItem:r.CompetitionItemTitle,Gender:r.GenderGenderTitle,Language:r.LanguageLanguageName,Group:r.GroupGroupName,Status:1};await A(d)?L.success("Competition status updated successfully"):L.error("Failed to update competition status")}catch(r){console.error("Error updating competition status:",r),L.error("Failed to update competition status")}},[x,A,n?.Event,n?.EventCategory]),ae=s.useCallback(async(t,a,r)=>{try{const d=w?.find(U=>U.AllotementId===a&&U.Competition===t);if(!d){console.error("Judge allotment not found"),L.error("Judge allotment not found");return}const j={AllotementId:a,ScoreStatus:r,Competition:t,Judge:d.Judge,Event:n?.Event,EventCategory:n?.EventCategory,Status:1};await M(j)?L.success("Judge status updated successfully"):L.error("Failed to update judge status")}catch(d){console.error("Error updating judge status:",d),L.error("Failed to update judge status")}},[w,M,n?.Event,n?.EventCategory]),le=async()=>{try{await Z({EventCategory:n?.EventCategory,Event:n?.Event})}catch(t){console.error("Error refreshing data:",t)}},K=(t,a)=>{const r=a.find(j=>j.value===t);if(!r)return null;const d=r.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.color} animate-in fade-in-0 duration-300`,children:[d&&e.jsx(d,{className:"w-3 h-3 mr-1"}),r.label]})},ie=(t,a)=>{let r=0;return t.status===3?t.scoresSubmitted===0?r=3:t.scoresSubmitted<a?r=4:r=5:t.status===2?r=7:t.status===1&&(r=9),Math.round(r/9*100)},oe=t=>{const a=t.judges.filter(I=>I.status===1||I.status===2).length,r=t.judges.filter(I=>I.status===2).length,d=t.judges.filter(I=>I.status===3).length,j=t.judges.length,c=t.totalParticipants*j,U=t.judges.reduce((I,ce)=>I+ce.scoresSubmitted,0);let C=0;t.status===7?C=0:t.status===3?C=1:t.status===5?C=2:t.status===4?d===j&&r===0&&a===0?C=3:r>0&&a===0?C=4:r===j?C=5:C=4:t.status===6?C=6:t.status===2?C=7:t.status===1&&(C=9);const de=Math.round(C/9*100);return{completedJudges:a,filledJudges:r,allowedJudges:d,totalJudges:j,overallProgress:de,scoresSubmitted:U,totalScoresNeeded:c,progressStep:C}};return H?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(G,{className:"h-12 w-12 animate-spin mx-auto text-indigo-500"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Loading results status..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{className:"h-8 w-8 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results Status Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Monitor competition progress and manage judge assignments across all events"})]})]}),e.jsxs("button",{onClick:le,disabled:D,className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white transition-all ${D?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 hover:shadow-lg"}`,children:[e.jsx(G,{className:`h-4 w-4 mr-2 ${D?"animate-spin":""}`}),D?"Refreshing...":"Refresh"]})]})}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative transition-all duration-300 focus-within:-translate-y-0.5 focus-within:shadow-xl focus-within:shadow-indigo-500/20",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Pe,{className:"h-5 w-5 text-gray-400 transition-colors group-focus-within:text-indigo-500"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Search by name, category, age group, or stage...",value:f,onChange:t=>g(t.target.value),"aria-label":"Search competitions"}),f&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",onClick:()=>g(""),"aria-label":"Clear search",children:e.jsx(ue,{className:"h-4 w-4"})})})]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out rounded focus:ring-indigo-500",checked:E,onChange:t=>h(t.target.checked)}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Show only published results"})]})})]}),b.length>0&&e.jsxs("div",{className:"mb-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl text-white transform hover:-translate-y-1 hover:scale-105 transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Competitions"}),e.jsx("p",{className:"text-3xl font-bold",children:b.length})]}),e.jsx(F,{className:"h-8 w-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 p-6 rounded-xl text-white transform hover:-translate-y-1 hover:scale-105 transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold",children:b.filter(t=>t.status===4).length})]}),e.jsx(G,{className:"h-8 w-8 text-yellow-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 rounded-xl text-white transform hover:-translate-y-1 hover:scale-105 transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold",children:b.filter(t=>t.status===3).length})]}),e.jsx(T,{className:"h-8 w-8 text-green-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-6 rounded-xl text-white transform hover:-translate-y-1 hover:scale-105 transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Published Results"}),e.jsx("p",{className:"text-3xl font-bold",children:b.filter(t=>t.isResultPublished).length})]}),e.jsx(F,{className:"h-8 w-8 text-purple-200"})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"border-b border-gray-200 bg-white rounded-t-lg px-6 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filter by Group"}),e.jsx("select",{value:p,onChange:t=>y(t.target.value),className:"block w-48 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",children:q.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:q.slice(0,6).map(t=>e.jsx("button",{onClick:()=>y(t.value),className:`whitespace-nowrap py-2 px-6 border-b-2 font-medium text-sm transition-all duration-200 ${p===t.value?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.label},t.value))})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200 bg-white rounded-t-lg px-6 pt-4",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:se.map(t=>e.jsxs("button",{onClick:()=>v(t.value),className:`py-3 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors relative ${o===t.value?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[t.label,t.value!=="all"&&e.jsx("span",{className:`ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium ${o===t.value?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-600"}`,children:b.filter(a=>a.status===t.value).length})]},t.value))})})}),b.length>0&&e.jsxs("div",{className:"mb-4 flex items-center justify-between bg-white px-6 py-3 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold text-indigo-600",children:l.length})," of"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:b.length})," competitions",f&&e.jsxs("span",{className:"ml-2 text-indigo-600 font-medium",children:['matching "',f,'"']})]}),(l.length!==b.length||f||p!=="all"||E)&&e.jsx("button",{onClick:()=>{g(""),y("all"),v("all"),h(!1)},className:"text-sm text-indigo-600 hover:text-indigo-500 font-medium transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",children:"Clear all filters"})]}),e.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6",children:l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"mx-auto h-16 w-16 text-gray-300"}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No competitions found"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 max-w-md mx-auto",children:b.length>0?"No competitions match your current filters. Try adjusting your search criteria or clearing filters.":"No competitions have been created yet. Create a competition to get started."}),(f||o!=="all"||E)&&e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>{g(""),v("all"),h(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",children:"Clear all filters"})})]}):e.jsx("div",{className:"space-y-4",children:e.jsx(Q,{children:l.map(t=>{const a=oe(t);return e.jsxs(X.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`border rounded-xl p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 hover:scale-[1.01] ${t.judges.length===0?"border-red-300 bg-red-50":"border-gray-200 bg-white"}`,children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("button",{onClick:()=>re(t.id),className:"mt-1 text-gray-400 hover:text-indigo-600 transition-colors p-1 rounded-full hover:bg-gray-100",children:m.has(t.id)?e.jsx(Ce,{className:"h-5 w-5"}):e.jsx(Ee,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.name}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Category:"}),e.jsx("span",{className:"ml-2",children:t.category})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Age Group:"}),e.jsx("span",{className:"ml-2",children:t.ageGroup})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Stage:"}),e.jsx("span",{className:"ml-2",children:t.stageName})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Judges:"}),e.jsx("span",{className:"ml-2",children:t.judges.length})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Results Published:"}),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${t.isResultPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isResultPublished?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-3 ml-4",children:[K(t.status,_),e.jsx("select",{value:t.status,onChange:r=>ne(t.id,parseInt(r.target.value)),className:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm transition-all duration-200 hover:border-indigo-400",children:_.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),(t.status===6||t.status===2)&&e.jsxs("a",{href:`/Coordinator/Results?competitionstructureid=${t.competitionStructureId}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Assign Winners"]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.overallProgress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${a.overallProgress}%`}})}),e.jsx("div",{className:"mt-2 flex justify-between text-xs text-gray-600",children:e.jsxs("span",{children:["Judges: ",a.completedJudges,"/",a.totalJudges," completed"]})})]})]})]})}),e.jsx(Q,{children:m.has(t.id)&&e.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Judge Assignments"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[t.judges.length," ",t.judges.length===1?"judge":"judges"," assigned"]})]}),t.judges.length===0?e.jsxs("div",{className:"text-center py-8 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(Ie,{className:"h-8 w-8 text-amber-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"No judges assigned"}),e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"This competition needs judge assignments to proceed."})]}):e.jsx("div",{className:"grid gap-4",children:t.judges.map(r=>{const d=ie(r,t.totalParticipants),j=V.find(c=>c.value===r.status)?.label||"Unknown";return e.jsx("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:translate-x-1 hover:shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",j,e.jsxs("span",{className:"ml-2 font-medium",children:["(",d,"%)"]})]})]})}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ease-out ${d===100?"bg-green-600":d>=78?"bg-blue-600":d>=56?"bg-indigo-500":d>=33?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${d}%`}})})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[K(r.status,V),e.jsx("select",{value:r.status,onChange:c=>ae(t.id,r.id,parseInt(c.target.value)),className:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-xs transition-all duration-200 hover:border-indigo-400",children:V.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))})]})]})},r.id)})})]})})})]},t.id)})})})})})]})};export{Be as default};
