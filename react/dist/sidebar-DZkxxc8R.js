import{r as s,j as n}from"./mainweb-C0h3TYcN.js";import{i as l}from"./index-C5Av5t1H.js";import{s as p,w as b,i as m,u as d,a as u,r as f,b as w,c as y}from"./useDragDropManager-DGr74UuU.js";function S(a){return s.useMemo(()=>a.hooks.dragSource(),[a])}function D(a){return s.useMemo(()=>a.hooks.dragPreview(),[a])}let c=!1,g=!1;class C{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){l(!c,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return c=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{c=!1}}isDragging(){if(!this.sourceId)return!1;l(!g,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return g=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{g=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class v{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,i=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!p(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!p(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=b({dragSource:(t,i)=>{this.clearDragSource(),this.dragSourceOptions=i||null,m(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,i)=>{this.clearDragPreview(),this.dragPreviewOptions=i||null,m(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function I(a,e){const t=d(),i=s.useMemo(()=>new v(t.getBackend()),[t]);return u(()=>(i.dragSourceOptions=a||null,i.reconnect(),()=>i.disconnectDragSource()),[i,a]),u(()=>(i.dragPreviewOptions=e||null,i.reconnect(),()=>i.disconnectDragPreview()),[i,e]),i}function M(){const a=d();return s.useMemo(()=>new C(a),[a])}class x{beginDrag(){const e=this.spec,t=this.monitor;let i=null;return typeof e.item=="object"?i=e.item:typeof e.item=="function"?i=e.item(t):i={},i??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const i=this.spec,r=this.monitor,{isDragging:o}=i;return o?o(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,i=this.connector,{end:r}=e;r&&r(t.getItem(),t),i.reconnect()}constructor(e,t,i){this.spec=e,this.monitor=t,this.connector=i}}function O(a,e,t){const i=s.useMemo(()=>new x(a,e,t),[e,t]);return s.useEffect(()=>{i.spec=a},[a]),i}function T(a){return s.useMemo(()=>{const e=a.type;return l(e!=null,"spec.type must be defined"),e},[a])}function R(a,e,t){const i=d(),r=O(a,e,t),o=T(a);u(function(){if(o!=null){const[P,h]=f(o,r,i);return e.receiveHandlerId(P),t.receiveHandlerId(P),h}},[i,e,t,r,o])}function V(a,e){const t=w(a);l(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=M(),r=I(t.options,t.previewOptions);return R(t,i,r),[y(t.collect,i,r),S(r),D(r)]}const U=({type:a,label:e,iconClass:t})=>{const[{isDragging:i},r]=V({type:"FORM_ITEM",item:{type:a,label:e},collect:o=>({isDragging:!!o.isDragging()})});return n.jsxs("div",{ref:r,className:`group relative block  rounded-lg border border-gray-300 bg-white px-6 py-2 shadow-sm focus:outline-none data-[focus]:border-indigo-600 data-[focus]:ring-2 data-[focus]:ring-indigo-600 sm:flex p-4 cursor-move mb-2  ${i?"opacity-50":"opacity-100"}`,children:[n.jsx("span",{className:" material-symbols-outlined h-6 w-6 mr-2 text-red",children:t}),n.jsx("span",{className:"flex items-center",children:n.jsxs("span",{className:"flex flex-col text-sm",children:[n.jsx("span",{className:"font-medium text-gray-900",children:e}),n.jsx("span",{className:"text-gray-500"})]})})]})},F=[{type:"text",label:"Text Field",icon:"edit",allowedPages:["Guardian Registration","User","Participations","Team","Team Member Profile","Payment"],isInput:!0},{type:"password",label:"Password",icon:"key",allowedPages:["User","Participations","Team Member Profile","Payment"],isInput:!0},{type:"email",label:"Email",icon:"email",allowedPages:["Guardian Registration","User","Participations","Team","Team Member Profile","Payment"],isInput:!0},{type:"phone",label:"Phone",icon:"phone",allowedPages:["Guardian Registration","User","Participations","Team","Team Member Profile","Payment"],isInput:!0},{type:"number",label:"Number",icon:"looks_one",allowedPages:["Guardian Registration","User","Participations","Team","Team Member Profile","Payment"],isInput:!0},{type:"textarea",label:"Textarea",icon:"text_snippet",allowedPages:["Guardian Registration","User","Participations","Team Member Profile","Payment"],isInput:!0},{type:"select",label:"Select",icon:"dropdown",allowedPages:["Guardian Registration","User","Participations","Team","Team Member Profile","Payment"],isInput:!0},{type:"date",label:"Date",icon:"date_range",allowedPages:["User","Participations","Team Member Profile","Payment"],isInput:!0},{type:"checkbox",label:"Checkbox",icon:"check_box",allowedPages:["Agreement","User","Participations","Team Member Profile","Payment"],isInput:!0},{type:"radio",label:"Radio",icon:"radio_button_checked",allowedPages:["User","Participations","Team Member Profile","Payment"],isInput:!0},{type:"country",label:"Country",icon:"flag_2",allowedPages:["User","Participations","Team Member Profile","Payment"],isInput:!0},{type:"RegistrationIdBox",label:"Registration Id",icon:"edit",allowedPages:["User"],isInput:!0},{type:"organizations",label:"Organization/Unit Selection",icon:"business",allowedPages:["User","Team","Participations"],isInput:!0},{type:"group",label:"Group",icon:"folder",allowedPages:["Participations"],isInput:!0},{type:"competitions",label:"Competitions",icon:"trophy",allowedPages:["Participations"],isInput:!0},{type:"team-members",label:"Team Members",icon:"people",allowedPages:["Team Members"]},{type:"payment-summary",label:"Payment Summary",icon:"payment",allowedPages:["Payment"]},{type:"non-payment-summary",label:"Participation Summary",icon:"payment",allowedPages:["Payment"]},{type:"extra-payment-options",label:"Extra Payment Options",icon:"payment",allowedPages:["Payment"]},{type:"heading",label:"Heading",icon:"title",allowedPages:["Agreement","User","Participations","Team Member Profile","Payment","Mail Footer Content","Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"imageFromUrl",label:"Image From Url",icon:"image",allowedPages:["Agreement","User","Participations","Team Member Profile","Payment","Mail Footer Content","Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"iframeRenderer",label:"Iframe Renderer",icon:"code",allowedPages:["User","Agreement","Participations","Team Member Profile","Payment","Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"html",label:"HTML",icon:"code",allowedPages:["User","Agreement","Participations","Team Member Profile","Payment","Mail Footer Content","Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"paragraph",label:"Paragraph",icon:"text_fields",allowedPages:["Agreement","User","Participations","Team Member Profile","Payment","Mail Footer Content","Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"image-upload",label:"Image Upload",icon:"image",allowedPages:["User","Participations","Team Member Profile","Payment"]},{type:"file-upload",label:"File Upload",icon:"upload",allowedPages:["User","Participations","Team Member Profile","Payment"]},{type:"event-name",label:"Event Name",icon:"event",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"event-date",label:"Event Date",icon:"date_range",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"event-location",label:"Event Location/Venue",icon:"place",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"event-description",label:"Event Description",icon:"description",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"event-logo",label:"Event Logo",icon:"image",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"event-registration-login-buttons",label:"Event Registration Login Buttons",icon:"login",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View"]},{type:"event-banner",label:"Event Banner",icon:"image",allowedPages:["Public Page Main View"]},{type:"organization-name",label:"Organization Name",icon:"business",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"organization-logo",label:"Organization Logo",icon:"image",allowedPages:["Public Page Left Sidebar","Public Page Footer","Public Page Main View","Public Page Contact View"]},{type:"competitions-list",label:"Competitions List",icon:"list",allowedPages:["Public Page Main View"]},{type:"required-information-to-finish-registration",label:"Required Information To Finish Registration",icon:"info",allowedPages:["Public Page Main View"]},{type:"contact-organization",label:"Contact Organization",icon:"business",allowedPages:["Public Page Contact View"]},{type:"contact-email",label:"Contact Email",icon:"email",allowedPages:["Public Page Contact View"]},{type:"contact-phone",label:"Contact Phone",icon:"phone",allowedPages:["Public Page Contact View"]},{type:"contact-whatsapp",label:"Contact WhatsApp",icon:"phone",allowedPages:["Public Page Contact View"]},{type:"contact-facebook",label:"Facebook Link",icon:"tag",allowedPages:["Public Page Contact View"]}],E=({currentActiveStep:a})=>{let e=F.filter(t=>t.allowedPages.includes(a?.name));return n.jsxs("div",{className:"relative  w-64 ",children:[n.jsx("div",{className:"absolute inset-px rounded-lg bg-white lg:rounded-l-lg"}),n.jsxs("div",{className:"relative flex h-full flex-col  rounded-lg lg:rounded-l-[calc(2rem+1px)] px-4",children:[n.jsxs("div",{className:"px-2 pb-4 pt-2 sm:pb-3 sm:pt-4",children:[n.jsx("p",{className:"text-sm font-medium tracking-tight text-gray-950 max-lg:text-center",children:"Choose Components"}),n.jsx("p",{className:"mt-2 max-w-lg text-xs text-gray-600 max-lg:text-center",children:"Drag and drop and build form"})]}),e.map((t,i)=>n.jsx(U,{type:t.type,label:t.label,iconClass:t.icon},i))]})]})};export{E as default,F as formItems};
