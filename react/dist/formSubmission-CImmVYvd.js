import{r as a,u as Y,j as i,_ as C}from"./mainweb-BRKLKJMh.js";import{u as $}from"./index.esm-CTyTwZBy.js";import{R as G}from"./renderComponents-Dex1a-uh.js";function P({title:u,titleId:m,...p},f){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":m},p),u?a.createElement("title",{id:m},u):null,a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const x=a.forwardRef(P),le=({isGuardianRegistration:u,isCoordinatorView:m,participantType:p,isSubmitted:f,disableSaveLater:S,drop:q,data:r,isOver:E,selectedComponent:k,setSelectedComponent:D,components:l,setComponents:ee,handlePropertiesPanelChange:T,removeComponent:V,isPlayGround:d,eventDetails:A,handleNext:H,isLastStep:M,isPrint:O})=>{var R;let{user:o}=Y();o==null||o.RoleTitle;let B=((R=o==null?void 0:o.Email)==null?void 0:R.indexOf("justnshalom"))!=-1;console.log({componentsFS:l});const{handleSubmit:U,register:Z,unregister:_,control:z,clearErrors:K,reset:y,watch:L,getValues:v,setValue:g,trigger:ie,formState:{errors:I}}=$({defaultValues:{...r}});v();let[c,j]=a.useState({...r});a.useEffect(()=>{r&&(Object.keys(r).forEach(e=>{_(e),g(e,r[e])}),j({...r}))},[r]);const J=e=>{D(e)};let Q=l.find(e=>e.name=="name"),W=l.find(e=>e.name=="teamName");const F=async(e,t)=>{if(window.scrollTo({top:0,behavior:"smooth"}),t===!0){if(Q&&!["name","dobString"].every(s=>e[s])){C.error("Name and Date of Birth are required fields to save for later");return}if(W&&!["teamName"].every(s=>e[s])){C.error("Team Name is a required field to save for later");return}}await H(e,y,t===!0)},N=(e,t)=>{g(e,t),r&&(r[e]=t),j({...r})};let w=[...l];return c&&(l==null?void 0:l.length)>0&&!d&&(w=w.filter(e=>{var b;let t=(b=e.conditions)==null?void 0:b.filter(h=>h.key);return(t==null?void 0:t.length)>0?!!t.every(s=>{if(s.key){let X=s.key.charAt(0).toLowerCase()+s.key.slice(1),n=c[s.key]||c[X];if((n||n===!1)&&(n==null?void 0:n.toString())==s.value){if(s.value==!1)debugger;return!0}}return!1}):!0})),i.jsx("div",{className:("flex-auto p-2 "+d,""),children:i.jsxs("form",{onSubmit:U(F),children:[i.jsx(G,{isPrint:O,isCoordinatorView:m,participantType:p,handlePropertiesChange:N,handlePropertiesPanelChange:T,formData:c,isPlayGround:d,onChangeValue:N,drop:q,isSubmitted:f,isOver:E,eventDetails:A,components:w,selectedComponent:k,handleSelect:J,register:Z,getValues:v,errors:I,control:z,setValue:g,clearErrors:K,reset:y,watch:L,removeComponent:V}),!d&&!f&&i.jsx("div",{className:"mb-2 w-full flex justify-end px-0",children:u?i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(x,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Register"]}):i.jsxs(i.Fragment,{children:[!B&&!S&&i.jsxs("button",{type:"button",onClick:()=>{F(v(),!0)},className:"inline-flex items-center gap-x-2  rounded-md bg-lime-800 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-950 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-950 mr-3",children:[i.jsx(x,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Save for Later"]}),M?i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(x,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Submit"]}):i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(x,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Next"]})]})})]})})};export{le as F,x as a};
