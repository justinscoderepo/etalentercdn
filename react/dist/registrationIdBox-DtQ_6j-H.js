import{r as h,j as e,_ as H}from"./mainweb-DX_Vo6kH.js";import{c as p}from"./utilities-CN4lTu6a.js";import{V as x}from"./validationMessage-Bykrm4Tc.js";import{F as K}from"./CheckIcon-CzNm01f8.js";const se=({component:i,isCoordinatorView:L,fieldName:l,label:d,placeholder:O,errors:s,register:P,formData:n,optional:v,maxLength:M,onChange:F,type:m,pattern:W,minLength:R,autocomplete:_,step:z,disabled:c,max:S,labelFont:V,noLabel:A,eventDetails:f})=>{var T;let B=s==null?void 0:s[l],[r,u]=h.useState(B),[b,k]=h.useState(!1);h.useEffect(()=>{u(s==null?void 0:s[l])},[s==null?void 0:s[l]]);let U=l.includes("."),y=l.split(".")[0],j=s==null?void 0:s[y],q=j?l.split(".")[1]:null;h.useEffect(()=>{if(U){let t=j==null?void 0:j[q];u(t||"")}},[s==null?void 0:s[y],[(T=s==null?void 0:s[y])==null?void 0:T[q]]]);const[Q,X]=h.useState(!1);let C=function(t){let J=!1;if(t){let E=g==null?void 0:g.EligibleRegistrationNumbers;(E==null?void 0:E.find(G=>G.RegistrationNumber==t))&&(J=!0)}return J};const w=f==null?void 0:f.JsonSettings,I=w!=null&&w!==""?JSON.parse(w):{};let g=I==null?void 0:I.AdditionalSettings,N=g==null?void 0:g.EligibleRegistrationNumbers,a=N==null?void 0:N.find(t=>t.RegistrationNumber==(n==null?void 0:n[l]));console.log({component:i});let o=i==null?void 0:i.dontDisplayOwnerInfo;return o&&L&&(o=!1),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsxs("label",{htmlFor:l,className:p(V||"block text-sm font-medium leading-6 ",r?"text-danger":"text-gray-900"),children:[A?"":d||l,!v&&e.jsx("span",{className:"text-danger pl-1",children:"*"})]}),e.jsxs("div",{className:p("relative rounded-md shadow-sm",c?"":"mt-2"),children:[c?e.jsx("div",{className:p(m==="email"||m==="phone"?"pl-7":"pl-0","block w-full py-1.5 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",c?"text-gray-500":""),children:(n==null?void 0:n[l])??"-"}):e.jsx("input",{type:"text",step:z||null,...P(l,{required:!v,maxLength:M||200,pattern:W||null,minLength:R||0,max:S||null,validate:t=>t&&!C(t)&&!(i!=null&&i.allowInvalidRegistrationId)?(H.error("Invalid Registration Number"),setTimeout(()=>{s[l]=null},100),"Invalid "+d):!0}),onChange:t=>{if(k(!1),t.target.value)if(C(t.target.value))u("");else if(i!=null&&i.allowInvalidRegistrationId)k(!0);else{u({type:"custom"});return}F&&F(t),u("")},disabled:c,autoComplete:_||"off",className:p(m==="email"||m==="phone"?"pl-10":"pl-3","block w-full rounded-md border-0 py-1.5 ring-1 ring-inset  focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",r?"border-danger focus:border-danger focus:ring-0 focus:ring-red-700 placeholder:text-red-400 ring-red-300 ":"text-gray-900  focus:border-darkprimary focus:ring-0 placeholder:text-gray-400 ring-gray-300 ",c?"bg-gray-200 text-gray-500":""),placeholder:O||"Enter "+d}),!r&&!b&&(n==null?void 0:n[l])&&e.jsx("span",{className:"absolute right-0 top-0 mr-2 cursor-pointer bg-green-200 m-2 rounded-2xl p-1",children:e.jsx(K,{className:"h-3 w-3 text-green-600"})}),a&&!r&&!b&&!o&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 p-2 mt-2",children:[(a==null?void 0:a.ContactNumber)&&e.jsx("p",{className:"text-xs text-green-800 mt-1",children:a==null?void 0:a.ContactNumber}),(a==null?void 0:a.IssuedTo)&&e.jsx("p",{className:"text-xs text-green-800 mt-1",children:a==null?void 0:a.IssuedTo})]})})]}),r&&e.jsx("div",{children:(()=>{switch(r.type){case"required":return e.jsx(x,{message:d+" is required"});case"maxLength":return e.jsx(x,{message:"Max length is "+M});case"max":return e.jsx(x,{message:"Value must be less or equal than "+S});case"minLength":return e.jsx(x,{message:"Min length is "+R});case"pattern":return e.jsx(x,{message:"Invalid format"});default:return e.jsx(x,{message:r==null?void 0:r.message})}})()}),b&&e.jsxs("div",{className:"justify-end flex-col flex",children:[e.jsxs("span",{className:"text-orange-600 text-right text-sm",children:["Unfortunately, this ",d," is not available in the eligible list as per the organizer rules."]}),i.warningMessage&&e.jsx("span",{className:"text-blue-800 text-right",children:i.warningMessage})]})]})};export{se as default};
