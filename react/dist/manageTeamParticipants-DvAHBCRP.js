import{j as u,r as d,b as E}from"./mainweb-Bbcav5ZH.js";import{u as T}from"./useBackend-iG5jWGWX.js";import"./httpService-SuMbuhin.js";import"./index-t--hEgTQ.js";const G=d.lazy(()=>E(()=>import("./iframeBox-BjxeZKQm.js"),[])),O=d.lazy(()=>E(()=>import("./teamMembers-Cc32VvBv.js"),[]));function A({groupId:o,disabled:l,hideGoBack:n,teamId:e,levels:m,onClose:c,onUpdate:a,renderAsComponenet:p}){var S;console.log({groupId:o,disabled:l,hideGoBack:n,teamId:e,levels:m,onClose:c,onUpdate:a});let[U,P]=d.useState(!1);const{row:L}=T("/EventJson/Get",{select:"EVId,EventName,Description,JsonSettings"}),{rows:_,setFilter:h}=T("/AgewiseGroupsJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status"}),{row:t,setFilter:b,update:v,status:f}=T("/CoordinatorJson/GetParticipants?ParticipantType=2&TeamId="+e,{updateUrl:"/CoordinatorJson/SaveParticipantsDirect",deleteUrl:"/CoordinatorJson/RemoveUserBody",sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:2,TeamId:e,disableGetCompetitions:!1,group:o},select:"participantList,userList,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,MaximumCandidates"});console.log({participants:t}),console.log({participantStatus:f});let g=(t==null?void 0:t.ParticipantsList)??[],y=(t==null?void 0:t.Competitions)??[],C=(t==null?void 0:t.UsersList)??[];C.forEach(i=>{let D=g.filter(r=>r.Candidate==i.Candidate||r.Candidate==i.Team),x=[];D.forEach(r=>{let N=y.find(j=>j.CompetitionStructureId==r.Competition);x.push(N)}),i.participatingCompetitions=x;let J=i.JsonSettings;try{let r=JSON.parse(J);r&&(i.ApplicationStatus=r.finalSubmitted)}catch{}});let s={};s.user={},s.user=C.find(i=>i.Team==e),s.participants=g.filter(i=>i.Candidate==e);const M=((S=s==null?void 0:s.user)==null?void 0:S.TeamMembers)??[];return d.useEffect(()=>{a&&a(M)},[s.participants]),u.jsx("div",{children:u.jsx(G,{hideGoBack:n,setOpen:()=>{c()},noClose:!1,hideTitle:p===!0,open:!0,title:"Manage Team Participants",children:u.jsx(O,{reducePadding:p===!0,groupId:o,hideGoBack:n,disabled:l,levels:m,isLoading2:f!=="finished",ageWiseGroup:_,setAgeFilter:h,setFilter:b,onClose:c,setIsLoading:P,saveParticipantDetails:v,eventDetails:L,participantList:g,teamId:e,selectedParticipantDetails:s,onChange:a})})})}const z=({renderAsComponenet:o,groupId:l,disabled:n,hideGoBack:e,teamId:m,levels:c,onClose:a,onUpdate:p})=>(console.log({renderAsComponenet:o,groupId:l,disabled:n,hideGoBack:e,teamId:m,levels:c,onClose:a,onUpdate:p}),m?u.jsx(A,{renderAsComponenet:o,groupId:l,disabled:n,hideGoBack:e,teamId:m,levels:c,onClose:a,onUpdate:p}):u.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a team to proceed"}));export{z as default};
