import{r as m,j as e}from"./mainweb-eqs6SdrX.js";import{c as x}from"./utilities-CN4lTu6a.js";import{V as d}from"./validationMessage-D8UO9znT.js";import{F as M,a as q,b as H,c as I}from"./EyeIcon-o1VLdtlI.js";import{F as J}from"./ChatBubbleBottomCenterTextIcon-B3cr0cro.js";const X=({fieldName:t,label:p,placeholder:L,errors:l,register:S,formData:s,optional:F,maxLength:o,onChange:N,type:n,pattern:C,minLength:y,autocomplete:P,step:_,disabled:i,max:v,labelFont:E,noLabel:T,readonly:f,validate:k,component:r,isCoordinatorView:j})=>{var R;let A=l==null?void 0:l[t],[a,g]=m.useState(A);a&&console.log("error",a),m.useEffect(()=>{g(l==null?void 0:l[t])},[l==null?void 0:l[t]]);let B=t.includes("."),w=t.split(".")[0],h=l==null?void 0:l[w],$=h?t.split(".")[1]:null;m.useEffect(()=>{if(B){let c=h==null?void 0:h[$];g(c||"")}},[l==null?void 0:l[w],[(R=l==null?void 0:l[w])==null?void 0:R[$]]]);const[u,O]=m.useState(!1),z=()=>{O(!u)};return e.jsxs("div",{className:"sm:col-span-4",children:[e.jsxs("label",{htmlFor:t,className:x(E||"block text-sm font-medium leading-6 ",a?"text-danger":"text-gray-900"),children:[T?"":p||t,!F&&e.jsx("span",{className:"text-danger pl-1",children:"*"})]}),e.jsxs("div",{className:x("relative rounded-md shadow-sm flex",i?"":"mt-2"),children:[n=="email"&&e.jsx("div",{className:x("pointer-events-none absolute inset-y-0 left-0 flex items-center",i?"":"pl-3"),children:e.jsx(M,{"aria-hidden":"true",className:"h-5 w-5 "+(a?"text-red-400":"text-gray-400")})}),n=="phone"&&e.jsx("div",{className:x("pointer-events-none absolute inset-y-0 left-0 flex items-center",i?"":"pl-3"),children:e.jsx(q,{"aria-hidden":"true",className:"h-5 w-5 "+(a?"text-red-400":"text-gray-400")})}),i?e.jsx("div",{className:x(n==="email"||n==="phone"?"pl-7":"pl-0","block w-full py-1.5 print:py-1 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",i?"text-gray-500":""),children:(s==null?void 0:s[t])??"-"}):e.jsx("input",{type:u?"text":n==="password"&&!u?"password":(n==null?void 0:n.toLowerCase())||"text",readOnly:f,step:_||null,...S(t,{required:!F,maxLength:o||200,pattern:C||null,minLength:y||0,max:v||null,validate:c=>{if(k)return k(c);if(r!=null&&r.reEnterFieldName){let G=r.reEnterFieldName.charAt(0).toLowerCase()+r.reEnterFieldName.slice(1);var b=s[G];if(b||(b=s[r.reEnterFieldName]),c!==b)return"Value does not match"}return!0}}),onChange:c=>{N&&N(c),g("")},disabled:i,autoComplete:P||"off",className:x(n==="email"||n==="phone"?"pl-10":"pl-3","block w-full rounded-md border-0 py-1.5 ring-1 ring-inset  focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",a?"border-danger focus:border-danger focus:ring-0 focus:ring-red-700 placeholder:text-red-400 ring-red-300 ":"text-gray-900  focus:border-darkprimary focus:ring-0 placeholder:text-gray-400 ring-gray-300 ",i?"bg-gray-200 text-gray-500":""),placeholder:L||"Enter "+p}),n==="password"&&e.jsx("span",{className:"absolute right-0 top-0 ml-2 cursor-pointer bg-gray-100 m-2",onClick:z,children:u?e.jsx(I,{className:"h-5 w-5 text-gray-600 bg-gray-100"}):e.jsx(H,{className:"h-5 w-5 text-gray-600 bg-gray-100"})}),j&&n==="phone"&&e.jsx("a",{target:"_new",href:`https://wa.me/${s==null?void 0:s[t]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(J,{className:"h-4 w-4 inline-block text-gray-400"})})}),j&&n==="phone"&&(s==null?void 0:s[t])&&e.jsx("a",{target:"_new",href:`tel:${s==null?void 0:s[t]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(q,{className:"h-4 w-4 inline-block text-gray-400"})})}),j&&n==="email"&&(s==null?void 0:s[t])&&e.jsx("a",{target:"_new",href:`mailto:${s==null?void 0:s[t]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(M,{className:"h-4 w-4 inline-block text-gray-400"})})})]}),a&&e.jsx("div",{children:(()=>{switch(a.type){case"required":return e.jsx(d,{message:p+" is required"});case"maxLength":return e.jsx(d,{message:"Max length is "+o});case"max":return e.jsx(d,{message:"Value must be less or equal than "+v});case"minLength":return e.jsx(d,{message:"Min length is "+y});case"pattern":return e.jsx(d,{message:"Format of this field is not valid"});case"validate":return e.jsx(d,{message:a.message})}})()})]})};export{X as default};
