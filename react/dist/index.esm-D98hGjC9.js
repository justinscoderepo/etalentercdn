import{k as v}from"./main-CYp90Aiy.js";var me=t=>t.type==="checkbox",ue=t=>t instanceof Date,z=t=>t==null;const gt=t=>typeof t=="object";var I=t=>!z(t)&&!Array.isArray(t)&&gt(t)&&!ue(t),mt=t=>I(t)&&t.target?me(t.target)?t.target.checked:t.target.value:t,It=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ht=(t,i)=>t.has(It(i)),Nt=t=>{const i=t.constructor&&t.constructor.prototype;return I(i)&&i.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(t){if(t instanceof Date)return new Date(t);const i=typeof FileList<"u"&&t instanceof FileList;if($e&&(t instanceof Blob||i))return t;const e=Array.isArray(t);if(!e&&!(I(t)&&Nt(t)))return t;const r=e?[]:Object.create(Object.getPrototypeOf(t));for(const u in t)Object.prototype.hasOwnProperty.call(t,u)&&(r[u]=M(t[u]));return r}var Ae=t=>/^\w*$/.test(t),R=t=>t===void 0,xe=t=>Array.isArray(t)?t.filter(Boolean):[],Ke=t=>xe(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(t,i,e)=>{if(!i||!I(t))return e;const r=(Ae(i)?[i]:Ke(i)).reduce((u,n)=>z(u)?u:u[n],t);return R(r)||r===t?R(t[i])?e:t[i]:r},Q=t=>typeof t=="boolean",K=t=>typeof t=="function",C=(t,i,e)=>{let r=-1;const u=Ae(i)?[i]:Ke(i),n=u.length,o=n-1;for(;++r<n;){const d=u[r];let p=e;if(r!==o){const x=t[d];p=I(x)||Array.isArray(x)?x:isNaN(+u[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=p,t=t[d]}};const be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},te={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vt=v.createContext(null);vt.displayName="HookFormContext";const pe=()=>v.useContext(vt);var bt=(t,i,e,r=!0)=>{const u={defaultValues:i._defaultValues};for(const n in t)Object.defineProperty(u,n,{get:()=>{const o=n;return i._proxyFormState[o]!==te.all&&(i._proxyFormState[o]=!r||te.all),e&&(e[o]=!0),t[o]}});return u};const ke=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Bt(t){const i=pe(),{control:e=i.control,disabled:r,name:u,exact:n}=t||{},[o,d]=v.useState(e._formState),p=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ke(()=>e._subscribe({name:u,formState:p.current,exact:n,callback:x=>{!r&&d({...e._formState,...x})}}),[u,r,n]),v.useEffect(()=>{p.current.isValid&&e._setValid(!0)},[e]),v.useMemo(()=>bt(o,e,p.current,!1),[o,e])}var X=t=>typeof t=="string",Pe=(t,i,e,r,u)=>X(t)?(r&&i.watch.add(t),_(e,t,u)):Array.isArray(t)?t.map(n=>(r&&i.watch.add(n),_(e,n))):(r&&(i.watchAll=!0),e),We=t=>z(t)||!gt(t);function se(t,i,e=new WeakSet){if(We(t)||We(i))return Object.is(t,i);if(ue(t)&&ue(i))return t.getTime()===i.getTime();const r=Object.keys(t),u=Object.keys(i);if(r.length!==u.length)return!1;if(e.has(t)||e.has(i))return!0;e.add(t),e.add(i);for(const n of r){const o=t[n];if(!u.includes(n))return!1;if(n!=="ref"){const d=i[n];if(ue(o)&&ue(d)||I(o)&&I(d)||Array.isArray(o)&&Array.isArray(d)?!se(o,d,e):!Object.is(o,d))return!1}}return!0}function Pt(t){const i=pe(),{control:e=i.control,name:r,defaultValue:u,disabled:n,exact:o,compute:d}=t||{},p=v.useRef(u),x=v.useRef(d),q=v.useRef(void 0),h=v.useRef(e),w=v.useRef(r);x.current=d;const[F,P]=v.useState(()=>{const f=e._getWatch(r,p.current);return x.current?x.current(f):f}),U=v.useCallback(f=>{const y=Pe(r,e._names,f||e._formValues,!1,p.current);return x.current?x.current(y):y},[e._formValues,e._names,r]),B=v.useCallback(f=>{if(!n){const y=Pe(r,e._names,f||e._formValues,!1,p.current);if(x.current){const V=x.current(y);se(V,q.current)||(P(V),q.current=V)}else P(y)}},[e._formValues,e._names,n,r]);ke(()=>((h.current!==e||!se(w.current,r))&&(h.current=e,w.current=r,B()),e._subscribe({name:r,formState:{values:!0},exact:o,callback:f=>{B(f.values)}})),[e,o,r,B]),v.useEffect(()=>e._removeUnmounted());const T=h.current!==e,A=w.current,W=v.useMemo(()=>{if(n)return null;const f=!T&&!se(A,r);return T||f?U():null},[n,T,r,A,U]);return W!==null?W:F}function Wt(t){const i=pe(),{name:e,disabled:r,control:u=i.control,shouldUnregister:n,defaultValue:o,exact:d=!0}=t,p=ht(u._names.array,e),x=v.useMemo(()=>_(u._formValues,e,_(u._defaultValues,e,o)),[u,e,o]),q=Pt({control:u,name:e,defaultValue:x,exact:d}),h=Bt({control:u,name:e,exact:d}),w=v.useRef(t),F=v.useRef(void 0),P=v.useRef(u.register(e,{...t.rules,value:q,...Q(t.disabled)?{disabled:t.disabled}:{}}));w.current=t;const U=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_(h.errors,e)},isDirty:{enumerable:!0,get:()=>!!_(h.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!_(h.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!_(h.validatingFields,e)},error:{enumerable:!0,get:()=>_(h.errors,e)}}),[h,e]),B=v.useCallback(f=>P.current.onChange({target:{value:mt(f),name:e},type:be.CHANGE}),[e]),T=v.useCallback(()=>P.current.onBlur({target:{value:_(u._formValues,e),name:e},type:be.BLUR}),[e,u._formValues]),A=v.useCallback(f=>{const y=_(u._fields,e);y&&y._f&&f&&(y._f.ref={focus:()=>K(f.focus)&&f.focus(),select:()=>K(f.select)&&f.select(),setCustomValidity:V=>K(f.setCustomValidity)&&f.setCustomValidity(V),reportValidity:()=>K(f.reportValidity)&&f.reportValidity()})},[u._fields,e]),W=v.useMemo(()=>({name:e,value:q,...Q(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:B,onBlur:T,ref:A}),[e,r,h.disabled,B,T,A,q]);return v.useEffect(()=>{const f=u._options.shouldUnregister||n,y=F.current;y&&y!==e&&!p&&u.unregister(y),u.register(e,{...w.current.rules,...Q(w.current.disabled)?{disabled:w.current.disabled}:{}});const V=(S,$)=>{const Y=_(u._fields,S);Y&&Y._f&&(Y._f.mount=$)};if(V(e,!0),f){const S=M(_(u._options.defaultValues,e,w.current.defaultValue));C(u._defaultValues,e,S),R(_(u._formValues,e))&&C(u._formValues,e,S)}return!p&&u.register(e),F.current=e,()=>{(p?f&&!u._state.action:f)?u.unregister(e):V(e,!1)}},[e,u,p,n]),v.useEffect(()=>{u._setDisabledField({disabled:r,name:e})},[r,e,u]),v.useMemo(()=>({field:W,formState:h,fieldState:U}),[W,h,U])}const ar=t=>t.render(Wt(t));var qt=(t,i,e,r,u)=>i?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[r]:u||!0}}:{},G=t=>Array.isArray(t)?t:[t],nt=()=>{let t=[];return{get observers(){return t},next:u=>{for(const n of t)n.next&&n.next(u)},subscribe:u=>(t.push(u),{unsubscribe:()=>{t=t.filter(n=>n!==u)}}),unsubscribe:()=>{t=[]}}};function Vt(t,i){const e={};for(const r in t)if(t.hasOwnProperty(r)){const u=t[r],n=i[r];if(u&&I(u)&&n){const o=Vt(u,n);I(o)&&(e[r]=o)}else t[r]&&(e[r]=n)}return e}var j=t=>I(t)&&!Object.keys(t).length,ze=t=>t.type==="file",Ve=t=>{if(!$e)return!1;const i=t?t.ownerDocument:0;return t instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},Ft=t=>t.type==="select-multiple",Ge=t=>t.type==="radio",Ht=t=>Ge(t)||me(t),Oe=t=>Ve(t)&&t.isConnected;function jt(t,i){const e=i.slice(0,-1).length;let r=0;for(;r<e;)t=R(t)?r++:t[i[r++]];return t}function $t(t){for(const i in t)if(t.hasOwnProperty(i)&&!R(t[i]))return!1;return!0}function L(t,i){const e=Array.isArray(i)?i:Ae(i)?[i]:Ke(i),r=e.length===1?t:jt(t,e),u=e.length-1,n=e[u];return r&&delete r[n],u!==0&&(I(r)&&j(r)||Array.isArray(r)&&$t(r))&&L(t,e.slice(0,-1)),t}var Kt=t=>{for(const i in t)if(K(t[i]))return!0;return!1};function At(t){return Array.isArray(t)||I(t)&&!Kt(t)}function qe(t,i={}){for(const e in t){const r=t[e];At(r)?(i[e]=Array.isArray(r)?[]:{},qe(r,i[e])):R(r)||(i[e]=!0)}return i}function oe(t,i,e){e||(e=qe(i));for(const r in t){const u=t[r];if(At(u))R(i)||We(e[r])?e[r]=qe(u,Array.isArray(u)?[]:{}):oe(u,z(i)?{}:i[r],e[r]);else{const n=i[r];e[r]=!se(u,n)}}return e}const ut={value:!1,isValid:!1},lt={value:!0,isValid:!0};var xt=t=>{if(Array.isArray(t)){if(t.length>1){const i=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:i,isValid:!!i.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!R(t[0].attributes.value)?R(t[0].value)||t[0].value===""?lt:{value:t[0].value,isValid:!0}:lt:ut}return ut},pt=(t,{valueAsNumber:i,valueAsDate:e,setValueAs:r})=>R(t)?t:i?t===""?NaN:t&&+t:e&&X(t)?new Date(t):r?r(t):t;const ot={isValid:!1,value:null};var kt=t=>Array.isArray(t)?t.reduce((i,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:i,ot):ot;function ct(t){const i=t.ref;return ze(i)?i.files:Ge(i)?kt(t.refs).value:Ft(i)?[...i.selectedOptions].map(({value:e})=>e):me(i)?xt(t.refs).value:pt(R(i.value)?t.ref.value:i.value,t)}var zt=(t,i,e,r)=>{const u={};for(const n of t){const o=_(i,n);o&&C(u,n,o._f)}return{criteriaMode:e,names:[...t],fields:u,shouldUseNativeValidation:r}},Fe=t=>t instanceof RegExp,ge=t=>R(t)?t:Fe(t)?t.source:I(t)?Fe(t.value)?t.value.source:t.value:t,ce=t=>({isOnSubmit:!t||t===te.onSubmit,isOnBlur:t===te.onBlur,isOnChange:t===te.onChange,isOnAll:t===te.all,isOnTouch:t===te.onTouched});const dt="AsyncFunction";var Gt=t=>!!t&&!!t.validate&&!!(K(t.validate)&&t.validate.constructor.name===dt||I(t.validate)&&Object.values(t.validate).find(i=>i.constructor.name===dt)),Yt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),He=(t,i,e)=>!e&&(i.watchAll||i.watch.has(t)||[...i.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const de=(t,i,e,r)=>{for(const u of e||Object.keys(t)){const n=_(t,u);if(n){const{_f:o,...d}=n;if(o){if(o.refs&&o.refs[0]&&i(o.refs[0],u)&&!r)return!0;if(o.ref&&i(o.ref,o.name)&&!r)return!0;if(de(d,i))break}else if(I(d)&&de(d,i))break}}};function ft(t,i,e){const r=_(t,e);if(r||Ae(e))return{error:r,name:e};const u=e.split(".");for(;u.length;){const n=u.join("."),o=_(i,n),d=_(t,n);if(o&&!Array.isArray(o)&&e!==n)return{name:e};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};u.pop()}return{name:e}}var Jt=(t,i,e,r)=>{e(t);const{name:u,...n}=t;return j(n)||Object.keys(n).length>=Object.keys(i).length||Object.keys(n).find(o=>i[o]===(!r||te.all))},Qt=(t,i,e)=>!t||!i||t===i||G(t).some(r=>r&&(e?r===i:r.startsWith(i)||i.startsWith(r))),Xt=(t,i,e,r,u)=>u.isOnAll?!1:!e&&u.isOnTouch?!(i||t):(e?r.isOnBlur:u.isOnBlur)?!t:(e?r.isOnChange:u.isOnChange)?t:!0,Zt=(t,i)=>!xe(_(t,i)).length&&L(t,i),wt=(t,i,e)=>{const r=G(_(t,e));return C(r,"root",i[e]),C(t,e,r),t};function yt(t,i,e="validate"){if(X(t)||Array.isArray(t)&&t.every(X)||Q(t)&&!t)return{type:e,message:X(t)?t:"",ref:i}}var le=t=>I(t)&&!Fe(t)?t:{value:t,message:""},je=async(t,i,e,r,u,n)=>{const{ref:o,refs:d,required:p,maxLength:x,minLength:q,min:h,max:w,pattern:F,validate:P,name:U,valueAsNumber:B,mount:T}=t._f,A=_(e,U);if(!T||i.has(U))return{};const W=d?d[0]:o,f=k=>{u&&W.reportValidity&&(W.setCustomValidity(Q(k)?"":k||""),W.reportValidity())},y={},V=Ge(o),S=me(o),$=V||S,Y=(B||ze(o))&&R(o.value)&&R(A)||Ve(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,Z=qt.bind(null,U,r,y),he=(k,D,N,H=ie.maxLength,re=ie.minLength)=>{const J=k?D:N;y[U]={type:k?H:re,message:J,ref:o,...Z(k?H:re,J)}};if(n?!Array.isArray(A)||!A.length:p&&(!$&&(Y||z(A))||Q(A)&&!A||S&&!xt(d).isValid||V&&!kt(d).isValid)){const{value:k,message:D}=X(p)?{value:!!p,message:p}:le(p);if(k&&(y[U]={type:ie.required,message:D,ref:W,...Z(ie.required,D)},!r))return f(D),y}if(!Y&&(!z(h)||!z(w))){let k,D;const N=le(w),H=le(h);if(!z(A)&&!isNaN(A)){const re=o.valueAsNumber||A&&+A;z(N.value)||(k=re>N.value),z(H.value)||(D=re<H.value)}else{const re=o.valueAsDate||new Date(A),J=_e=>new Date(new Date().toDateString()+" "+_e),fe=o.type=="time",ye=o.type=="week";X(N.value)&&A&&(k=fe?J(A)>J(N.value):ye?A>N.value:re>new Date(N.value)),X(H.value)&&A&&(D=fe?J(A)<J(H.value):ye?A<H.value:re<new Date(H.value))}if((k||D)&&(he(!!k,N.message,H.message,ie.max,ie.min),!r))return f(y[U].message),y}if((x||q)&&!Y&&(X(A)||n&&Array.isArray(A))){const k=le(x),D=le(q),N=!z(k.value)&&A.length>+k.value,H=!z(D.value)&&A.length<+D.value;if((N||H)&&(he(N,k.message,D.message),!r))return f(y[U].message),y}if(F&&!Y&&X(A)){const{value:k,message:D}=le(F);if(Fe(k)&&!A.match(k)&&(y[U]={type:ie.pattern,message:D,ref:o,...Z(ie.pattern,D)},!r))return f(D),y}if(P){if(K(P)){const k=await P(A,e),D=yt(k,W);if(D&&(y[U]={...D,...Z(ie.validate,D.message)},!r))return f(D.message),y}else if(I(P)){let k={};for(const D in P){if(!j(k)&&!r)break;const N=yt(await P[D](A,e),W,D);N&&(k={...N,...Z(D,N.message)},f(N.message),r&&(y[U]=k))}if(!j(k)&&(y[U]={ref:W,...k},!r))return y}}return f(!0),y};const er={mode:te.onSubmit,reValidateMode:te.onChange,shouldFocusError:!0};function tr(t={}){let i={...er,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:K(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1},r={},u=I(i.defaultValues)||I(i.values)?M(i.defaultValues||i.values)||{}:{},n=i.shouldUnregister?{}:M(u),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,x=0;const q={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...q};let w={...h};const F={array:nt(),state:nt()},P=i.criteriaMode===te.all,U=s=>a=>{clearTimeout(x),x=setTimeout(s,a)},B=async s=>{if(!o.keepIsValid&&!i.disabled&&(h.isValid||w.isValid||s)){let a;i.resolver?(a=j((await $()).errors),T()):a=await Z(r,!0),a!==e.isValid&&F.state.next({isValid:a})}},T=(s,a)=>{!i.disabled&&(h.isValidating||h.validatingFields||w.isValidating||w.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?C(e.validatingFields,l,a):L(e.validatingFields,l))}),F.state.next({validatingFields:e.validatingFields,isValidating:!j(e.validatingFields)}))},A=(s,a=[],l,m,g=!0,c=!0)=>{if(m&&l&&!i.disabled){if(o.action=!0,c&&Array.isArray(_(r,s))){const b=l(_(r,s),m.argA,m.argB);g&&C(r,s,b)}if(c&&Array.isArray(_(e.errors,s))){const b=l(_(e.errors,s),m.argA,m.argB);g&&C(e.errors,s,b),Zt(e.errors,s)}if((h.touchedFields||w.touchedFields)&&c&&Array.isArray(_(e.touchedFields,s))){const b=l(_(e.touchedFields,s),m.argA,m.argB);g&&C(e.touchedFields,s,b)}(h.dirtyFields||w.dirtyFields)&&(e.dirtyFields=oe(u,n)),F.state.next({name:s,isDirty:k(s,a),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else C(n,s,a)},W=(s,a)=>{C(e.errors,s,a),F.state.next({errors:e.errors})},f=s=>{e.errors=s,F.state.next({errors:e.errors,isValid:!1})},y=(s,a,l,m)=>{const g=_(r,s);if(g){const c=_(n,s,R(l)?_(u,s):l);R(c)||m&&m.defaultChecked||a?C(n,s,a?c:ct(g._f)):H(s,c),o.mount&&!o.action&&B()}},V=(s,a,l,m,g)=>{let c=!1,b=!1;const E={name:s};if(!i.disabled){if(!l||m){(h.isDirty||w.isDirty)&&(b=e.isDirty,e.isDirty=E.isDirty=k(),c=b!==E.isDirty);const O=se(_(u,s),a);b=!!_(e.dirtyFields,s),O?L(e.dirtyFields,s):C(e.dirtyFields,s,!0),E.dirtyFields=e.dirtyFields,c=c||(h.dirtyFields||w.dirtyFields)&&b!==!O}if(l){const O=_(e.touchedFields,s);O||(C(e.touchedFields,s,l),E.touchedFields=e.touchedFields,c=c||(h.touchedFields||w.touchedFields)&&O!==l)}c&&g&&F.state.next(E)}return c?E:{}},S=(s,a,l,m)=>{const g=_(e.errors,s),c=(h.isValid||w.isValid)&&Q(a)&&e.isValid!==a;if(i.delayError&&l?(p=U(()=>W(s,l)),p(i.delayError)):(clearTimeout(x),p=null,l?C(e.errors,s,l):L(e.errors,s)),(l?!se(g,l):g)||!j(m)||c){const b={...m,...c&&Q(a)?{isValid:a}:{},errors:e.errors,name:s};e={...e,...b},F.state.next(b)}},$=async s=>(T(s,!0),await i.resolver(n,i.context,zt(s||d.mount,r,i.criteriaMode,i.shouldUseNativeValidation))),Y=async s=>{const{errors:a}=await $(s);if(T(s),s)for(const l of s){const m=_(a,l);m?C(e.errors,l,m):L(e.errors,l)}else e.errors=a;return a},Z=async(s,a,l={valid:!0})=>{for(const m in s){const g=s[m];if(g){const{_f:c,...b}=g;if(c){const E=d.array.has(c.name),O=g._f&&Gt(g._f);O&&h.validatingFields&&T([c.name],!0);const ee=await je(g,d.disabled,n,P,i.shouldUseNativeValidation&&!a,E);if(O&&h.validatingFields&&T([c.name]),ee[c.name]&&(l.valid=!1,a))break;!a&&(_(ee,c.name)?E?wt(e.errors,ee,c.name):C(e.errors,c.name,ee[c.name]):L(e.errors,c.name))}!j(b)&&await Z(b,a,l)}}return l.valid},he=()=>{for(const s of d.unMount){const a=_(r,s);a&&(a._f.refs?a._f.refs.every(l=>!Oe(l)):!Oe(a._f.ref))&&we(s)}d.unMount=new Set},k=(s,a)=>!i.disabled&&(s&&a&&C(n,s,a),!se(Ye(),u)),D=(s,a,l)=>Pe(s,d,{...o.mount?n:R(a)?u:X(s)?{[s]:a}:a},l,a),N=s=>xe(_(o.mount?n:u,s,i.shouldUnregister?_(u,s,[]):[])),H=(s,a,l={})=>{const m=_(r,s);let g=a;if(m){const c=m._f;c&&(!c.disabled&&C(n,s,pt(a,c)),g=Ve(c.ref)&&z(a)?"":a,Ft(c.ref)?[...c.ref.options].forEach(b=>b.selected=g.includes(b.value)):c.refs?me(c.ref)?c.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(g)?b.checked=!!g.find(E=>E===b.value):b.checked=g===b.value||!!g)}):c.refs.forEach(b=>b.checked=b.value===g):ze(c.ref)?c.ref.value="":(c.ref.value=g,c.ref.type||F.state.next({name:s,values:M(n)})))}(l.shouldDirty||l.shouldTouch)&&V(s,g,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&_e(s)},re=(s,a,l)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const g=a[m],c=s+"."+m,b=_(r,c);(d.array.has(s)||I(g)||b&&!b._f)&&!ue(g)?re(c,g,l):H(c,g,l)}},J=(s,a,l={})=>{const m=_(r,s),g=d.array.has(s),c=M(a);C(n,s,c),g?(F.array.next({name:s,values:M(n)}),(h.isDirty||h.dirtyFields||w.isDirty||w.dirtyFields)&&l.shouldDirty&&F.state.next({name:s,dirtyFields:oe(u,n),isDirty:k(s,c)})):m&&!m._f&&!z(c)?re(s,c,l):H(s,c,l),He(s,d)&&F.state.next({...e,name:s}),F.state.next({name:o.mount?s:void 0,values:M(n)})},fe=async s=>{o.mount=!0;const a=s.target;let l=a.name,m=!0;const g=_(r,l),c=O=>{m=Number.isNaN(O)||ue(O)&&isNaN(O.getTime())||se(O,_(n,l,O))},b=ce(i.mode),E=ce(i.reValidateMode);if(g){let O,ee;const ve=a.type?ct(g._f):mt(s),ae=s.type===be.BLUR||s.type===be.FOCUS_OUT,Ut=!Yt(g._f)&&!i.resolver&&!_(e.errors,l)&&!g._f.deps||Xt(ae,_(e.touchedFields,l),e.isSubmitted,E,b),Ee=He(l,d,ae);C(n,l,ve),ae?(!a||!a.readOnly)&&(g._f.onBlur&&g._f.onBlur(s),p&&p(0)):g._f.onChange&&g._f.onChange(s);const Ce=V(l,ve,ae),Tt=!j(Ce)||Ee;if(!ae&&F.state.next({name:l,type:s.type,values:M(n)}),Ut)return(h.isValid||w.isValid)&&(i.mode==="onBlur"?ae&&B():ae||B()),Tt&&F.state.next({name:l,...Ee?{}:Ce});if(!ae&&Ee&&F.state.next({...e}),i.resolver){const{errors:it}=await $([l]);if(T([l]),c(ve),m){const Lt=ft(e.errors,r,l),at=ft(it,r,Lt.name||l);O=at.error,l=at.name,ee=j(it)}}else T([l],!0),O=(await je(g,d.disabled,n,P,i.shouldUseNativeValidation))[l],T([l]),c(ve),m&&(O?ee=!1:(h.isValid||w.isValid)&&(ee=await Z(r,!0)));m&&(g._f.deps&&(!Array.isArray(g._f.deps)||g._f.deps.length>0)&&_e(g._f.deps),S(l,ee,O,Ce))}},ye=(s,a)=>{if(_(e.errors,a)&&s.focus)return s.focus(),1},_e=async(s,a={})=>{let l,m;const g=G(s);if(i.resolver){const c=await Y(R(s)?s:g);l=j(c),m=s?!g.some(b=>_(c,b)):l}else s?(m=(await Promise.all(g.map(async c=>{const b=_(r,c);return await Z(b&&b._f?{[c]:b}:b)}))).every(Boolean),!(!m&&!e.isValid)&&B()):m=l=await Z(r);return F.state.next({...!X(s)||(h.isValid||w.isValid)&&l!==e.isValid?{}:{name:s},...i.resolver||!s?{isValid:l}:{},errors:e.errors}),a.shouldFocus&&!m&&de(r,ye,s?g:d.mount),m},Ye=(s,a)=>{let l={...o.mount?n:u};return a&&(l=Vt(a.dirtyFields?e.dirtyFields:e.touchedFields,l)),R(s)?l:X(s)?_(l,s):s.map(m=>_(l,m))},Je=(s,a)=>({invalid:!!_((a||e).errors,s),isDirty:!!_((a||e).dirtyFields,s),error:_((a||e).errors,s),isValidating:!!_(e.validatingFields,s),isTouched:!!_((a||e).touchedFields,s)}),St=s=>{s&&G(s).forEach(a=>L(e.errors,a)),F.state.next({errors:s?e.errors:{}})},Qe=(s,a,l)=>{const m=(_(r,s,{_f:{}})._f||{}).ref,g=_(e.errors,s)||{},{ref:c,message:b,type:E,...O}=g;C(e.errors,s,{...O,...a,ref:m}),F.state.next({name:s,errors:e.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},Dt=(s,a)=>K(s)?F.state.subscribe({next:l=>"values"in l&&s(D(void 0,a),l)}):D(s,a,!0),Xe=s=>F.state.subscribe({next:a=>{Qt(s.name,a.name,s.exact)&&Jt(a,s.formState||h,Mt,s.reRenderRoot)&&s.callback({values:{...n},...e,...a,defaultValues:u})}}).unsubscribe,Et=s=>(o.mount=!0,w={...w,...s.formState},Xe({...s,formState:{...q,...s.formState}})),we=(s,a={})=>{for(const l of s?G(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(L(r,l),L(n,l)),!a.keepError&&L(e.errors,l),!a.keepDirty&&L(e.dirtyFields,l),!a.keepTouched&&L(e.touchedFields,l),!a.keepIsValidating&&L(e.validatingFields,l),!i.shouldUnregister&&!a.keepDefaultValue&&L(u,l);F.state.next({values:M(n)}),F.state.next({...e,...a.keepDirty?{isDirty:k()}:{}}),!a.keepIsValid&&B()},Ze=({disabled:s,name:a})=>{(Q(s)&&o.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},Se=(s,a={})=>{let l=_(r,s);const m=Q(a.disabled)||Q(i.disabled);return C(r,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?Ze({disabled:Q(a.disabled)?a.disabled:i.disabled,name:s}):y(s,!0,a.value),{...m?{disabled:a.disabled||i.disabled}:{},...i.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:s,onChange:fe,onBlur:fe,ref:g=>{if(g){Se(s,a),l=_(r,s);const c=R(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,b=Ht(c),E=l._f.refs||[];if(b?E.find(O=>O===c):c===l._f.ref)return;C(r,s,{_f:{...l._f,...b?{refs:[...E.filter(Oe),c,...Array.isArray(_(u,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),y(s,!1,void 0,c)}else l=_(r,s,{}),l._f&&(l._f.mount=!1),(i.shouldUnregister||a.shouldUnregister)&&!(ht(d.array,s)&&o.action)&&d.unMount.add(s)}}},De=()=>i.shouldFocusError&&de(r,ye,d.mount),Ct=s=>{Q(s)&&(F.state.next({disabled:s}),de(r,(a,l)=>{const m=_(r,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(g=>{g.disabled=m._f.disabled||s}))},0,!1))},et=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let g=M(n);if(F.state.next({isSubmitting:!0}),i.resolver){const{errors:c,values:b}=await $();T(),e.errors=c,g=M(b)}else await Z(r);if(d.disabled.size)for(const c of d.disabled)L(g,c);if(L(e.errors,"root"),j(e.errors)){F.state.next({errors:{}});try{await s(g,l)}catch(c){m=c}}else a&&await a({...e.errors},l),De(),setTimeout(De);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(e.errors)&&!m,submitCount:e.submitCount+1,errors:e.errors}),m)throw m},Ot=(s,a={})=>{_(r,s)&&(R(a.defaultValue)?J(s,M(_(u,s))):(J(s,a.defaultValue),C(u,s,M(a.defaultValue))),a.keepTouched||L(e.touchedFields,s),a.keepDirty||(L(e.dirtyFields,s),e.isDirty=a.defaultValue?k(s,M(_(u,s))):k()),a.keepError||(L(e.errors,s),h.isValid&&B()),F.state.next({...e}))},tt=(s,a={})=>{const l=s?M(s):u,m=M(l),g=j(s),c=g?u:m;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const b=new Set([...d.mount,...Object.keys(oe(u,n))]);for(const E of Array.from(b))_(e.dirtyFields,E)?C(c,E,_(n,E)):J(E,_(c,E))}else{if($e&&R(s))for(const b of d.mount){const E=_(r,b);if(E&&E._f){const O=Array.isArray(E._f.refs)?E._f.refs[0]:E._f.ref;if(Ve(O)){const ee=O.closest("form");if(ee){ee.reset();break}}}}if(a.keepFieldsRef)for(const b of d.mount)J(b,_(c,b));else r={}}n=i.shouldUnregister?a.keepDefaultValues?M(u):{}:M(c),F.array.next({values:{...c}}),F.state.next({values:{...c}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!i.shouldUnregister&&!j(c),o.watch=!!i.shouldUnregister,o.keepIsValid=!!a.keepIsValid,o.action=!1,a.keepErrors||(e.errors={}),F.state.next({submitCount:a.keepSubmitCount?e.submitCount:0,isDirty:g?!1:a.keepDirty?e.isDirty:!!(a.keepDefaultValues&&!se(s,u)),isSubmitted:a.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:g?{}:a.keepDirtyValues?a.keepDefaultValues&&n?oe(u,n):e.dirtyFields:a.keepDefaultValues&&s?oe(u,s):a.keepDirty?e.dirtyFields:{},touchedFields:a.keepTouched?e.touchedFields:{},errors:a.keepErrors?e.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},rt=(s,a)=>tt(K(s)?s(n):s,{...i.resetOptions,...a}),Rt=(s,a={})=>{const l=_(r,s),m=l&&l._f;if(m){const g=m.refs?m.refs[0]:m.ref;g.focus&&setTimeout(()=>{g.focus(),a.shouldSelect&&K(g.select)&&g.select()})}},Mt=s=>{e={...e,...s}},st={control:{register:Se,unregister:we,getFieldState:Je,handleSubmit:et,setError:Qe,_subscribe:Xe,_runSchema:$,_updateIsValidating:T,_focusError:De,_getWatch:D,_getDirty:k,_setValid:B,_setFieldArray:A,_setDisabledField:Ze,_setErrors:f,_getFieldArray:N,_reset:tt,_resetDefaultValues:()=>K(i.defaultValues)&&i.defaultValues().then(s=>{rt(s,i.resetOptions),F.state.next({isLoading:!1})}),_removeUnmounted:he,_disableForm:Ct,_subjects:F,_proxyFormState:h,get _fields(){return r},get _formValues(){return n},get _state(){return o},set _state(s){o=s},get _defaultValues(){return u},get _names(){return d},set _names(s){d=s},get _formState(){return e},get _options(){return i},set _options(s){i={...i,...s}}},subscribe:Et,trigger:_e,register:Se,handleSubmit:et,watch:Dt,setValue:J,getValues:Ye,reset:rt,resetField:Ot,clearErrors:St,unregister:we,setError:Qe,setFocus:Rt,getFieldState:Je};return{...st,formControl:st}}var ne=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const e=(Math.random()*16+t)%16|0;return(i=="x"?e:e&3|8).toString(16)})},Re=(t,i,e={})=>e.shouldFocus||R(e.shouldFocus)?e.focusName||`${t}.${R(e.focusIndex)?i:e.focusIndex}.`:"",Me=(t,i)=>[...t,...G(i)],Ue=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Te(t,i,e){return[...t.slice(0,i),...G(e),...t.slice(i)]}var Le=(t,i,e)=>Array.isArray(t)?(R(t[e])&&(t[e]=void 0),t.splice(e,0,t.splice(i,1)[0]),t):[],Ie=(t,i)=>[...G(i),...G(t)];function rr(t,i){let e=0;const r=[...t];for(const u of i)r.splice(u-e,1),e++;return xe(r).length?r:[]}var Ne=(t,i)=>R(i)?[]:rr(t,G(i).sort((e,r)=>e-r)),Be=(t,i,e)=>{[t[i],t[e]]=[t[e],t[i]]},_t=(t,i,e)=>(t[i]=e,t);function nr(t){const i=pe(),{control:e=i.control,name:r,keyName:u="id",shouldUnregister:n,rules:o}=t,[d,p]=v.useState(e._getFieldArray(r)),x=v.useRef(e._getFieldArray(r).map(ne)),q=v.useRef(!1);e._names.array.add(r),v.useMemo(()=>o&&d.length>=0&&e.register(r,o),[e,r,d.length,o]),ke(()=>e._subjects.array.subscribe({next:({values:f,name:y})=>{if(y===r||!y){const V=_(f,r);Array.isArray(V)&&(p(V),x.current=V.map(ne))}}}).unsubscribe,[e,r]);const h=v.useCallback(f=>{q.current=!0,e._setFieldArray(r,f)},[e,r]),w=(f,y)=>{const V=G(M(f)),S=Me(e._getFieldArray(r),V);e._names.focus=Re(r,S.length-1,y),x.current=Me(x.current,V.map(ne)),h(S),p(S),e._setFieldArray(r,S,Me,{argA:Ue(f)})},F=(f,y)=>{const V=G(M(f)),S=Ie(e._getFieldArray(r),V);e._names.focus=Re(r,0,y),x.current=Ie(x.current,V.map(ne)),h(S),p(S),e._setFieldArray(r,S,Ie,{argA:Ue(f)})},P=f=>{const y=Ne(e._getFieldArray(r),f);x.current=Ne(x.current,f),h(y),p(y),!Array.isArray(_(e._fields,r))&&C(e._fields,r,void 0),e._setFieldArray(r,y,Ne,{argA:f})},U=(f,y,V)=>{const S=G(M(y)),$=Te(e._getFieldArray(r),f,S);e._names.focus=Re(r,f,V),x.current=Te(x.current,f,S.map(ne)),h($),p($),e._setFieldArray(r,$,Te,{argA:f,argB:Ue(y)})},B=(f,y)=>{const V=e._getFieldArray(r);Be(V,f,y),Be(x.current,f,y),h(V),p(V),e._setFieldArray(r,V,Be,{argA:f,argB:y},!1)},T=(f,y)=>{const V=e._getFieldArray(r);Le(V,f,y),Le(x.current,f,y),h(V),p(V),e._setFieldArray(r,V,Le,{argA:f,argB:y},!1)},A=(f,y)=>{const V=M(y),S=_t(e._getFieldArray(r),f,V);x.current=[...S].map(($,Y)=>!$||Y===f?ne():x.current[Y]),h(S),p([...S]),e._setFieldArray(r,S,_t,{argA:f,argB:V},!0,!1)},W=f=>{const y=G(M(f));x.current=y.map(ne),h([...y]),p([...y]),e._setFieldArray(r,[...y],V=>V,{},!0,!1)};return v.useEffect(()=>{if(e._state.action=!1,He(r,e._names)&&e._subjects.state.next({...e._formState}),q.current&&(!ce(e._options.mode).isOnSubmit||e._formState.isSubmitted)&&!ce(e._options.reValidateMode).isOnSubmit)if(e._options.resolver)e._runSchema([r]).then(f=>{e._updateIsValidating([r]);const y=_(f.errors,r),V=_(e._formState.errors,r);(V?!y&&V.type||y&&(V.type!==y.type||V.message!==y.message):y&&y.type)&&(y?C(e._formState.errors,r,y):L(e._formState.errors,r),e._subjects.state.next({errors:e._formState.errors}))});else{const f=_(e._fields,r);f&&f._f&&!(ce(e._options.reValidateMode).isOnSubmit&&ce(e._options.mode).isOnSubmit)&&je(f,e._names.disabled,e._formValues,e._options.criteriaMode===te.all,e._options.shouldUseNativeValidation,!0).then(y=>!j(y)&&e._subjects.state.next({errors:wt(e._formState.errors,y,r)}))}e._subjects.state.next({name:r,values:M(e._formValues)}),e._names.focus&&de(e._fields,(f,y)=>{if(e._names.focus&&y.startsWith(e._names.focus)&&f.focus)return f.focus(),1}),e._names.focus="",e._setValid(),q.current=!1},[d,r,e]),v.useEffect(()=>(!_(e._formValues,r)&&e._setFieldArray(r),()=>{const f=(y,V)=>{const S=_(e._fields,y);S&&S._f&&(S._f.mount=V)};e._options.shouldUnregister||n?e.unregister(r):f(r,!1)}),[r,e,u,n]),{swap:v.useCallback(B,[h,r,e]),move:v.useCallback(T,[h,r,e]),prepend:v.useCallback(F,[h,r,e]),append:v.useCallback(w,[h,r,e]),remove:v.useCallback(P,[h,r,e]),insert:v.useCallback(U,[h,r,e]),update:v.useCallback(A,[h,r,e]),replace:v.useCallback(W,[h,r,e]),fields:v.useMemo(()=>d.map((f,y)=>({...f,[u]:x.current[y]||ne()})),[d,u])}}function ur(t={}){const i=v.useRef(void 0),e=v.useRef(void 0),[r,u]=v.useState({isDirty:!1,isValidating:!1,isLoading:K(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:K(t.defaultValues)?void 0:t.defaultValues});if(!i.current)if(t.formControl)i.current={...t.formControl,formState:r},t.defaultValues&&!K(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...d}=tr(t);i.current={...d,formState:r}}const n=i.current.control;return n._options=t,ke(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(d=>({...d,isReady:!0})),n._formState.isReady=!0,o},[n]),v.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),v.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),v.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),v.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),v.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==r.isDirty&&n._subjects.state.next({isDirty:o})}},[n,r.isDirty]),v.useEffect(()=>{var o;t.values&&!se(t.values,e.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((o=n._options.resetOptions)===null||o===void 0)&&o.keepIsValid||n._setValid(),e.current=t.values,u(d=>({...d}))):n._resetDefaultValues()},[n,t.values]),v.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),i.current.formState=bt(r,n),i.current}export{ar as C,nr as a,ur as u};
