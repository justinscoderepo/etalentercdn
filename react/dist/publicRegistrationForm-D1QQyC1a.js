import{b as x,j as t,r as c,k as h,_ as f}from"./main-yugBdkhv.js";import{F as g,P as v,a as j,b as y}from"./publicLayout-CZII3qZZ.js";import{R as l}from"./renderRegistrationForm-CWOel0tr.js";import"./disclosure-_ig7JNNO.js";import"./use-resolve-button-type-BLnZ8SFh.js";import"./keyboard-C77ZT6te.js";import"./dialog-CQUN6Rwz.js";import"./description-Bk8H_lDa.js";import"./use-is-mounted-DnS0pA8w.js";import"./navigationUtils-Bf0lah9r.js";import"./bugs-DxaWAp9m.js";import"./useConfirmation-Cg4KZ18u.js";import"./CheckIcon-DvPpj-Ij.js";import"./TrashIcon-Dv9MlWzU.js";import"./eventDetailedView-D-lJW2YP.js";import"./UserPlusIcon-bt62dvaF.js";import"./UserGroupIcon-BQh4XWFG.js";import"./publicRegistrationHelper-Dc4M_2PU.js";import"./PencilIcon-DW_SLi3g.js";import"./box-P2e03Oo9.js";import"./ChevronRightIcon-qQlRy9TF.js";import"./TrashIcon-4Gd83bgT.js";const b=h.lazy(()=>f(()=>import("./contactInfo-OLZfoBI8.js"),[]));function J(){const{user:r,token:p}=x()||{};if(console.log("PublicRegistrationForm - Current user role:",r?.Role),console.log("PublicRegistrationForm - Current token:",p),!r||!r?.Email)return t.jsx("div",{children:"Please log in to access this form."});let o=r?.RoleTitle==="Guardian",n=r?.Email?.indexOf("justnshalom")!=-1;const[i,a]=c.useState(o&&!n?"My Participation":"Home"),[R,P]=c.useState(0),s=[{name:"Home",href:"#",icon:g,hideOnMobile:!0}];s.push({name:"My Participation",label:o?"Manage Participants":"My Participation",href:"#",icon:j}),s.push({name:"Support",href:"#",icon:y,hideOnMobile:!0});function m(...e){return e.filter(Boolean).join(" ")}const u=()=>{switch(i){case"Home":return t.jsx(l,{view:"eventDetails",setActiveTab:e=>{a(e)}},i);case"Registration":return t.jsx(l,{view:"registration",setActiveTab:e=>{a(e)},closeModel:()=>{a("Home")}},i);case"My Participation":return t.jsx(l,{view:"participationDetails",setActiveTab:e=>{a(e)}},i);default:return t.jsx(b,{})}};let d=t.jsx("nav",{"aria-label":"Tabs",className:"flex space-x-8",children:s.map((e,T)=>t.jsxs("button",{onClick:()=>a(e.name),className:m("relative inline-flex items-center px-3 py-2 text-sm font-medium justify-center","transition-colors duration-300 ease-in-out",i===e.name?"text-gray-900 bg-indigo-50/75":"text-gray-500 hover:bg-gray-50 hover:text-gray-900",o&&!n&&(e.name=="Home1"||e.name=="Support1")?"":"flex-grow"),children:[t.jsx(e.icon,{className:m(i===e.name?"text-primary":"text-gray-400 group-hover:text-gray-500","h-6"),"aria-hidden":"true"}),o&&!n&&(e.name=="Home1"||e.name=="Support1")?t.jsx(t.Fragment,{}):t.jsx("span",{className:m("ml-2",e.hideOnMobile?"hidden sm:block":""),children:e.label??e.name})]},e.name))});return t.jsx(v,{navtabs:d,children:t.jsx("div",{className:" min-h-screen",children:t.jsx("div",{className:"flex flex-col bg-white rounded-lg",children:t.jsx("div",{className:"",children:u()})})})})}export{J as default};
