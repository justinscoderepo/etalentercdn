import{u as Y,r as j,j as i,R as Z,b as $,_ as F}from"./mainweb-CsARxZtr.js";import{u as G}from"./index.esm-DbVv1mx-.js";import{F as d}from"./CheckCircleIcon-47WOlNOB.js";const ee=Z.lazy(()=>$(()=>import("./renderComponents-CYskBYpH.js"),[])),oe=({isGuardianRegistration:N,isCoordinatorView:R,participantType:S,isSubmitted:x,disableSaveLater:q,drop:C,data:s,isOver:_,selectedComponent:E,setSelectedComponent:D,components:l,setComponents:ie,handlePropertiesPanelChange:T,removeComponent:V,isPlayGround:u,eventDetails:k,handleNext:A,isLastStep:H,isPrint:O})=>{var w;let{user:o}=Y();o==null||o.RoleTitle;let z=((w=o==null?void 0:o.Email)==null?void 0:w.indexOf("justnshalom"))!=-1;console.log({componentsFS:l});const{handleSubmit:L,register:M,unregister:U,control:B,clearErrors:I,reset:p,watch:K,getValues:c,setValue:b,trigger:se,formState:{errors:J}}=G({defaultValues:{...s}});c();let[n,v]=j.useState({...s});j.useEffect(()=>{s&&(Object.keys(s).forEach(e=>{U(e),b(e,s[e])}),v({...s}))},[s]);const P=e=>{D(e)};let Q=l.find(e=>e.name=="name"),W=l.find(e=>e.name=="teamName");const g=async(e,t)=>{if(window.scrollTo({top:0,behavior:"smooth"}),t===!0){if(Q&&!["name","dobString"].every(r=>e[r])){F.error("Name and Date of Birth are required fields to save for later");return}if(W&&!["teamName"].every(r=>e[r])){F.error("Team Name is a required field to save for later");return}}await A(e,p,t===!0)},y=(e,t)=>{b(e,t),s&&(s[e]=t),v({...s})};let h=[...l];return n&&(l==null?void 0:l.length)>0&&!u&&(h=h.filter(e=>{var m;let t=(m=e.conditions)==null?void 0:m.filter(f=>f.key);return(t==null?void 0:t.length)>0?!!t.every(r=>{if(r.key){let X=r.key.charAt(0).toLowerCase()+r.key.slice(1),a=n[r.key]||n[X];if((a||a===!1)&&(a==null?void 0:a.toString())==r.value)return r.value==!1,!0}return!1}):!0})),i.jsx("div",{className:("flex-auto p-2 "+u,""),children:i.jsxs("form",{onSubmit:L(g),children:[i.jsx(ee,{isPrint:O,isCoordinatorView:R,participantType:S,handlePropertiesChange:y,handlePropertiesPanelChange:T,formData:n,isPlayGround:u,onChangeValue:y,drop:C,isSubmitted:x,isOver:_,eventDetails:k,components:h,selectedComponent:E,handleSelect:P,register:M,getValues:c,errors:J,control:B,setValue:b,clearErrors:I,reset:p,watch:K,removeComponent:V}),!u&&!x&&i.jsx("div",{className:"mb-2 w-full flex justify-end px-0",children:N?i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(d,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Register"]}):i.jsxs(i.Fragment,{children:[!z&&!q&&i.jsxs("button",{type:"button",onClick:()=>{g(c(),!0)},className:"inline-flex items-center gap-x-2  rounded-md bg-lime-800 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-950 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-950 mr-3",children:[i.jsx(d,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Save for Later"]}),H?i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(d,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Submit"]}):i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(d,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Next"]})]})})]})})};export{oe as default};
