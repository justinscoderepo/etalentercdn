import{r as d,j as e,_}from"./mainweb-iPQZqjH7.js";import{u as f}from"./useBackend-xZqkxyxB.js";function G({title:i,titleId:r,...n},t){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),i?d.createElement("title",{id:r},i):null,d.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const O=d.forwardRef(G);function U({hideGoBack:i,setOpen:r,title:n,description:t,children:c}){return e.jsx("div",{className:"bg-gray-100",children:e.jsx("div",{className:"p-5 py-8",children:e.jsxs("div",{className:"w-full overflow-hidden rounded-md ring-1 ring-slate-900/10",children:[e.jsx("div",{className:"bg-[#193e65] px-4 py-4 sm:px-8 relative",children:e.jsxs("div",{className:"flex items-start justify-between space-x-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-base font-bold leading-6 text-white",children:n}),t&&e.jsx("p",{className:"text-sm text-white",children:t||"Continue the process"})]}),!i&&e.jsxs("button",{type:"button",onClick:()=>r(!1),className:"absolute rounded-full top-2 p-2 right-4 bg-[#193e65] text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(O,{"aria-hidden":"true",className:"h-6 w-6"})]})]})}),e.jsx("div",{className:"flex h-full w-[100%] flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:e.jsx("div",{className:"relative flex-1 px-2",children:c})})]})})})}const J=d.lazy(()=>_(()=>import("./teamMembers-CfYxdYto.js"),[]));function A({groupId:i,disabled:r,hideGoBack:n,teamId:t,levels:c,onClose:m,onUpdate:u}){var x;let[F,v]=d.useState(!1);const{row:b,rows:R,status:I}=f("/EventJson/Get",{select:"EVId,EventName,Description,JsonSettings"}),{rows:j,setFilter:C}=f("/AgewiseGroupsJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status"}),{row:s,setFilter:T,update:y,delete:B,status:N}=f("/CoordinatorJson/GetParticipants?ParticipantType=2&TeamId="+t,{updateUrl:"/CoordinatorJson/SaveParticipantsDirect",deleteUrl:"/CoordinatorJson/RemoveUserBody",sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:2,TeamId:t,disableGetCompetitions:!1,group:i},select:"participantList,userList,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,MaximumCandidates"});let p=(s==null?void 0:s.ParticipantsList)??[],w=(s==null?void 0:s.Competitions)??[],g=(s==null?void 0:s.UsersList)??[];g.forEach(a=>{let E=p.filter(l=>l.Candidate==a.Candidate||l.Candidate==a.Team),h=[];E.forEach(l=>{let P=w.find(M=>M.CompetitionStructureId==l.Competition);h.push(P)}),a.participatingCompetitions=h;let L=a.JsonSettings;try{let l=JSON.parse(L);l&&(a.ApplicationStatus=l.finalSubmitted)}catch{}});let o={};o.user={},o.user=g.find(a=>a.Team==t),o.participants=p.filter(a=>a.Candidate==t);const S=((x=o==null?void 0:o.user)==null?void 0:x.TeamMembers)??[];return d.useEffect(()=>{u&&u(S)},[o.participants]),e.jsx("div",{children:e.jsx(U,{hideGoBack:n,setOpen:()=>{m()},noClose:!1,open:!0,title:"Manage Team Participants",children:e.jsx(J,{hideGoBack:n,disabled:r,levels:c,isLoading2:N!=="finished",ageWiseGroup:j,setAgeFilter:C,setFilter:T,onClose:m,setIsLoading:v,saveParticipantDetails:y,eventDetails:b,participantList:p,teamId:t,selectedParticipantDetails:o})})})}const D=({groupId:i,disabled:r,hideGoBack:n,teamId:t,levels:c,onClose:m,onUpdate:u})=>t?e.jsx(A,{groupId:i,disabled:r,hideGoBack:n,teamId:t,levels:c,onClose:m,onUpdate:u}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a team to proceed"}),z=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{O as F,D as R,z as m};
