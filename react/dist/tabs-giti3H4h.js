import{$ as Z,a as fe,w as pe,e as be}from"./use-resolve-button-type-DjCb_hqe.js";import{r as o,k}from"./main-CYp90Aiy.js";import{f as ee,s as xe,Y as B,y as N,n as j,o as E,a as V,V as te,K as W,e as q,A as Q,u as U,t as ge,b as P,j as ve}from"./keyboard-_fXsLqhQ.js";import{f as me,v as C,T,A as _,G}from"./use-is-mounted-D1Iwo7_h.js";function Pe({onFocus:e}){let[t,n]=o.useState(!0),r=me();return t?k.createElement(ee,{as:"button",type:"button",features:xe.Focusable,onFocus:l=>{l.preventDefault();let a,s=50;function i(){if(s--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!r.current)return;n(!1);return}a=requestAnimationFrame(i)}a=requestAnimationFrame(i)}}):null}const re=o.createContext(null);function Te(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let l=(n=r.get(t))!=null?n:0;r.set(t,l+1);let a=Array.from(r.keys()).indexOf(t);function s(){let i=r.get(t);i>1?r.set(t,i-1):r.delete(t)}return[a,s]}}}function he({children:e}){let t=o.useRef(Te());return o.createElement(re.Provider,{value:t},e)}function ne(e){let t=o.useContext(re);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=o.useId(),[r,l]=t.current.get(e,n);return o.useEffect(()=>l,[]),r}var Ie=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ie||{}),$e=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($e||{}),ye=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(ye||{});let we={0(e,t){var n;let r=G(e.tabs,c=>c.current),l=G(e.panels,c=>c.current),a=r.filter(c=>{var g;return!((g=c.current)!=null&&g.hasAttribute("disabled"))}),s={...e,tabs:r,panels:l};if(t.index<0||t.index>r.length-1){let c=U(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>U(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return s;let g=U(c,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...s,selectedIndex:g===-1?e.selectedIndex:g}}let i=r.slice(0,t.index),h=[...r.slice(t.index),...i].find(c=>a.includes(c));if(!h)return s;let x=(n=r.indexOf(h))!=null?n:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...s,selectedIndex:x}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=G([...e.tabs,t.tab],a=>a.current),l=e.selectedIndex;return e.info.current.isControlled||(l=r.indexOf(n),l===-1&&(l=e.selectedIndex)),{...e,tabs:r,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:G([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},K=o.createContext(null);K.displayName="TabsDataContext";function F(e){let t=o.useContext(K);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,F),n}return t}let Y=o.createContext(null);Y.displayName="TabsActionsContext";function J(e){let t=o.useContext(Y);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,J),n}return t}function Ee(e,t){return U(t.type,we,e,t)}let Ae="div";function Se(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:l=!1,onChange:a,selectedIndex:s=null,...i}=e;const h=r?"vertical":"horizontal",x=l?"manual":"auto";let c=s!==null,g=q({isControlled:c}),A=N(t),[p,d]=o.useReducer(Ee,{info:g,selectedIndex:s??n,tabs:[],panels:[]}),D=V({selectedIndex:p.selectedIndex}),R=q(a||(()=>{})),$=q(p.tabs),b=o.useMemo(()=>({orientation:h,activation:x,...p}),[h,x,p]),L=E(f=>(d({type:1,tab:f}),()=>d({type:2,tab:f}))),M=E(f=>(d({type:3,panel:f}),()=>d({type:4,panel:f}))),v=E(f=>{m.current!==f&&R.current(f),c||d({type:0,index:f})}),m=q(c?e.selectedIndex:p.selectedIndex),w=o.useMemo(()=>({registerTab:L,registerPanel:M,change:v}),[]);j(()=>{d({type:0,index:s??n})},[s]),j(()=>{if(m.current===void 0||p.tabs.length<=0)return;let f=G(p.tabs,y=>y.current);f.some((y,S)=>p.tabs[S]!==y)&&v(f.indexOf(p.tabs[m.current]))});let z={ref:A},O=W();return k.createElement(he,null,k.createElement(Y.Provider,{value:w},k.createElement(K.Provider,{value:b},b.tabs.length<=0&&k.createElement(Pe,{onFocus:()=>{var f,y;for(let S of $.current)if(((f=S.current)==null?void 0:f.tabIndex)===0)return(y=S.current)==null||y.focus(),!0;return!1}}),O({ourProps:z,theirProps:i,slot:D,defaultTag:Ae,name:"Tabs"}))))}let Ce="div";function ke(e,t){let{orientation:n,selectedIndex:r}=F("Tab.List"),l=N(t),a=V({selectedIndex:r}),s=e,i={ref:l,role:"tablist","aria-orientation":n};return W()({ourProps:i,theirProps:s,slot:a,defaultTag:Ce,name:"Tabs.List"})}let Fe="button";function De(e,t){var n,r;let l=o.useId(),{id:a=`headlessui-tabs-tab-${l}`,disabled:s=!1,autoFocus:i=!1,...h}=e,{orientation:x,activation:c,selectedIndex:g,tabs:A,panels:p}=F("Tab"),d=J("Tab"),D=F("Tab"),[R,$]=o.useState(null),b=o.useRef(null),L=N(b,t,$);j(()=>d.registerTab(b),[d,b]);let M=ne("tabs"),v=A.indexOf(b);v===-1&&(v=M);let m=v===g,w=E(u=>{let I=u();if(I===_.Success&&c==="auto"){let H=ve(b.current),X=D.tabs.findIndex(de=>de.current===H);X!==-1&&d.change(X)}return I}),z=E(u=>{let I=A.map(H=>H.current).filter(Boolean);if(u.key===P.Space||u.key===P.Enter){u.preventDefault(),u.stopPropagation(),d.change(v);return}switch(u.key){case P.Home:case P.PageUp:return u.preventDefault(),u.stopPropagation(),w(()=>C(I,T.First));case P.End:case P.PageDown:return u.preventDefault(),u.stopPropagation(),w(()=>C(I,T.Last))}if(w(()=>U(x,{vertical(){return u.key===P.ArrowUp?C(I,T.Previous|T.WrapAround):u.key===P.ArrowDown?C(I,T.Next|T.WrapAround):_.Error},horizontal(){return u.key===P.ArrowLeft?C(I,T.Previous|T.WrapAround):u.key===P.ArrowRight?C(I,T.Next|T.WrapAround):_.Error}}))===_.Success)return u.preventDefault()}),O=o.useRef(!1),f=E(()=>{var u;O.current||(O.current=!0,(u=b.current)==null||u.focus({preventScroll:!0}),d.change(v),ge(()=>{O.current=!1}))}),y=E(u=>{u.preventDefault()}),{isFocusVisible:S,focusProps:ae}=Z({autoFocus:i}),{isHovered:se,hoverProps:le}=fe({isDisabled:s}),{pressed:ue,pressProps:oe}=pe({disabled:s}),ie=V({selected:m,hover:se,active:ue,focus:S,autofocus:i,disabled:s}),ce=te({ref:L,onKeyDown:z,onMouseDown:y,onClick:f,id:a,role:"tab",type:be(e,R),"aria-controls":(r=(n=p[v])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":m,tabIndex:m?0:-1,disabled:s||void 0,autoFocus:i},ae,le,oe);return W()({ourProps:ce,theirProps:h,slot:ie,defaultTag:Fe,name:"Tabs.Tab"})}let Re="div";function Le(e,t){let{selectedIndex:n}=F("Tab.Panels"),r=N(t),l=V({selectedIndex:n}),a=e,s={ref:r};return W()({ourProps:s,theirProps:a,slot:l,defaultTag:Re,name:"Tabs.Panels"})}let Me="div",Oe=Q.RenderStrategy|Q.Static;function Ge(e,t){var n,r,l,a;let s=o.useId(),{id:i=`headlessui-tabs-panel-${s}`,tabIndex:h=0,...x}=e,{selectedIndex:c,tabs:g,panels:A}=F("Tab.Panel"),p=J("Tab.Panel"),d=o.useRef(null),D=N(d,t);j(()=>p.registerPanel(d),[p,d]);let R=ne("panels"),$=A.indexOf(d);$===-1&&($=R);let b=$===c,{isFocusVisible:L,focusProps:M}=Z(),v=V({selected:b,focus:L}),m=te({ref:D,id:i,role:"tabpanel","aria-labelledby":(r=(n=g[$])==null?void 0:n.current)==null?void 0:r.id,tabIndex:b?h:-1},M),w=W();return!b&&((l=x.unmount)==null||l)&&!((a=x.static)!=null&&a)?k.createElement(ee,{"aria-hidden":"true",...m}):w({ourProps:m,theirProps:x,slot:v,defaultTag:Me,features:Oe,visible:b,name:"Tabs.Panel"})}let Ue=B(De),Be=B(Se),Ne=B(ke),Ve=B(Le),We=B(Ge),He=Object.assign(Ue,{Group:Be,List:Ne,Panels:Ve,Panel:We});export{He as d};
