import{R as n,r as R,j as c}from"./mainweb-FeQoYycK.js";import{c as L}from"./utilities-CN4lTu6a.js";import{V as C}from"./validationMessage-BrDW_d51.js";var f=function(){return f=Object.assign||function(t){for(var o,r=1,a=arguments.length;r<a;r++){o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},f.apply(this,arguments)};function F(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(o[r[a]]=e[r[a]]);return o}function D(e){if(e){var t=e.textContent,o=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;e.style.direction=t&&o.test(t[0])?"rtl":"ltr"}}function A(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")}function oe(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0).startContainer.parentNode||void 0}function z(e){return typeof e=="string"?e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(e)}function ae(e){var t=document.createTextNode("");e.appendChild(t);var o=document.activeElement===e;if(t!==null&&t.nodeValue!==null&&o){var r=window.getSelection();if(r!==null){var a=document.createRange();a.setStart(t,t.nodeValue.length),a.collapse(!0),r.removeAllRanges(),r.addRange(a)}e instanceof HTMLElement&&e.focus()}}function P(e,t){typeof t=="function"?t(e):typeof t=="object"&&t&&(t.current=e)}var le=n.memo(n.forwardRef(function(t,o){var r=t.className,a=t.disabled,l=t.tagName,i=t.value,s=i===void 0?"":i,u=t.placeholder,v=F(t,["className","disabled","tagName","value","placeholder"]),d=n.useRef(null),g=n.useRef(s),x=n.useRef(v);return n.useEffect(function(){x.current=v;var m=d.current;m&&z(g.current)!==z(s)&&(g.current=s,m.innerHTML=s,ae(m))}),n.useMemo(function(){function m(h){d.current=h,D(h),P(h,o)}function p(h){var k,S,y=d.current;if(y){var j=y.innerHTML;j!==g.current&&((S=(k=x.current).onChange)===null||S===void 0||S.call(k,f(f({},h),{target:{value:j,name:v.name}}))),D(y),g.current=j}}var b=A("rsw-ce",r);return n.createElement(l||"div",f(f({},v),{className:b,contentEditable:!a,dangerouslySetInnerHTML:{__html:s},onBlur:function(h){return(x.current.onBlur||p)(h)},onInput:p,onKeyDown:function(h){return(x.current.onKeyDown||p)(h)},onKeyUp:function(h){return(x.current.onKeyUp||p)(h)},placeholder:u,ref:m}))},[r,a,u,l])})),U=n.createContext(void 0);function $(e){var t=e.children,o=n.useState({htmlMode:!1,update:l}),r=o[0],a=o[1];function l(i){a(function(s){return f(f({},s),i)})}return n.createElement(U.Provider,{value:r},t)}function M(){var e=n.useContext(U);if(!e)throw new Error("You should wrap your component by EditorProvider");return e}var I=[],B=[];function ce(e,t){if(e&&typeof document<"u"){var o,r=t.prepend===!0?"prepend":"append",a=t.singleTag===!0,l=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var i=I.indexOf(l);i===-1&&(i=I.push(l)-1,B[i]={}),o=B[i]&&B[i][r]?B[i][r]:B[i][r]=s()}else o=s();e.charCodeAt(0)===65279&&(e=e.substring(1)),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(document.createTextNode(e))}function s(){var u=document.createElement("style");if(u.setAttribute("type","text/css"),t.attributes)for(var v=Object.keys(t.attributes),d=0;d<v.length;d++)u.setAttribute(v[d],t.attributes[v[d]]);var g=r==="prepend"?"afterbegin":"beforeend";return l.insertAdjacentElement(g,u),u}}var ie=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";ce(ie,{});var V=n.forwardRef(function(t,o){var r=t.autoFocus,a=t.children,l=t.containerProps,i=t.onSelect,s=F(t,["autoFocus","children","containerProps","onSelect"]),u=M();n.useEffect(function(){return document.addEventListener("click",v),function(){return document.removeEventListener("click",v)}});function v(m){var p;m.target!==u.$el&&(!((p=u.$el)===null||p===void 0)&&p.contains(m.target)||u.update({$selection:void 0}))}function d(m){i?.(m),u.update({$selection:oe()})}function g(m){u.update({$el:m}),P(m,o),r&&m&&u.$el===void 0&&m.focus()}var x=A("rsw-editor",l?.className);return u.htmlMode?n.createElement("div",f({},l,{className:x}),a,n.createElement("textarea",f({},s,{className:"rsw-ce rsw-html"}))):n.createElement("div",f({},l,{className:x}),a,n.createElement(le,f({},s,{ref:g,onSelect:d})))});function ue(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},n.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function se(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},n.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var q=E("Bold","𝐁","bold"),K=E("Bullet list",n.createElement(se,null),"insertUnorderedList"),Y=E("Clear formatting","T̲ₓ","removeFormat"),G=E("Italic","𝑰","italic"),J=E("Strike through",n.createElement("s",null,"ab"),"strikeThrough"),Q=E("Link","🔗",function(e){var t=e.$selection;t?.nodeName==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),W=E("Numbered list",n.createElement(ue,null),"insertOrderedList"),X=E("Redo","↷","redo"),Z=E("Underline",n.createElement("span",{style:{textDecoration:"underline"}},"𝐔"),"underline"),_=E("Undo","↶","undo");function E(e,t,o){return r.displayName=e.replace(/\s/g,""),r;function r(a){var l=M(),i=l.$el,s=function(){return!!i?.contains(document.activeElement)},u=!1;typeof o=="string"&&(u=s()&&document.queryCommandState(o));function v(d){d.preventDefault(),s()||i?.focus(),typeof o=="function"?o(l):document.execCommand(o)}return l.htmlMode?null:n.createElement("button",f({className:"rsw-btn","data-active":u,onMouseDown:v,tabIndex:-1,title:e,type:"button"},a),t)}}var ee=de("Styles",[["Normal","formatBlock","DIV"],["𝗛𝗲𝗮𝗱𝗲𝗿 𝟭","formatBlock","H1"],["Header 2","formatBlock","H2"],["𝙲𝚘𝚍𝚎","formatBlock","PRE"]]);function de(e,t){return o.displayName=e,o;function o(r){var a=M(),l=a.$el,i=a.$selection,s=a.htmlMode;if(s)return null;var u=t.findIndex(function(d){return d[1]==="formatBlock"&&i?.nodeName===d[2]});return n.createElement(me,f({},r,{items:t,onChange:v,selected:u,tabIndex:-1,title:e}));function v(d){var g=d.target,x=g.value,m=parseInt(x,10),p=t[m]||[],b=p[1],h=p[2];d.preventDefault(),document.activeElement!==l&&l?.focus(),typeof b=="function"?b(a):b&&document.execCommand(b,!1,h),setTimeout(function(){return g.value=x},10)}}}function me(e){var t=e.items,o=e.selected,r=F(e,["items","selected"]);return n.createElement("select",f({className:"rsw-dd"},r,{value:o}),n.createElement("option",{hidden:!0},r.title),t.map(function(a,l){return n.createElement("option",{key:a[2],value:l},a[0])}))}function te(e){var t=F(e,[]),o=M();function r(){o.update({htmlMode:!o.htmlMode})}return n.createElement("button",f({className:"rsw-btn","data-active":o.htmlMode,onClick:r,tabIndex:-1,title:"HTML mode",type:"button"},t),"</>")}function w(e){var t=M();return t.htmlMode?null:n.createElement("div",f({className:"rsw-separator"},e))}function ne(e){return n.createElement("div",f({className:"rsw-toolbar"},e))}n.forwardRef(function(t,o){return n.createElement($,null,n.createElement(V,f({},t,{ref:o}),t.children||n.createElement(ne,null,n.createElement(_,null),n.createElement(X,null),n.createElement(w,null),n.createElement(q,null),n.createElement(G,null),n.createElement(Z,null),n.createElement(J,null),n.createElement(w,null),n.createElement(W,null),n.createElement(K,null),n.createElement(w,null),n.createElement(Q,null),n.createElement(Y,null),n.createElement(te,null),n.createElement(w,null),n.createElement(ee,null))))});const he=({fieldName:e,label:t,placeholder:o,errors:r,register:a,formData:l,optional:i,maxLength:s,onChange:u,type:v,pattern:d,minLength:g,autocomplete:x,step:m,disabled:p,max:b,labelFont:h,noLabel:k})=>{let S=r?.[e],[y,j]=R.useState(S);R.useEffect(()=>{j(r?.[e])},[r?.[e]]);let re=e.includes("."),H=e.split(".")[0],T=r?.[H],O=T?e.split(".")[1]:null;return R.useEffect(()=>{if(re){let N=T?.[O];j(N||"")}},[r?.[H],[r?.[H]?.[O]]]),c.jsxs("div",{className:"sm:col-span-4",children:[c.jsx("label",{htmlFor:e,className:L(h||"block text-sm font-medium leading-6 ",y?"text-danger":"text-gray-900"),children:k?"":t||e}),c.jsx("div",{className:L("relative rounded-md shadow-sm",p?"":"mt-2"),children:p?c.jsx("div",{className:L(v==="email"||v==="phone"?"pl-7":"pl-0","block w-full py-1.5 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",p?"text-gray-500":""),children:l?.[e]??"-"}):c.jsx(c.Fragment,{children:c.jsx($,{children:c.jsx(V,{rows:10,step:m||null,...a(e,{required:!i,maxLength:s||200,pattern:d||null,minLength:g||0,max:b||null}),disabled:p,value:l?.[e],onChange:N=>{u&&u(N)},children:c.jsxs(ne,{children:[c.jsx(_,{}),c.jsx(X,{}),c.jsx(w,{}),c.jsx(q,{}),c.jsx(G,{}),c.jsx(Z,{}),c.jsx(J,{}),c.jsx(w,{}),c.jsx(W,{}),c.jsx(K,{}),c.jsx(w,{}),c.jsx(Q,{}),c.jsx(Y,{}),c.jsx(te,{}),c.jsx(w,{}),c.jsx(ee,{})]})})})})}),y&&c.jsx("div",{children:(()=>{switch(y.type){case"required":return c.jsx(C,{message:t+" is required"});case"maxLength":return c.jsx(C,{message:"Max length is "+s});case"max":return c.jsx(C,{message:"Value must be less or equal than "+b});case"minLength":return c.jsx(C,{message:"Min length is "+g});case"pattern":return c.jsx(C,{message:"Format of this field is not valid"})}})()})]})};export{he as default};
