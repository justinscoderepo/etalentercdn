import{r as a,R as ae,u as as,j as e,L as rt,b as At,e as is,p as xe,_ as De}from"./mainweb-DL-I34hs.js";import{u as st,i as ns}from"./useBackend-B2Vow0VR.js";import{u as ds}from"./useConfirmation-DLtaFhRo.js";import{p as et}from"./httpService-DdulXtU9.js";import{c as P}from"./utilities-CN4lTu6a.js";import{M as Ct}from"./index.modern-CQ3-vOfm.js";import{B as pe}from"./box-81gWbcrs.js";import{$ as os,a as cs,w as xs,e as ms,r as us,b as Oe,c as Et}from"./dateHelper-BSGl402j.js";import{r as le,F as Tt,c as kt,e as fs,g as tt,d as hs,f as gs,a as ps,u as js,s as bs}from"./publicRegistrationHelper-CZlS5AEv.js";import{F as Ft}from"./CalendarDateRangeIcon-D0fWTodT.js";import{K as lt,y as at,T as Ns,o as ge,L as it,u as nt,_ as St,O as Rt,b as Ne,c as ys}from"./keyboard-D25riDrh.js";import{C as ws,c as vs,i as Ue,u as Cs,x as Es,R as Fs,s as Ss}from"./dialog-ITRQLXJN.js";import{F as $e}from"./ChevronRightIcon-BapZr-zb.js";import{F as Lt}from"./PencilIcon-BqCYRYI8.js";import{F as Mt}from"./TrashIcon-D-SSQuID.js";function Rs({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),a.createElement("path",{fillRule:"evenodd",d:"M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z",clipRule:"evenodd"}))}const Bt=a.forwardRef(Rs);function Is({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{d:"M1 8.25a1.25 1.25 0 1 1 2.5 0v7.5a1.25 1.25 0 1 1-2.5 0v-7.5ZM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0 1 14 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 0 1-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 0 1-1.341-.317l-2.734-1.366A3 3 0 0 0 6.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 0 1 2.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388Z"}))}const Ot=a.forwardRef(Is);function Ps({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{fillRule:"evenodd",d:"M9.493 2.852a.75.75 0 0 0-1.486-.204L7.545 6H4.198a.75.75 0 0 0 0 1.5h3.14l-.69 5H3.302a.75.75 0 0 0 0 1.5h3.14l-.435 3.148a.75.75 0 0 0 1.486.204L7.955 14h2.986l-.434 3.148a.75.75 0 0 0 1.486.204L12.456 14h3.346a.75.75 0 0 0 0-1.5h-3.14l.69-5h3.346a.75.75 0 0 0 0-1.5h-3.14l.435-3.148a.75.75 0 0 0-1.486-.204L12.045 6H9.059l.434-3.148ZM8.852 7.5l-.69 5h2.986l.69-5H8.852Z",clipRule:"evenodd"}))}const It=a.forwardRef(Ps);function As({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{fillRule:"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"}))}const Ts=a.forwardRef(As);function ks({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{d:"M6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z"}))}const Ls=a.forwardRef(ks);function Ms({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{d:"M10.75 6.75a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z"}))}const Bs=a.forwardRef(Ms);function Os({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{d:"M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z"}))}const Ut=a.forwardRef(Os);function Us({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))}const ze=a.forwardRef(Us);function $s({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),a.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const zs=a.forwardRef($s);function Gs({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const Js=a.forwardRef(Gs);var Pt;let Zs=(Pt=ae.startTransition)!=null?Pt:function(t){t()};var _s=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(_s||{}),Hs=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(Hs||{});let Vs={0:t=>({...t,disclosureState:nt(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,l){return t.buttonId===l.buttonId?t:{...t,buttonId:l.buttonId}},3(t,l){return t.panelId===l.panelId?t:{...t,panelId:l.panelId}},4(t,l){return t.buttonElement===l.element?t:{...t,buttonElement:l.element}},5(t,l){return t.panelElement===l.element?t:{...t,panelElement:l.element}}},dt=a.createContext(null);dt.displayName="DisclosureContext";function ot(t){let l=a.useContext(dt);if(l===null){let d=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,ot),d}return l}let ct=a.createContext(null);ct.displayName="DisclosureAPIContext";function $t(t){let l=a.useContext(ct);if(l===null){let d=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,$t),d}return l}let xt=a.createContext(null);xt.displayName="DisclosurePanelContext";function qs(){return a.useContext(xt)}function Ys(t,l){return nt(l.type,Vs,t,l)}let Ks=a.Fragment;function Ws(t,l){let{defaultOpen:d=!1,...s}=t,g=a.useRef(null),b=at(l,Ns(N=>{g.current=N},t.as===void 0||t.as===a.Fragment)),u=a.useReducer(Ys,{disclosureState:d?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:x,buttonId:m},I]=u,p=ge(N=>{I({type:1});let f=ys(g);if(!f||!m)return;let O=N?N instanceof HTMLElement?N:N.current instanceof HTMLElement?N.current:f.getElementById(m):f.getElementById(m);O==null||O.focus()}),c=a.useMemo(()=>({close:p}),[p]),C=a.useMemo(()=>({open:x===0,close:p}),[x,p]),r={ref:b},i=it();return ae.createElement(dt.Provider,{value:u},ae.createElement(ct.Provider,{value:c},ae.createElement(ws,{value:p},ae.createElement(vs,{value:nt(x,{0:Ue.Open,1:Ue.Closed})},i({ourProps:r,theirProps:s,slot:C,defaultTag:Ks,name:"Disclosure"})))))}let Xs="button";function Qs(t,l){let d=a.useId(),{id:s=`headlessui-disclosure-button-${d}`,disabled:g=!1,autoFocus:b=!1,...u}=t,[x,m]=ot("Disclosure.Button"),I=qs(),p=I===null?!1:I===x.panelId,c=a.useRef(null),C=at(c,l,ge(y=>{if(!p)return m({type:4,element:y})}));a.useEffect(()=>{if(!p)return m({type:2,buttonId:s}),()=>{m({type:2,buttonId:null})}},[s,m,p]);let r=ge(y=>{var E;if(p){if(x.disclosureState===1)return;switch(y.key){case Ne.Space:case Ne.Enter:y.preventDefault(),y.stopPropagation(),m({type:0}),(E=x.buttonElement)==null||E.focus();break}}else switch(y.key){case Ne.Space:case Ne.Enter:y.preventDefault(),y.stopPropagation(),m({type:0});break}}),i=ge(y=>{switch(y.key){case Ne.Space:y.preventDefault();break}}),N=ge(y=>{var E;us(y.currentTarget)||g||(p?(m({type:0}),(E=x.buttonElement)==null||E.focus()):m({type:0}))}),{isFocusVisible:f,focusProps:O}=os({autoFocus:b}),{isHovered:A,hoverProps:$}=cs({isDisabled:g}),{pressed:G,pressProps:J}=xs({disabled:g}),L=a.useMemo(()=>({open:x.disclosureState===0,hover:A,active:G,disabled:g,focus:f,autofocus:b}),[x,A,G,f,g,b]),j=ms(t,x.buttonElement),h=p?St({ref:C,type:j,disabled:g||void 0,autoFocus:b,onKeyDown:r,onClick:N},O,$,J):St({ref:C,id:s,type:j,"aria-expanded":x.disclosureState===0,"aria-controls":x.panelElement?x.panelId:void 0,disabled:g||void 0,autoFocus:b,onKeyDown:r,onKeyUp:i,onClick:N},O,$,J);return it()({ourProps:h,theirProps:u,slot:L,defaultTag:Xs,name:"Disclosure.Button"})}let Ds="div",er=Rt.RenderStrategy|Rt.Static;function tr(t,l){let d=a.useId(),{id:s=`headlessui-disclosure-panel-${d}`,transition:g=!1,...b}=t,[u,x]=ot("Disclosure.Panel"),{close:m}=$t("Disclosure.Panel"),[I,p]=a.useState(null),c=at(l,ge(A=>{Zs(()=>x({type:5,element:A}))}),p);a.useEffect(()=>(x({type:3,panelId:s}),()=>{x({type:3,panelId:null})}),[s,x]);let C=Cs(),[r,i]=Es(g,I,C!==null?(C&Ue.Open)===Ue.Open:u.disclosureState===0),N=a.useMemo(()=>({open:u.disclosureState===0,close:m}),[u.disclosureState,m]),f={ref:c,id:s,...Fs(i)},O=it();return ae.createElement(Ss,null,ae.createElement(xt.Provider,{value:u.panelId},O({ourProps:f,theirProps:b,slot:N,defaultTag:Ds,features:er,visible:r,name:"Disclosure.Panel"})))}let sr=lt(Ws),zt=lt(Qs),Gt=lt(tr),rr=Object.assign(sr,{Button:zt,Panel:Gt});function lr({title:t,titleId:l,...d},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},d),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const ar=a.forwardRef(lr);function ir({participationDetails:t,isTeamsRegistration:l,isIndividualRegistration:d,eventDetails:s,setParticipantType:g,tempUser:b,startNewRegistration:u,participantType:x,allStepsComponents:m}){var ce,be,Ze,ee,we,Y,ne,ve,Ce,Ee,Fe,Se,Re,Ie,K,Pe,Ae;let{user:I}=as();I==null||I.RoleTitle;let p=((ce=I==null?void 0:I.Email)==null?void 0:ce.indexOf("justnshalom"))!=-1,c=JSON.parse((s==null?void 0:s.JsonSettings)??"{}"),C=((be=c==null?void 0:c.AdditionalSettings)==null?void 0:be.FeesCurrency)??"USD";const{rows:r}=st("/CandidateJson/GetByAge",{sort:{sortOrder:"DESC",sortColumn:"id"},filter:{ParticipantType:1},doCache:!0,select:"AgeFrom,AgeTo,EventGroupId,GroupName,Status,AgeStartDate,MaxAgeDate,MinAgeDate,AgeStartMonth,AgeStartYear"});console.log("ageWiseGroups",r),console.log("jsonSettings",c);let[i,N]=a.useState(""),f=[],O=((Ze=c==null?void 0:c.AdditionalSettings)==null?void 0:Ze.DisableIndividualRegForm)=="Yes";((ee=c==null?void 0:c.AdditionalSettings)==null?void 0:ee.DisableTeamRegForm)=="Yes",d&&f.push({name:"Individual",icon:It}),l&&f.push({name:"Team",icon:It});let A=Oe(s==null?void 0:s.StartDateString),$=Oe(s==null?void 0:s.EndDateString),G=A==null?void 0:A.toDateString(),J=$==null?void 0:$.toDateString(),L=G===J,j=((we=m.Participations)==null?void 0:we.length)>0&&((ne=(Y=m.Participations)==null?void 0:Y.filter(o=>o.type=="competitions"))==null?void 0:ne.length)>0;((ve=c==null?void 0:c.AdditionalSettings)==null?void 0:ve.DisableCompetitionsInFrontPage)=="Yes"&&(j=!1);let h=((Ce=c==null?void 0:c.AdditionalSettings)==null?void 0:Ce.DisableFormFieldsInFrontPage)=="Yes",y=((Ee=c==null?void 0:c.AdditionalSettings)==null?void 0:Ee.DisableBannerImageInFrontPage)!="Yes",E=(Fe=t==null?void 0:t.Competitions)==null?void 0:Fe.map(o=>o.GroupName),F=(Se=t==null?void 0:t.Competitions)==null?void 0:Se.map(o=>o.Group),k=[...new Set(F)];[...new Set(E)];let V=k.length>1;k.filter(o=>o==i).length==0&&(i=""),V&&k.length>0&&!i&&(i=k[0]);let je=r==null?void 0:r.find(o=>o.EventGroupId==i);console.log("selectedGroup ",i);const ie=[];let q=V?(Re=t==null?void 0:t.Competitions)==null?void 0:Re.filter(o=>o.Group==i):t==null?void 0:t.Competitions;console.log("filteredCompetitions",q);const Ge=[...new Set(q==null?void 0:q.map(o=>o.CompetitionCategoryName))],Je=q==null?void 0:q.reduce((o,U)=>o.find(B=>B.CompetitionName===U.CompetitionName)?o:o.concat([U]),[]);console.log("uniqueCategories",Ge),Ge.forEach(o=>{let U=Je.filter(B=>B.CompetitionCategoryName==o),M={};M.CategoryName=o,M.CompetitionNames=[],U.forEach(B=>{let S=q==null?void 0:q.filter(R=>R.CompetitionCategoryName==o&&R.CompetitionName==B.CompetitionName),_={};_.CompetitionName=B.CompetitionName,_.competitions=S,M.CompetitionNames.push(_)}),ie.push(M)});const w=({startNewRegistration:o})=>e.jsx("div",{className:"bg-indigo-100 mt-3 flex-grow",children:e.jsx("div",{className:"px-6 py-6",children:O?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration is closed for this event."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Ready to participate? ",e.jsx("br",{}),e.jsxs("span",{className:"text-indigo-600",children:["Join ",s==null?void 0:s.EventName," now!"]})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("button",{type:"button",onClick:()=>o("Individual"),className:"rounded-md bg-indigo-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 max-w-96 w-full",children:[e.jsx(Js,{className:"h-6 w-6 inline-block mr-2  -mt-1"}),"Register Now"]})})]})})});let ye=()=>e.jsx("div",{className:"bg-blue-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Already registered? ",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:"Login to your account"})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("a",{href:"/Account/Login",className:"rounded-md bg-blue-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 text-center focus-visible:outline-offset-2 focus-visible:outline-blue-600 max-w-96 w-full",children:[e.jsx(ar,{className:"h-6 w-6 inline-block mr-2"}),"Login Now"]})})]})});const W=({startNewRegistration:o})=>e.jsx("div",{className:"bg-violet-100 mt-3 flex-grow",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("h2",{className:"text-xl text-center font-semibold tracking-tight text-gray-900",children:["Ready to participate in a team event? ",e.jsx("br",{}),e.jsxs("span",{className:"text-violet-600",children:["Join ",s==null?void 0:s.EventName," now!"]})]}),e.jsx("div",{className:"mt-2 flex items-center flex-col",children:e.jsxs("button",{type:"button",onClick:()=>o("Team"),className:"rounded-md bg-indigo-600 px-3.5 py-4 text-lg font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 max-w-96 w-full",children:["  ",e.jsx(zs,{className:"h-6 w-6 inline-block mr-2 -mt-1"}),"Register Team Now"]})})]})});return s?e.jsxs("div",{className:"flex flex-col p-4",children:[e.jsx("div",{className:"event-details flex flex-col ",children:e.jsxs("div",{className:"flex flex-col md:flex-row ",children:[e.jsxs("div",{className:"mx-auto sm:max-w-[300px] min-w-60 text-center mb-10",children:[(s==null?void 0:s.OrganizationLogo)&&e.jsx("img",{src:s==null?void 0:s.OrganizationLogo,alt:"Event Logo",className:"max-h-24 sm:max-h-56 w-auto mx-auto"}),e.jsx("h2",{className:"text-xl mt-4 font-semibold tracking-tight text-purple-950",children:s==null?void 0:s.OrganizationName}),e.jsx("p",{className:"mt-1 mb-2 text-pretty text-sm font-medium text-gray-500",children:"Presenting"}),(s==null?void 0:s.EventLogo)&&((Ie=c==null?void 0:c.AdditionalSettings)==null?void 0:Ie.DisableEventLogoInFrontPage)!="Yes"&&e.jsx("img",{src:s==null?void 0:s.EventLogo,alt:"Event Logo",className:"hidden sm:flex max-h-56 w-auto mx-auto"}),y&&e.jsx("div",{className:"flex sm:hidden flex-col items-center justify-center mb-6",children:e.jsx("img",{alt:"",src:s==null?void 0:s.IdentityBackgroundImage,className:"h-auto w-auto shadow-lg  object-right max-h-96"})}),e.jsx("h2",{className:"text-2xl mt-2 font-semibold tracking-tight text-primary",children:s==null?void 0:s.EventName}),e.jsx("div",{className:"mt-4 text-pretty text-xs font-medium text-gray-500 ",children:e.jsx("blockquote",{className:"text-xs border-l-emerald-400 border-l-2 px-4 text-left text-gray-600 whitespace-pre-line",children:e.jsx(Ct,{options:{forceBlock:!0},children:s==null?void 0:s.Description})})}),e.jsx("p",{className:"event-date mt-8 text-pretty text-xs font-medium text-gray-500",children:L?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"h-6 w-6 inline-block"}),G]}):e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"h-6 w-6 inline-block"}),G," - ",J]})}),((K=s==null?void 0:s.Venue)==null?void 0:K.indexOf("iframe"))>-1?e.jsx("div",{className:"mt-8 iframelocation",dangerouslySetInnerHTML:{__html:s==null?void 0:s.Venue}}):((Pe=s==null?void 0:s.Venue)==null?void 0:Pe.indexOf("http"))>-1?e.jsxs("a",{href:s==null?void 0:s.Venue,target:"_blank",rel:"noreferrer",className:"mt-8 text-blue-600 hover:text-blue-500 justify-center items-center flex",children:[e.jsx(Ts,{className:"h-6 w-6 inline-block"}),s==null?void 0:s.Venue]}):e.jsx("p",{className:"mt-8 text-pretty text-lg font-medium text-gray-500 sm:text-xl/8",children:s==null?void 0:s.Venue}),b&&e.jsxs(e.Fragment,{children:[d&&x=="Individual"&&e.jsx(w,{startNewRegistration:u}),l&&x=="Team"&&e.jsx(W,{startNewRegistration:u})]}),p&&e.jsx(ye,{})]}),e.jsxs("div",{className:"flex flex-col sm:pl-6",children:[y&&e.jsx("div",{className:"hidden sm:flex flex-col items-center justify-center mb-6",children:e.jsx("img",{alt:"",src:s==null?void 0:s.IdentityBackgroundImage,className:"h-auto w-auto shadow-lg  object-right max-h-96"})}),j&&e.jsxs(pe,{heading:"Competitions",childrenClasses:"flex flex-col py-6 pl-2",outerClasses:"mb-4",children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6",children:f.map((o,U)=>e.jsxs("button",{onClick:()=>g(o.name),className:P(x===o.name?"text-violet-800 bg-violet-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",U===0?"rounded-l-lg":"",U===f.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none "),children:[e.jsx(o.icon,{className:P(x===o.name?"text-violet-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsx("span",{className:P(o.hideOnMobile?"hidden sm:block ":""),children:o.name}),e.jsx("span",{"aria-hidden":"true",className:P(x===o.name?"bg-violet-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},U))}),e.jsx("div",{className:"block sm:hidden pb-6",children:V&&e.jsx("select",{id:"group",name:"group",className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-2 pl-3 pr-8 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600",value:i,onChange:o=>N(o.target.value),children:r==null?void 0:r.map((o,U)=>{var M;return e.jsx("option",{value:o.EventGroupId,children:(M=o.GroupName.split(" - "))==null?void 0:M[0]},U)})})}),e.jsx("div",{className:"hidden sm:flex flex-col items-center justify-center",children:V&&e.jsx(e.Fragment,{children:e.jsx("nav",{"aria-label":"Tabs",className:"flex flex-wrap gap-x-1 pb-4",children:r==null?void 0:r.map((o,U)=>{var M;return console.log("x",o),e.jsxs("button",{type:"button",onClick:()=>N(o.EventGroupId),className:P(o.EventGroupId==i?"bg-indigo-100 text-indigo-700":"text-gray-500 bg-gray-50 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium text-center"),children:[e.jsx("span",{children:(M=o.GroupName.split(" - "))==null?void 0:M[0]}),e.jsx("br",{})]},U)})})})}),je&&e.jsxs("div",{className:"text-sm text-gray-700 font-medium whitespace-break-spaces text-center  pb-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:"text-gray-500",children:[" ",je.GroupName]})}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{class:"material-symbols-outlined",children:"calendar_month"}),e.jsxs("span",{className:"text-sm",children:[" ",Et(Oe(je.MinAgeDate))," - ",Et(Oe(je.MaxAgeDate))]})]})]}),ie==null?void 0:ie.map((o,U)=>{var M;return e.jsxs("div",{className:"mb-3 rounded-md border border-gray-200 px-5 py-2",children:[e.jsx("div",{className:"border-b border-gray-300 pb-2  mt-1",children:e.jsxs("div",{className:"flex flex-wrap items-baseline",children:[e.jsx("h3",{className:"mt-1 text-xl font-semibold leading-6 text-violet-800",children:o.CategoryName}),e.jsx("p",{className:"ml-1 truncate text-base text-gray-500",children:"Programs"})]})}),e.jsx("div",{className:"flex flex-col md:grid md:grid-cols-2 md:gap-2",children:(M=o.CompetitionNames)==null?void 0:M.map((B,S)=>{var _;return e.jsxs("div",{children:[e.jsx("div",{className:"border-b border-gray-100 pb-0",children:e.jsxs("div",{className:"flex items-baseline text-left justify-start",children:[e.jsx("h3",{className:"mt-1 text-medium font-semibold leading-6 text-green-800",children:B.CompetitionName}),e.jsx("p",{className:"ml-1 truncate text-sm text-gray-500"})]})}),e.jsx("div",{className:"mt-2 flex flex-wrap",children:(_=B.competitions)==null?void 0:_.map((R,_e)=>e.jsxs("div",{className:"w-min-[300] pr-4 mb-2",children:[e.jsx("div",{className:"flex gap-3",children:e.jsx("label",{className:P("","block text-sm text-gray-900"),children:e.jsx("span",{className:P("","text-xs font-medium leading-6 select-none text-gray-900"),children:((s==null?void 0:s.AllowDisplayCompetitionOrder)==1?R.CompetitionOrder+" - ":"")+(R.Title.replace(B.CompetitionName,"").replace(/ /gi,"").trim()!==""?R.Title.replace(B.CompetitionName,"").trim():B.CompetitionName.trim())})})}),e.jsx("div",{className:"text-sm text-gray-500 whitespace-break-spaces",children:(R==null?void 0:R.Remarks)&&e.jsx(Ct,{children:R.Remarks})}),R.Fees>0&&e.jsxs("p",{className:"fees text-xs mt-2 font-normal text-gray-600",children:["Fees:",e.jsxs("i",{className:"text-indigo-800 font-medium text-xs",children:[" ",R.Fees,C]})]})]},U+"_"+S+"_"+R.CompetitionStructureId))})]},U+"_"+S)})})]},U)})]}),!h&&e.jsx(pe,{heading:"What are the required information to finish registration?",childrenClasses:"flex flex-col py-6 px-2",children:e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"divide-y divide-gray-900/10",children:[e.jsx("h2",{className:"text-sm font-semibold tracking-tight text-gray-900",children:"Get ready to complete Registration! Be ready with following details to finish your registration..."}),e.jsx("dl",{className:"mt-2 space-y-6 divide-y divide-gray-900/10",children:(Ae=le.filter(o=>o.name!="Agreement"&&o.name!="Participant Type"&&(x=="Individual"?o.name!="Team"&&o.name!="Team Members":o.name!="User")))==null?void 0:Ae.map((o,U)=>{var B;let M=m[o.name];return M!=null&&M.length?e.jsxs(rr,{as:"div",className:"pt-6",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(zt,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e.jsxs("span",{className:"text-base/7 font-semibold",children:[o.name," Information"]}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(Bs,{"aria-hidden":"true",className:"size-6 group-data-[open]:hidden"}),e.jsx(Ls,{"aria-hidden":"true",className:"size-6 group-[&:not([data-open])]:hidden"})]})]})}),e.jsx(Gt,{as:"dd",className:"mt-2 pr-12",children:e.jsx("ul",{className:"list-disc ms-6 mt-3 space-y-1.5",children:(B=M.filter(S=>S.type!="heading"&&S.type!="paragraph"&&S.type!="payment-summary"&&S.type!="imageFromUrl"))==null?void 0:B.map(S=>e.jsx("li",{className:"ps-1 text-sm text-gray-600 dark:text-neutral-400",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:S.label})},S.id))})})]},U):null})})]})})})})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-grow space-x-2",children:[b&&e.jsxs(e.Fragment,{children:[d&&x=="Individual"&&e.jsx(w,{startNewRegistration:u}),l&&x=="Team"&&e.jsx(W,{startNewRegistration:u})]}),p&&e.jsx(ye,{})]})]}):e.jsx(rt,{})}const nr=({participationDetails:t,users:l,userRoles:d,activeUser:s,onChange:g,allStepsComponents:b,onClickDelete:u})=>{let x=b==null?void 0:b.User;b==null||b.Participation;let m=b==null?void 0:b.Payment;const I=p=>{g(p)};return e.jsx("div",{className:P("flex justify-center gap-2",s?"flex-col":"flex-row flex-wrap"),children:l==null?void 0:l.map((p,c)=>{var G,J,L,j;let C=d==null?void 0:d.find(h=>h.User===p.UId),r=C!=null&&C.JsonSettings?JSON.parse(C.JsonSettings):{};console.log(r);let i="Not Submitted",N=30,f=[];t&&(f=(G=t.ParticipantsList)==null?void 0:G.filter(h=>h.Candidate==(C==null?void 0:C.UserRoleId)),(f==null?void 0:f.length)>0&&(N=60)),r!=null&&r.FinishedSteps&&(N=100);let O=["DobString","Mobile"],A=["paymentMethod","paymentReferenceId","paymentScreenShot"],$=!1;return A!=null&&A.find(h=>r[h]!=null)&&($=!0),(r==null?void 0:r.FinishedSteps)==!0&&(i="Submitted"),r.ApprovalStatus&&(i=r.ApprovalStatus),(r==null?void 0:r.FinishedSteps)==!0&&r.ApprovalStatus=="Reviewed"&&(i="Submitted"),r.FinishedSteps==!0&&r.ApprovalStatus=="Submitted"&&(i="Submitted"),!r.FinishedSteps&&r.ApprovalStatus=="InProgress"&&(i="Not Submitted"),e.jsxs("div",{className:P("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",i=="Submitted"?"border-blue-500":i=="Approved"?"border-green-500":i=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("div",{className:"flex justify-center",children:p.ProfilePicture?e.jsx("div",{className:"bg-gray-200 flex rounded-xl p-2",children:e.jsx("img",{className:"mx-auto size-32 shrink-0 rounded-full",src:p.ProfilePicture,alt:""})}):e.jsx(e.Fragment,{})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:p.Name}),e.jsxs("dl",{className:"mt-1  flex-col justify-between",children:[e.jsx("dd",{className:"text-sm text-gray-500 overflow-hidden text-ellipsis",children:p.Email}),e.jsx("dd",{className:"mt-3",children:i=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):i=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):i=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):i=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:i})})]}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[N!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:P("progress-bar-fill h-1   rounded-md",N==100?"bg-green-500":N>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${N}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(ze,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"User Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:O.map((h,y)=>{var E;return e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:(E=x==null?void 0:x.find(F=>{var k;return((k=F.key)==null?void 0:k.toLowerCase())==(h==null?void 0:h.toLowerCase())}))==null?void 0:E.label}),e.jsx("dd",{className:"font-medium text-gray-900",children:p[h]})]},y)})})]})})]})]})}),(f==null?void 0:f.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ot,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[(J=t==null?void 0:t.OrganizationLevels)==null?void 0:J.map((h,y)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:h.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:C[h.LevelName+"Name"]})]},y)),e.jsx("div",{className:"h-4 flex w-full"}),f.map((h,y)=>{var E,F;return e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx($e,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),(F=(E=t==null?void 0:t.Competitions)==null?void 0:E.find(k=>k.CompetitionStructureId==h.Competition))==null?void 0:F.Title]})},y)})]})]})})]})]})}),(r==null?void 0:r.FinishedSteps)!=null&&$&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Tt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:A.map((h,y)=>{var E;return e.jsx(e.Fragment,{children:r[h]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:(E=m==null?void 0:m.find(F=>{var k;return((k=F.key)==null?void 0:k.toLowerCase())==(h==null?void 0:h.toLowerCase())}))==null?void 0:E.label}),h=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:r[h],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:r[h]})]},y)})})})]})})]})})}),((L=r==null?void 0:r.ReviewComments)==null?void 0:L.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(kt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),(j=r==null?void 0:r.ReviewComments)==null?void 0:j.map((h,y)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx($e,{className:P("size-6 -mt-1",h.Status==="Reviewed"?"text-yellow-400":h.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:h.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:h.Comment})]})]})},y))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:i=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):i=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):i=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):i=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):i=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:i})}),e.jsx("div",{className:"flex flex-grow gap-2",children:(r==null?void 0:r.FinishedSteps)==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>I(p),children:[e.jsx(Bt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>I(p),children:[e.jsx(Lt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>u({...p,...C}),children:[e.jsx(Mt,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},c)})})};function dr({teams:t,allStepsComponents:l,selectedTeam:d,advancedSettings:s,onClickDelete:g,participationDetails:b,handleChangeTeam:u,isIndividualRegistration:x,isTeamsRegistration:m,users:I,userRoles:p,selectedUser:c,handleChangeUser:C,participantType:r,setParticipantType:i,addNewParticipant:N,addNewTeamParticipant:f,tempUser:O}){let A=(s==null?void 0:s.DisableIndividualRegForm)=="Yes";return(s==null?void 0:s.DisableTeamRegForm)=="Yes",e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full",children:[r=="Individual"&&e.jsxs(e.Fragment,{children:[A&&x?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration is closed for this event."})]})}):x&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"w-full px-2 bg-yellow-900 max-w-60 text-white text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary mr-4",onClick:N,children:"Add New Individual Participant"})}),e.jsx(pe,{heading:"Participation Requests",outerClasses:"relative "+(c?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[x&&e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx(nr,{allStepsComponents:l,onClickDelete:g,users:I,activeUser:c,userRoles:p,onChange:C,setParticipantType:i,participationDetails:b})}),!(I!=null&&I.length)&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(ze,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new participants to the list by click on the Add New Participant button."})]})})]})})]}),r=="Team"&&m&&e.jsx(or,{teams:t,tempUser:O,selectedTeam:d,participationDetails:b,handleChangeTeam:u,users:I,onClickDelete:g,userRoles:p,allStepsComponents:l,selectedUser:c,handleChangeUser:C,setParticipantType:i,addNewParticipant:f})]})})}function or({teams:t,handleChangeTeam:l,allStepsComponents:d,users:s,userRoles:g,selectedUser:b,participationDetails:u,onClickDelete:x,addNewParticipant:m,tempUser:I}){d==null||d.Team,d==null||d.Participation;let p=d==null?void 0:d.Payment;return e.jsxs("div",{className:"max-w-full flex-1 overflow-hidden",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`w-full bg-green-900 max-w-60 text-white  text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 \r
            px-2  mr-4\r
            focus-visible:outline-offset-2 focus-visible:outline-primary`,onClick:m,children:"Add New Team Participant"})}),e.jsx(pe,{heading:"Participation Requests",outerClasses:"relative "+(b?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx("div",{className:P("flex justify-center gap-2","flex-row flex-wrap"),children:t==null?void 0:t.map((c,C)=>{var A,$,G,J,L;let r=c!=null&&c.TeamJsonSettings?JSON.parse(c.TeamJsonSettings):{},i="Not Submitted",N=30,f=[];u&&(f=(A=u.ParticipantsList)==null?void 0:A.filter(j=>j.Candidate==(c==null?void 0:c.Team)),(f==null?void 0:f.length)>0&&(N=60)),r!=null&&r.FinishedSteps&&(N=100);let O=["paymentMethod","paymentReferenceId","paymentScreenShot"];return(r==null?void 0:r.FinishedSteps)==!0&&(i="Submitted"),r.ApprovalStatus&&(i=r.ApprovalStatus),(r==null?void 0:r.FinishedSteps)==!0&&r.ApprovalStatus=="Reviewed"&&(i="Submitted"),r.FinishedSteps==!0&&r.ApprovalStatus=="Submitted"&&(i="Submitted"),!r.FinishedSteps&&r.ApprovalStatus=="InProgress"&&(i="Not Submitted"),e.jsxs("div",{className:P("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",i=="Submitted"?"border-blue-500":i=="Approved"?"border-green-500":i=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:c.TeamTeamName}),e.jsx("dl",{className:"mt-1  flex-col justify-between",children:e.jsx("dd",{className:"mt-3",children:i=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):i=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):i=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):i=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:i})})}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[N!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:P("progress-bar-fill h-1   rounded-md",N==100?"bg-green-500":N>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${N}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ut,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Team Members"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:($=c==null?void 0:c.TeamMembers)==null?void 0:$.map((j,h)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:j.UserName}),e.jsx("dd",{className:"font-medium text-gray-900",children:j.UserDobString})]},h))})]})})]})]})}),(f==null?void 0:f.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ot,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[(G=u==null?void 0:u.OrganizationLevels)==null?void 0:G.map((j,h)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:j.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:c[j.LevelName+"Name"]})]},h)),e.jsx("div",{className:"h-4 flex w-full"}),f.map((j,h)=>{var y,E;return e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx($e,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),(E=(y=u==null?void 0:u.Competitions)==null?void 0:y.find(F=>F.CompetitionStructureId==j.Competition))==null?void 0:E.Title]})},h)})]})]})})]})]})}),(r==null?void 0:r.FinishedSteps)!=null&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Tt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:O.map((j,h)=>{var y;return e.jsx(e.Fragment,{children:r[j]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:(y=p==null?void 0:p.find(E=>{var F;return((F=E.key)==null?void 0:F.toLowerCase())==(j==null?void 0:j.toLowerCase())}))==null?void 0:y.label}),j=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:r[j],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:r[j]})]},h)})})})]})})]})})}),((J=r==null?void 0:r.ReviewComments)==null?void 0:J.length)>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:P("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(kt,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),(L=r==null?void 0:r.ReviewComments)==null?void 0:L.map((j,h)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx($e,{className:P("size-6 -mt-1",j.Status==="Reviewed"?"text-yellow-400":j.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:j.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:j.Comment})]})]})},h))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:i=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):i=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):i=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):i=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):i=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:i})}),e.jsx("div",{className:"flex flex-grow gap-2",children:(r==null?void 0:r.FinishedSteps)==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>l(c),children:[e.jsx(Bt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>l(c),children:[e.jsx(Lt,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>x({...c}),children:[e.jsx(Mt,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},C)})})}),!(t!=null&&t.length)&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(ze,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Team Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new team participants to the list by click on the Add New Team Participant button."})]})}),"  "]})})]})}function cr({isSubmitted:t,availableSteps:l,submittedSteps:d,handleClick:s}){return e.jsx("nav",{"aria-label":"Progress",className:"mb-2 flex w-full",children:e.jsx("ol",{role:"list",className:"divide-y divide-gray-300 rounded-md border border-gray-300 flex md:divide-y-0  w-full flex-wrap",children:l==null?void 0:l.map((g,b)=>e.jsxs("li",{className:"relative md:flex md:flex-1 ",children:[g.status==="active"?e.jsx("a",{href:g.href,"aria-current":"step",className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-primary",children:e.jsx("span",{className:"text-white text-xs",children:g.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-indigo-600",children:g.label??g.name})]})}):d!=null&&d.find(u=>u.name==g.name)||t?e.jsx("a",{href:g.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:u=>s(b,u),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-gray-300 group-hover:bg-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:g.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-400 group-hover:text-gray-900",children:g.label??g.name})]})}):e.jsx("a",{href:g.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:u=>s(b,u),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full border-2 border-gray-300 group-hover:border-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:g.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-500 group-hover:text-gray-900",children:g.label??g.name})]})}),b!==l.length-1?e.jsx(e.Fragment,{children:e.jsx("div",{"aria-hidden":"true",className:"absolute right-0 top-0 hidden h-full w-5 md:block",children:e.jsx("svg",{fill:"none",viewBox:"0 0 22 80",preserveAspectRatio:"none",className:"h-full w-full text-gray-300",children:e.jsx("path",{d:"M0 -2L20 40L0 82",stroke:"currentcolor",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"})})})}):null]},g.name))})})}const xr=ae.lazy(()=>At(()=>import("./formSubmission-CCW57I-T.js"),[])),mr=ae.lazy(()=>At(()=>import("./modalForm-DAyFcBsu.js"),[]));function ur({steps:t,userRoleJson:l,isCoordinatorView:d,gotoHome:s,participantType:g,isSubmitted:b,selectedUser:u,selectedTeam:x,eventDetails:m,activeStep:I,isLoading:p,updateIndex:c,setComponents:C,availableSteps:r,submittedSteps:i,allStepsComponents:N,customComponents:f,data:O,onChange:A,handleClick:$,handleNext:G,components:J,tempUser:L,selectedComponent:j,setSelectedComponent:h}){if(console.log({data:O}),!r||(r==null?void 0:r.length)==0)return e.jsx("div",{className:"text-center text-2xl text-gray-500",children:u||x?"Steps Loading/No Steps Found":""});let y=r.findIndex(F=>F.status==="active")+1===r.length,E=r.findIndex(F=>F.name==="Guardian Registration")>-1;if(console.log("isGuardianRegistration",E),u||x||E){let F=e.jsxs("span",{className:"text-gray-500",children:[(m==null?void 0:m.EventName)+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Participant Registration"})]});g==="Team"&&(F=e.jsxs("span",{className:"text-gray-500",children:[(m==null?void 0:m.EventName)+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Team Registration"})]})),u&&u.Name&&(F=(m==null?void 0:m.EventName)+" - "+u.Name),(l==null?void 0:l.FinishedSteps)==!0&&(F=(m==null?void 0:m.EventName)+" - "+u.Name+" - Submitted");let k="Registration Form",V="Please fill the form to register for the event";return u&&u.Name&&(k=u.Name+" - Registration Form",V="Please continue remaining steps to complete the registration"),x&&x.TeamName&&(k=x.TeamName+" - Registration Form",V="Please continue remaining steps to complete the registration"),b&&(k="View",V="Please view the details submitted in the registration form"),L&&(F=(m==null?void 0:m.EventName)+" - First User Registration",k="Registration Form",V="Please fill the form to register for the event"),E&&(F=(m==null?void 0:m.EventName)+" - Account Registration",k="Account Registration Form",V="Please fill the form to register an account for adding participants"),e.jsx(mr,{title:k,description:V,open:!0,customHeading:f||null,setOpen:()=>{s()},children:e.jsx(pe,{heading:F,outerClasses:"relative w-full",headingClasses:"px-1 lg:px-4  w-full",children:e.jsx("div",{className:"w-full mt-5 min-h-[800px]",id:"registrationBox",children:I?e.jsxs(e.Fragment,{children:[(r==null?void 0:r.length)>1&&e.jsx(cr,{isSubmitted:b,availableSteps:r,submittedSteps:i,handleClick:$}),p?e.jsx(rt,{}):e.jsx(e.Fragment,{children:e.jsx(xr,{isCoordinatorView:d,participantType:g,isGuardianRegistration:E,handleNext:G,isSubmitted:b,eventDetails:m,isPlayGround:!1,onChange:A,data:O,isLastStep:y,existingComponents:J,selectedComponent:j,setSelectedComponent:h,components:J,setComponents:C},c)})]}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a step to proceed"})})})})}else if(L&&g==="individual")return e.jsx(pe,{heading:m+" - Event Registration",outerClasses:"relative w-3/4",headingClasses:"px-1 md:px-6  w-full",children:e.jsx("div",{className:"w-full mt-5",children:e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please click on add button and proceed"})})})}function Or({view:t,setActiveTab:l,getEvets:d,isCoordinatorView:s,setParticipantTypeInt:g,getParticipants:b,participantTypeInt:u,candidateId:x,closeModel:m,customComponents:I,allowEdit:p}){var ht,gt,pt,jt,bt,Nt,yt,wt;let{user:c}=is(),C=(c==null?void 0:c.RoleTitle)==="Guardian",r=((ht=c==null?void 0:c.Email)==null?void 0:ht.indexOf("justnshalom"))!=-1,[i,N]=a.useState(0),[f,O]=a.useState(null),[A,$]=a.useState({});const[G,J]=ds();let[L,j]=a.useState(null),[h,y]=a.useState(!1);var E={};let[F,k]=a.useState([]),[V,je]=a.useState(null),[ie,q]=a.useState([]),[Ge,Je]=a.useState({}),[w,ye]=a.useState(u==1?"Individual":u==2?"Team":"");console.log({participantType:w}),console.log({participantTypeInt:u});let[W,ce]=a.useState([...le]),[be,Ze]=a.useState({}),ee=n=>{O(n)},we=n=>{Je(n)},Y=n=>{ye(n)};const{row:ne,status:ve}=st(d||"/CandidateJson/GetEvents",{select:"AllowDisplayCompetitionOrder,Description,EVId,EndDateString,EventCategory,EventCategoryTitle,EventLogo,EventName,IdentityBackgroundImage,OrganizationLogo,OrganizationName,OrganizationShortName,StartDateString,Venue,JsonSettings",doCache:!0});let Ce=()=>{},Ee="finished",Fe=()=>{},Se="finished",Re=()=>{},Ie="finished",{row:K,update:Pe,status:Ae,setFilter:o,delete:U}=st(b||"/CandidateJson/GetParticipants",{deleteUrl:"/CandidateJson/RemoveUser",mandatoryParams:["participantType"],select:"participantList,userList,UserEmail,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,CreatedBy,CreatedByUserName,ParticipationId,UserJsonSettings,TeamJsonSettings,Remarks,LevelSettings,RegistrationId",updateUrl:"/CandidateJson/UpdateParticipant",doCache:!0,filter:x?{Candidate:x,...u==1?{participantType:"1"}:u==2?{participantType:"2"}:{}}:{}});console.log({participationDetails:K});let M=fs(K,x,f==null?void 0:f.UId,L==null?void 0:L.Team);console.log({extracted:M});let{userRoles:B,userRole:S,users:_,userData:R,teams:_e,teamData:z}=M;f=f||R,L=L||z;let Jt=n=>{try{return et("/CandidateJson/UpdateTeam",n)}catch{}},Zt=n=>{try{return et("/CandidateJson/UpdateUser",n)}catch{}},_t=n=>{try{return et(x?"/UsersRolesJson/Save":"/CandidateJson/UpdateUserRoles",n)}catch{}},me=_!=null&&_.length?null:(gt=xe(localStorage.user))==null?void 0:gt.user;if(C&&!r&&(me=null),w=="Team"){let n=(pt=xe(localStorage.user))==null?void 0:pt.user;n&&(me=((jt=n==null?void 0:n.Email)==null?void 0:jt.indexOf("justnshalom"))==-1?null:n)}let Z=me?{UId:me==null?void 0:me.UId}:null;Z&&(R={UId:Z==null?void 0:Z.UId});let Ht=function(){if(Z){let n=tt(v,le,!0,"Individual",_,Z,"participationDetails"),T=tt(v,le,!0,"Team",_,Z,"participationDetails");n.length>0&&n.find(Q=>Q.name=="User")?ke(Z):T.length>0&&T.find(Q=>Q.name=="Team")&&Le({})}};h=ns(ve,Ee,Se,Ie,Ae)||h;let H=xe(S==null?void 0:S.JsonSettings),de=xe(R==null?void 0:R.JsonSettings),te=xe(z==null?void 0:z.TeamJsonSettings);const He=ne==null?void 0:ne.JsonSettings,Te=He!=null&&He!=""?xe(He):{components:{}},v=Te.components,mt=Te==null?void 0:Te.AdditionalSettings,Ve=Object.keys(v??{});let Vt=xe(A==null?void 0:A.JsonSettings),qe=(Ve==null?void 0:Ve.includes("Agreement"))&&((Nt=(bt=v==null?void 0:v.Agreement)==null?void 0:bt.filter(n=>{var T;return((T=n==null?void 0:n.validate)==null?void 0:T.required)&&!H[n.name]&&!Vt[n.name]}))==null?void 0:Nt.length)==0;qe&&localStorage.setItem("isAgreementStepFilled","true"),localStorage.getItem("isAgreementStepFilled")=="true"&&(qe=!0);let se=tt(v,W,qe,w,_,Z,t,s);console.log({availableSteps:se});let qt=hs(v),X=gs(se);ie=ps(v,X);let Ye=X?js(X.name,{},we,N,X,S,H,R,de,w,z,K,v,f,L,te,!1,A):{};const ke=async n=>{R=n,W=le,S=B==null?void 0:B.find(T=>T.User==n.UId),w="Individual",H=JSON.parse(S!=null&&S.JsonSettings?S==null?void 0:S.JsonSettings:"{}"),de=JSON.parse(R!=null&&R.JsonSettings?R==null?void 0:R.JsonSettings:"{}"),f=n,ee(n),Y(w),j({}),F=[],k([]),ce(le),i=i+1,N(i)},Le=async n=>{z=n,te=JSON.parse(z!=null&&z.TeamJsonSettings?z==null?void 0:z.TeamJsonSettings:"{}"),W=le,S={},H={},de={},L=n,j(n),ee({}),w="Team",Y(w),F=[],ce(le),k([]),i=i+1,N(i)},ut=(n,T,Q,re,rs,D,vt,We,hr,gr,pr,jr,br,Nr,Xe)=>{if(T.preventDefault(),!re)return;let ls=re[n];if(!((We==null?void 0:We.FinishedSteps)||(Xe==null?void 0:Xe.FinishedSteps)||x)&&!Q&&!(re.findIndex(Qe=>Qe.status==="active")>n)&&!F.find(Qe=>Qe.name==ls.name)){De.error("Please complete the current step/click the next button for proceed to the next step.");return}const Be=re==null?void 0:re.map((oe,he)=>he===n?{...oe,status:"active"}:{...oe,status:"inactive"});if(re=Be,D=Be.find(oe=>oe.status==="active"),v[D.name]){let oe=v[D.name];oe.forEach(he=>{he.name=he.name.charAt(0).toLowerCase()+he.name.slice(1)}),E[D.name]=[...oe]}else E[D.name]=[];window.scrollTo({top:0,behavior:"smooth"}),W=Be,ce(Be)},Yt=async(n,T,Q)=>{y(!0),be={...be,...n};let re=se.findIndex(D=>D.status==="active")+1;if(Q||re>=se.length&&(w=="Individual"?H.FinishedSteps=!0:n.FinishedSteps=!0),await bs(n,A,X,S,B,H,R,de,w,z,K,ie,_t,Zt,Jt,o,Pe,f,Fe,ee,L,j,Ce,Re,$,te,_e,mt,Q)){k([...F,X]),T();let D=se.findIndex(vt=>vt.status==="active")+1;D<se.length&&!Q?ut(D,{preventDefault:()=>{}},!0,se,Ye,X,S,H,R,de,w,z,K,f,te):(ee(null),S={},de={},H={},z={},j(null),m&&m())}else De.error("Failed to save data");y(!1),N(i+1),l("My Participation")},Kt=(n,T)=>{E[X.name]=n};let Wt=()=>{$({}),ee({}),W=le,ce(W),S={},de={},H={},z={},te={},j({})},ft=async n=>{Wt(),i=i+1,N(i)};const Xt=async()=>{if(Z){ke(Z);return}w="Individual",Y(w),ft()},Qt=async()=>{C&&r?l("Registration"):(w="Team",Y(w),ft())},Dt=(n,T)=>{ut(n,T,!1,se,Ye,X,S,H,R,de,w,z,K,f,te)};let Ke=w=="Individual"&&(H==null?void 0:H.FinishedSteps)||w=="Team"&&(te==null?void 0:te.FinishedSteps);x&&(Ke=!0),p&&x&&(Ke=!1);let es=(v==null?void 0:v.User)&&(v==null?void 0:v.Team),ue=(v==null?void 0:v.User)&&((yt=v==null?void 0:v.User)==null?void 0:yt.length)>0,fe=(v==null?void 0:v.Team)&&((wt=v==null?void 0:v.Team)==null?void 0:wt.length)>0;console.log({isTeamsAndIndividualRegistration:es,isIndividualRegistration:ue,isTeamsRegistration:fe}),a.useEffect(()=>{console.log({participantType:w}),ue&&!w?(Y("Individual"),o({participantType:"1"})):fe&&!w&&(Y("Team"),o({participantType:"2"}))},[w,ue,fe]);let ts=()=>{ee(null),j(null),k([]),m&&m()};if(x&&!K)return e.jsx(rt,{});let Me=[];ue&&Me.push({name:"Individual",icon:ze}),fe&&Me.push({name:"Team",icon:Ut});let ss=n=>{if(n){const T={UserRoleId:w=="Individual"?n.Candidate:n.Team,id:w=="Individual"?n.Candidate:n.Team,participantType:w=="Individual"?"1":"2"};J(T)}};return e.jsxs("div",{children:[e.jsx(G,{title:"Delete Participant",description:"Are you sure you want to delete this participant?",confirmButtonLabel:"Delete",confirmButtonClick:async n=>{await U(n),De.success("Participant Deleted Successfully")},className:"w-96  print:hidden"}),e.jsx(ur,{isCoordinatorView:s,customComponents:I,userRoleJson:H,setComponents:q,participantType:w,steps:W,gotoHome:ts,isSubmitted:Ke,selectedTeam:L,tempUser:Z,selectedUser:f,eventDetails:ne,activeStep:X,isLoading:h,onChange:Kt,availableSteps:se,submittedSteps:F,allStepsComponents:v,data:{...Ye},handleClick:Dt,handleNext:Yt,components:ie,selectedComponent:V,setSelectedComponent:()=>{}},i),!x&&e.jsxs(e.Fragment,{children:[t=="participationDetails"&&e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6 mt-5",children:Me.map((n,T)=>e.jsxs("button",{onClick:()=>{Y(n.name),o({participantType:n.name=="Individual"?"1":"2"})},className:P(w===n.name?"text-sky-800 bg-sky-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",T===0?"rounded-l-lg":"",T===Me.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none"),children:[e.jsx(n.icon,{className:P(w===n.name?"text-sky-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsxs("span",{className:P(n.hideOnMobile?"hidden sm:block":""),children:["As ",n.name]}),e.jsx("span",{"aria-hidden":"true",className:P(w===n.name?"bg-sky-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},n.name))}),e.jsx("div",{className:"flex mt-6 flex-col justify-center justify-items-center sm:flex-row sm:space-x-2",children:e.jsx(e.Fragment,{children:e.jsx(dr,{allStepsComponents:v,allFields:qt,teams:_e,onClickDelete:ss,updateIndex:i,tempUser:Z,selectedTeam:L,isIndividualRegistration:ue,isTeamsRegistration:fe,handleChangeTeam:Le,participantType:w,addNewParticipant:()=>{C&&r?l("Registration"):(l("My Participation"),w=="Individual"?Z?ke(Z):Xt():Le({}))},addNewTeamParticipant:Qt,userRoles:B,users:_,participationDetails:K,selectedUser:f,setParticipantType:Y,advancedSettings:mt,handleChangeUser:ke})})})]}),t=="eventDetails"&&e.jsx(ir,{tempUser:Z,isIndividualRegistration:ue,isTeamsRegistration:fe,startNewRegistration:()=>{C&&r?l("Registration"):(l("My Participation"),w=="Individual"?Ht():Le({}))},participationDetails:K,eventDetails:ne,setParticipantType:n=>{Y(n),o({participantType:n=="Individual"?"1":"2"})},participantType:w,allStepsComponents:v})]})]})}export{Or as R,rr as j};
