import{g as f}from"./coordinatorRouter-CNFqsEA3.js";import{u as p,r as n,j as e,L as b,_ as j}from"./main-BWzMsQNc.js";import{c as R,R as y}from"./index-T2M3h99b.js";import{w as v}from"./wrapRoutesWithPropsCapture-C8zDqvZk.js";import"./layoutUtils-ts0qhyO6.js";const g=n.lazy(()=>j(()=>import("./index-B0udKcpi.js"),[])),E=(l,t)=>({user:o,...w})=>{const a=p(),[c,d]=n.useState(null),i=n.useMemo(()=>({UId:o?.UId,Role:o?.Role}),[o?.UId,o?.Role]),u=n.useMemo(()=>{try{if(d(null),typeof l!="function")throw new Error(`getRoutes is not a function: ${typeof l}`);const r=l(o,a);if(!r||!Array.isArray(r))throw console.error(`${t} - getRoutes returned invalid data:`,r),new Error(`Invalid routes returned from ${t}: ${typeof r}`);r.length===0&&(console.warn(`${t} - No routes returned for user role:`,i?.Role),r.push({path:"*",element:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-4",children:"No Routes Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No routes defined for your role"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Role: ",i?.Role]})]})})}));const x=r.find(s=>!s.path||!s.element);if(x)throw console.error(`${t} - Invalid route structure:`,x),new Error("Route missing path or element property");const h=v(r).map(s=>({...s,errorElement:s.errorElement||e.jsx(g,{})})),m=R(h,{future:{v7_normalizeFormMethod:!0,v7_startTransition:!0}});if(!m)throw new Error("createBrowserRouter returned null/undefined");return m}catch(r){return console.error(`${t} - Error creating router:`,r),d(r.message),null}},[i,a,l,t]);return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Router Initialization Error"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:[t," failed to initialize"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Reload Application"})]})}):u?e.jsx(n.Suspense,{fallback:e.jsx(b,{from:`${t}-Router`}),children:e.jsx(y,{router:u})}):(console.error(`${t} - Router is null/undefined, cannot render RouterProvider`),e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Router Not Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Router instance is null or undefined"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Wrapper: ",t]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Reload Application"})]})}))},W=E(f,"CoordinatorWrapper");export{W as default};
