import{r,j as e}from"./mainweb-Dq4Klz3m.js";import{C as p,b as A}from"./ClipLoader-CeqF-oIY.js";/* empty css                      */import{a as D}from"./axios-CCb-kr4I.js";const M=localStorage.getItem("accessToken");function H({user:P,operation:l}){const[o,F]=r.useState([]),[i,g]=r.useState(3),[n,x]=r.useState(!0);r.useState(null);const[w,R]=r.useState(!1),[j,b]=r.useState(""),[v,N]=r.useState(""),[f,c]=r.useState(!1),[$,z]=r.useState(null),[u,h]=r.useState({visible:!1,message:""}),C=0;Math.min(i,o.length);const m=o.length,y=(s,a)=>{const t=`https://wa.me/?text=Hello! ${s} Sharing ${a}`;window.open(t,"_blank")},k=()=>{R(!0)},d=()=>{R(!1),b(""),N("")},U=async()=>{if(!j||!v){alert("Please fill in all fields");return}const s=new FormData;s.append("Role",l==="inviteJudges"?"6":l==="inviteContentViewers"?"11":l==="InviteDrawMasters"?"13":"9"),s.append("RoleRole",l==="inviteJudges"?"Judge":l==="inviteContentViewers"?"ContentViewer":l==="InviteDrawMasters"?"DrawMaster":"Projector"),s.append("Event",""),s.append("UserName",j),s.append("UserEmail",v),s.append("Status","1"),x(!0);try{const a=await D.post("https://etalenterapi.azurewebsites.net/SetupJson/SaveUser",s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${M}`}});if(a.data&&a.data.Results){h({visible:!0,message:"User Added successfully."});const t=await a.data.Results;I(),d()}else h({visible:!0,message:"Error Adding user."})}catch(a){console.error("Error saving user:",a),h({visible:!0,message:"Error Adding user."})}finally{x(!1),setTimeout(()=>h({visible:!1,message:""}),3e3)}},I=async()=>{x(!0);try{const s=["Event","Role","SixDigitPassword","Status","User","UserEmail","UserEmailCode","UserName","UserNameCode","UserRoleId"],a=new FormData;a.append("CreatedBy",P.UId),a.append("Role",l==="inviteJudges"?"6":l==="inviteContentViewers"?"11":l==="InviteDrawMasters"?"13":"9"),a.append("Event",P.Event),a.append("SortOrder","desc"),a.append("SortColumn","ModifiedDate"),a.append("select",s);const t=await D.post("https://etalenterapi.azurewebsites.net/UsersRolesPlusUsersJson/Get",a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${M}`}});t.data&&t.data.Results&&F(t.data.Results)}catch(s){console.error("Error fetching UsersRoles:",s)}finally{x(!1)}};r.useEffect(()=>{I()},[]);const S=async()=>{x(!0);try{const s=await D.delete("https://etalenterapi.azurewebsites.net/SetupJson/RemoveCoordinator",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${M}`},params:{UserUId:$}});s.data&&s.data.Results?(h({visible:!0,message:"User Deleted successfully."}),I()):(h({visible:!0,message:"Error Deleting user."}),console.error("Error deleting user:",s.data.Message))}catch(s){h({visible:!0,message:"Error Deleting user."}),console.error("Error deleting user:",s)}finally{x(!1),c(!1),setTimeout(()=>h({visible:!1,message:""}),3e3)}},E=s=>{z(s),c(!0)},T=l==="inviteJudges",J=l==="inviteContentViewers",V=l==="InviteDrawMasters",L=l==="InviteProjectors";return e.jsxs("div",{className:"users-and-roles-container",children:[T&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"maintitle",children:"Manage Judges"}),e.jsxs("div",{className:"button-row",children:[e.jsx("button",{className:"button button-blue",children:"Create Yourself As A Judge"}),e.jsx("button",{onClick:k,className:"button button-green",style:{marginLeft:"10px"},children:"New"})]}),e.jsx("div",{className:"paragraph-container",children:e.jsxs("ul",{children:[e.jsx("li",{children:"If you want to add yourself as a judge or add an existing user of eTalenter, enter email ID and press the add button."}),e.jsx("li",{children:"For creating a new user, the name field is mandatory."}),e.jsx("li",{children:"Sometimes the invitation mail may take time to receive, please wait and enjoy ðŸ˜Š."}),e.jsx("li",{children:"For resending the invitation, click on the new button, enter the email, and press the plus button."})]})}),e.jsxs("div",{className:"dropdown-container",children:[e.jsx("label",{htmlFor:"data-count",children:"Show: "}),e.jsxs("select",{id:"data-count",value:i,onChange:s=>g(Number(s.target.value)),children:[e.jsx("option",{value:3,children:"3"}),e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:30,children:"30"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:500,children:"500"})]}),e.jsx("div",{className:"results-info",children:`Showing ${C+1} to ${Math.min(i,m)} of ${m}`})]}),w&&e.jsx("div",{className:"popup-overlay",onClick:d,children:e.jsxs("div",{className:"popup-container",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{children:"Add New User"}),e.jsx("input",{type:"text",placeholder:"Enter Name",value:j,onChange:s=>b(s.target.value),className:"popup-input"}),e.jsx("input",{type:"email",placeholder:"Enter Email",value:v,onChange:s=>N(s.target.value),className:"popup-input"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:d,children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:U,disabled:n,children:n?"Saving...":"Save"})]})]})}),u.visible&&e.jsx("div",{className:"snackbar",children:u.message}),n&&e.jsx("div",{className:"loading-spinner-overlay",children:e.jsx(p,{color:"#36d7b7",size:50})}),o.length===0?e.jsx("div",{className:"no-users-found",children:e.jsx("h3",{children:"No judges yet, click on the new button and add new judge.	"})}):e.jsx("div",{className:"box-container",children:o.slice(0,i).map((s,a)=>e.jsxs("div",{className:"user-box",children:[e.jsxs("div",{className:"user-header",children:[e.jsx("div",{className:"header-name",children:s.UserName}),e.jsx("div",{className:"header-email",children:s.UserEmail})]}),e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"whatsapp-button",onClick:()=>y(s.UserName,s.UserEmail),children:"Share on WhatsApp"}),e.jsx(A,{className:"delete-icon",onClick:()=>E(s.UserRoleId)})]}),f&&e.jsx("div",{className:"popup-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"popup-container",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{children:"Are you sure you want to delete this user?"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:()=>c(!1),children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:S,disabled:n,children:n?e.jsx(p,{size:20,color:"#fff"}):"Confirm"})]})]})})]},a))})]}),J&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"maintitle",children:"Manage ContentViewers"}),e.jsxs("div",{className:"button-row",children:[e.jsx("button",{className:"button button-blue",children:"Create Yourself As A ContentViewer"}),e.jsx("button",{onClick:k,className:"button button-green",style:{marginLeft:"10px"},children:"New"})]}),e.jsx("div",{className:"paragraph-container",children:e.jsxs("ul",{children:[e.jsx("li",{children:"If you want to add yourself as a ContentViewer or add an existing user of eTalenter, enter email ID and press the add button."}),e.jsx("li",{children:"For creating a new user, the name field is mandatory."}),e.jsx("li",{children:"Sometimes the invitation mail may take time to receive, please wait and enjoy ðŸ˜Š."}),e.jsx("li",{children:"For resending the invitation, click on the new button, enter the email, and press the plus button."})]})}),e.jsxs("div",{className:"dropdown-container",children:[e.jsx("label",{htmlFor:"data-count",children:"Show: "}),e.jsxs("select",{id:"data-count",value:i,onChange:s=>g(Number(s.target.value)),children:[e.jsx("option",{value:3,children:"3"}),e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:30,children:"30"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:500,children:"500"})]}),e.jsx("div",{className:"results-info",children:`Showing ${C+1} to ${Math.min(i,m)} of ${m}`})]}),w&&e.jsx("div",{className:"popup-overlay",onClick:d,children:e.jsxs("div",{className:"popup-container",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{children:"Add New User"}),e.jsx("input",{type:"text",placeholder:"Enter Name",value:j,onChange:s=>b(s.target.value),className:"popup-input"}),e.jsx("input",{type:"email",placeholder:"Enter Email",value:v,onChange:s=>N(s.target.value),className:"popup-input"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:d,children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:U,disabled:n,children:n?"Saving...":"Save"})]})]})}),u.visible&&e.jsx("div",{className:"snackbar",children:u.message}),n&&e.jsx("div",{className:"loading-spinner-overlay",children:e.jsx(p,{color:"#36d7b7",size:50})}),o.length===0?e.jsx("div",{className:"no-users-found",children:e.jsx("h3",{children:"No contentviewers yet, click on the new button and add new contentviewer.	"})}):e.jsx("div",{className:"box-container",children:o.slice(0,i).map((s,a)=>e.jsxs("div",{className:"user-box",children:[e.jsxs("div",{className:"user-header",children:[e.jsx("div",{className:"header-name",children:s.UserName}),e.jsx("div",{className:"header-email",children:s.UserEmail})]}),e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"whatsapp-button",onClick:()=>y(s.UserName,s.UserEmail),children:"Share on WhatsApp"}),e.jsx(A,{className:"delete-icon",onClick:()=>E(s.UserRoleId)})]}),f&&e.jsx("div",{className:"popup-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"popup-container",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{children:"Are you sure you want to delete this user?"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:()=>c(!1),children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:S,disabled:n,children:n?e.jsx(p,{size:20,color:"#fff"}):"Confirm"})]})]})})]},a))})]}),V&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"maintitle",children:"Manage DrawMasters"}),e.jsxs("div",{className:"button-row",children:[e.jsx("button",{className:"button button-blue",children:"Create Yourself As A DrawMasters"}),e.jsx("button",{onClick:k,className:"button button-green",style:{marginLeft:"10px"},children:"New"})]}),e.jsx("div",{className:"paragraph-container",children:e.jsxs("ul",{children:[e.jsx("li",{children:"If you want to add yourself as a DrawMasters or add an existing user of eTalenter, enter email ID and press the add button."}),e.jsx("li",{children:"For creating a new user, the name field is mandatory."}),e.jsx("li",{children:"Sometimes the invitation mail may take time to receive, please wait and enjoy ðŸ˜Š."}),e.jsx("li",{children:"For resending the invitation, click on the new button, enter the email, and press the plus button."})]})}),e.jsxs("div",{className:"dropdown-container",children:[e.jsx("label",{htmlFor:"data-count",children:"Show: "}),e.jsxs("select",{id:"data-count",value:i,onChange:s=>g(Number(s.target.value)),children:[e.jsx("option",{value:3,children:"3"}),e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:30,children:"30"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:500,children:"500"})]}),e.jsx("div",{className:"results-info",children:`Showing ${C+1} to ${Math.min(i,m)} of ${m}`})]}),w&&e.jsx("div",{className:"popup-overlay",onClick:d,children:e.jsxs("div",{className:"popup-container",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{children:"Add New User"}),e.jsx("input",{type:"text",placeholder:"Enter Name",value:j,onChange:s=>b(s.target.value),className:"popup-input"}),e.jsx("input",{type:"email",placeholder:"Enter Email",value:v,onChange:s=>N(s.target.value),className:"popup-input"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:d,children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:U,disabled:n,children:n?"Saving...":"Save"})]})]})}),u.visible&&e.jsx("div",{className:"snackbar",children:u.message}),n&&e.jsx("div",{className:"loading-spinner-overlay",children:e.jsx(p,{color:"#36d7b7",size:50})}),o.length===0?e.jsx("div",{className:"no-users-found",children:e.jsx("h3",{children:"No drawmasters yet, click on the new button and add new drawmaster.	"})}):e.jsx("div",{className:"box-container",children:o.slice(0,i).map((s,a)=>e.jsxs("div",{className:"user-box",children:[e.jsxs("div",{className:"user-header",children:[e.jsx("div",{className:"header-name",children:s.UserName}),e.jsx("div",{className:"header-email",children:s.UserEmail})]}),e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"whatsapp-button",onClick:()=>y(s.UserName,s.UserEmail),children:"Share on WhatsApp"}),e.jsx(A,{className:"delete-icon",onClick:()=>E(s.UserRoleId)})]}),f&&e.jsx("div",{className:"popup-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"popup-container",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{children:"Are you sure you want to delete this user?"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:()=>c(!1),children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:S,disabled:n,children:n?e.jsx(p,{size:20,color:"#fff"}):"Confirm"})]})]})})]},a))})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"maintitle",children:"Manage Projectors"}),e.jsxs("div",{className:"button-row",children:[e.jsx("button",{className:"button button-blue",children:"Create Yourself As A Projector"}),e.jsx("button",{onClick:k,className:"button button-green",style:{marginLeft:"10px"},children:"New"})]}),e.jsx("div",{className:"paragraph-container",children:e.jsxs("ul",{children:[e.jsx("li",{children:"If you want to add yourself as a Projector or add an existing user of eTalenter, enter email ID and press the add button."}),e.jsx("li",{children:"For creating a new user, the name field is mandatory."}),e.jsx("li",{children:"Sometimes the invitation mail may take time to receive, please wait and enjoy ðŸ˜Š."}),e.jsx("li",{children:"For resending the invitation, click on the new button, enter the email, and press the plus button."})]})}),e.jsxs("div",{className:"dropdown-container",children:[e.jsx("label",{htmlFor:"data-count",children:"Show: "}),e.jsxs("select",{id:"data-count",value:i,onChange:s=>g(Number(s.target.value)),children:[e.jsx("option",{value:3,children:"3"}),e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:30,children:"30"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:500,children:"500"})]}),e.jsx("div",{className:"results-info",children:`Showing ${C+1} to ${Math.min(i,m)} of ${m}`})]}),w&&e.jsx("div",{className:"popup-overlay",onClick:d,children:e.jsxs("div",{className:"popup-container",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{children:"Add New User"}),e.jsx("input",{type:"text",placeholder:"Enter Name",value:j,onChange:s=>b(s.target.value),className:"popup-input"}),e.jsx("input",{type:"email",placeholder:"Enter Email",value:v,onChange:s=>N(s.target.value),className:"popup-input"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:d,children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:U,disabled:n,children:n?"Saving...":"Save"})]})]})}),u.visible&&e.jsx("div",{className:"snackbar",children:u.message}),n&&e.jsx("div",{className:"loading-spinner-overlay",children:e.jsx(p,{color:"#36d7b7",size:50})}),o.length===0?e.jsx("div",{className:"no-users-found",children:e.jsx("h3",{children:"No drawmasters yet, click on the new button and add new drawmaster.	"})}):e.jsx("div",{className:"box-container",children:o.slice(0,i).map((s,a)=>e.jsxs("div",{className:"user-box",children:[e.jsxs("div",{className:"user-header",children:[e.jsx("div",{className:"header-name",children:s.UserName}),e.jsx("div",{className:"header-email",children:s.UserEmail})]}),e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"whatsapp-button",onClick:()=>y(s.UserName,s.UserEmail),children:"Share on WhatsApp"}),e.jsx(A,{className:"delete-icon",onClick:()=>E(s.UserRoleId)})]}),f&&e.jsx("div",{className:"popup-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"popup-container",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{children:"Are you sure you want to delete this user?"}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{className:"button button-red",onClick:()=>c(!1),children:"Cancel"}),e.jsx("button",{className:"button button-green",onClick:S,disabled:n,children:n?e.jsx(p,{size:20,color:"#fff"}):"Confirm"})]})]})})]},a))})]})]})}export{H as default};
