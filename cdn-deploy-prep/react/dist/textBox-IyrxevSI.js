import{r as g,j as e}from"./main-T_zjahGS.js";import{c}from"./utilities-CN4lTu6a.js";import{V as o}from"./validationMessage-DUn8aBkg.js";import{F as $,a as R,b as G}from"./EyeSlashIcon-BB1DDSpg.js";import{F as H}from"./EyeIcon-Ck-Iab8v.js";import{F as I}from"./ChatBubbleBottomCenterTextIcon-XMd3afVx.js";const X=({fieldName:s,label:h,placeholder:M,errors:i,register:q,formData:a,optional:w,maxLength:f,onChange:y,type:r,pattern:L,minLength:b,autocomplete:S,step:C,disabled:n,max:F,labelFont:N,noLabel:P,readonly:_,validate:E,component:x,isCoordinatorView:u})=>{let T=i?.[s],[t,m]=g.useState(T);t&&console.log("error",t),g.useEffect(()=>{m(i?.[s])},[i?.[s]]);let A=s.includes("."),p=s.split(".")[0],v=i?.[p],k=v?s.split(".")[1]:null;g.useEffect(()=>{if(A){let l=v?.[k];m(l||"")}},[i?.[p],[i?.[p]?.[k]]]);const[d,B]=g.useState(!1),O=()=>{B(!d)};return e.jsxs("div",{className:"sm:col-span-4",children:[e.jsxs("label",{htmlFor:s,className:c(N||"block text-sm font-medium leading-6 ",t?"text-danger":"text-gray-900"),children:[P?"":h||s,!w&&e.jsx("span",{className:"text-danger pl-1",children:"*"})]}),e.jsxs("div",{className:c("relative rounded-md shadow-sm flex",n?"":"mt-2"),children:[r=="email"&&e.jsx("div",{className:c("pointer-events-none absolute inset-y-0 left-0 flex items-center",n?"":"pl-3"),children:e.jsx($,{"aria-hidden":"true",className:"h-5 w-5 "+(t?"text-red-400":"text-gray-400")})}),r=="phone"&&e.jsx("div",{className:c("pointer-events-none absolute inset-y-0 left-0 flex items-center",n?"":"pl-3"),children:e.jsx(R,{"aria-hidden":"true",className:"h-5 w-5 "+(t?"text-red-400":"text-gray-400")})}),n?e.jsx("div",{className:c(r==="email"||r==="phone"?"pl-7":"pl-0","block w-full py-1.5 print:py-1 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",n?"text-gray-500":""),children:a?.[s]??"-"}):e.jsx("input",{type:d?"text":r==="password"&&!d?"password":r?.toLowerCase()||"text",readOnly:_,step:C||null,...q(s,{required:!w,maxLength:f||200,pattern:L||null,minLength:b||0,max:F||null,validate:l=>{if(E)return E(l);if(x?.reEnterFieldName){let z=x.reEnterFieldName.charAt(0).toLowerCase()+x.reEnterFieldName.slice(1);var j=a[z];if(j||(j=a[x.reEnterFieldName]),l!==j)return"Value does not match"}return!0}}),onChange:l=>{y&&y(l),m("")},disabled:n,autoComplete:S||"off",className:c(r==="email"||r==="phone"?"pl-10":"pl-3","block w-full rounded-md border-0 py-1.5 ring-1 ring-inset  focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",t?"border-danger focus:border-danger focus:ring-0 focus:ring-red-700 placeholder:text-red-400 ring-red-300 ":"text-gray-900  focus:border-darkprimary focus:ring-0 placeholder:text-gray-400 ring-gray-300 ",n?"bg-gray-200 text-gray-500":""),placeholder:M||"Enter "+h}),r==="password"&&e.jsx("span",{className:"absolute right-0 top-0 ml-2 cursor-pointer bg-gray-100 m-2",onClick:O,children:d?e.jsx(G,{className:"h-5 w-5 text-gray-600 bg-gray-100"}):e.jsx(H,{className:"h-5 w-5 text-gray-600 bg-gray-100"})}),u&&r==="phone"&&e.jsx("a",{target:"_new",href:`https://wa.me/${a?.[s]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(I,{className:"h-4 w-4 inline-block text-gray-400"})})}),u&&r==="phone"&&a?.[s]&&e.jsx("a",{target:"_new",href:`tel:${a?.[s]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx(R,{className:"h-4 w-4 inline-block text-gray-400"})})}),u&&r==="email"&&a?.[s]&&e.jsx("a",{target:"_new",href:`mailto:${a?.[s]}`,className:"print:hidden",children:e.jsx("span",{className:"mr-1",children:e.jsx($,{className:"h-4 w-4 inline-block text-gray-400"})})})]}),t&&e.jsx("div",{children:(()=>{switch(t.type){case"required":return e.jsx(o,{message:h+" is required"});case"maxLength":return e.jsx(o,{message:"Max length is "+f});case"max":return e.jsx(o,{message:"Value must be less or equal than "+F});case"minLength":return e.jsx(o,{message:"Min length is "+b});case"pattern":return e.jsx(o,{message:"Format of this field is not valid"});case"validate":return e.jsx(o,{message:t.message})}})()})]})};export{X as default};
