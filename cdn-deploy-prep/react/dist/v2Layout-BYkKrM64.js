import{r,j as e,u as Q,a as X,L as oe,_ as F,b as G,s as le,d as v,l as ce,q as de,g as ue,O as me}from"./main-T_zjahGS.js";import{F as he}from"./CheckCircleIcon-CJURfTdD.js";import{F as Y}from"./GlobeAltIcon-CrR_xF5-.js";import{F as pe,e as _,b as E,d as L,c as $,a as T}from"./UserCircleIcon-CAQUR_Uo.js";import{F as P,a as A}from"./StarIcon-D4sm9Ywu.js";import{F as l}from"./PrinterIcon-DI82WFn5.js";import{F as S}from"./UserGroupIcon-BlDqOlR0.js";import{F as k}from"./UserIcon-BsgGGmIr.js";import{F as V}from"./CalendarDaysIcon-BRw_5Sx3.js";import{F as ge}from"./XMarkIcon-Bl4X_gzv.js";function xe({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const fe=r.forwardRef(xe),we=({user:t})=>{const n=new Date().getFullYear();return e.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{children:["© ",n," eTalenter Platform"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Made with"}),e.jsx(fe,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{children:"for competitions"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["User: ",t.UserName]}),e.jsx("span",{children:"•"})]}),e.jsx("span",{children:"v2.0.0"}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Build: ",new Date().toLocaleDateString()]})]})]})})};function be({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const ve=r.forwardRef(be);function ye({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const H=r.forwardRef(ye);function je({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const Re=r.forwardRef(je);function Ce({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const q=r.forwardRef(Ce);function ke({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M4.5 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5h-.75V3.75a.75.75 0 0 0 0-1.5h-15ZM9 6a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm-.75 3.75A.75.75 0 0 1 9 9h1.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 12a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm3.75-5.25A.75.75 0 0 1 13.5 6H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM13.5 9a.75.75 0 0 0 0 1.5H15A.75.75 0 0 0 15 9h-1.5Zm-.75 3.75a.75.75 0 0 1 .75-.75H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM9 19.5v-2.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 9 19.5Z",clipRule:"evenodd"}))}const Ne=r.forwardRef(ke);function Se({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const K=r.forwardRef(Se);function Ee({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const Pe=r.forwardRef(Ee);function Me({title:t,titleId:n,...s},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const Ie=r.forwardRef(Me),ee=r.forwardRef(({user:t,isSidebarCollapsed:n,onSidebarToggle:s,pageContext:c},m)=>{const y=Q(),u=X(y),[N,h]=r.useState(!1),[j,p]=r.useState(!1),[a,i]=r.useState(!1),[g,w]=r.useState(!1),[R,M]=r.useState([]),I=r.useRef(null),x=r.useRef(null),C=r.useRef(null);r.useEffect(()=>{const o=d=>{I.current&&!I.current.contains(d.target)&&h(!1),x.current&&!x.current.contains(d.target)&&p(!1),C.current&&!C.current.contains(d.target)&&i(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),r.useEffect(()=>{(async()=>{try{if(!t||t.UId===0||t.Role===2||t.Role===15)return;const{post:d}=await F(async()=>{const{post:U}=await import("./httpService-DhFNxXIP.js").then(O=>O.h);return{post:U}},[]),{data:f}=await d("/UsersRolesPlusUsersJson/GetRoles",{},!1),{Results:b}=f;b&&b.length>0?M(b):console.warn("Failed to load roles from API")}catch(d){console.error("Error loading roles from API:",d);try{const f=localStorage.getItem("roles");if(f){const b=JSON.parse(f);M(b||[])}}catch(f){console.error("Error loading roles from localStorage:",f)}}})()},[t]);const re=async()=>{try{await le(),u("/Account/Login")}catch(o){console.error("Logout error:",o)}},ae=async()=>{try{Object.keys(localStorage).forEach(f=>{!f.includes("user")&&!f.includes("/")&&localStorage.removeItem(f)}),sessionStorage.removeItem("bindmanagercache");const{post:d}=await F(async()=>{const{post:f}=await import("./httpService-DhFNxXIP.js").then(b=>b.h);return{post:f}},[]);await d("/CoordinatorJson/ClearCacheFolder",{}),window.location.reload()}catch(o){console.error("Clear cache error:",o),window.location.reload()}},J=()=>{if(!t?.UserName)return"U";const o=t.UserName.split(" ");return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():t.UserName[0].toUpperCase()},Z=()=>G[t?.Role]||"User",ne=async o=>{try{w(!0),i(!1);const d=new FormData;d.append("Email",o.UserEmail||t?.Email||""),d.append("Password","_"),d.append("MyRole",o.Role),d.append("UserRoleId",o.UserRoleId),d.append("GoogleToken","");const{post:f}=await F(async()=>{const{post:U}=await import("./httpService-DhFNxXIP.js").then(O=>O.h);return{post:U}},[]),b=await f("/AccountJson/LoginUser",d,!0);if(b&&b.data&&b.data.success){const{user:U,token:O}=b.data,ie={user:U,token:O};localStorage.setItem("user",JSON.stringify(ie));const{triggerRouterReload:se}=await F(async()=>{const{triggerRouterReload:D}=await import("./routerReload-BW9FwukZ.js");return{triggerRouterReload:D}},[]);se("Role switched successfully");const W=U.Role===12?"/SetUp/Events":"/Home/Index";setTimeout(()=>{try{u(W),console.log("V2Header - Role switch navigation completed")}catch(D){console.warn("V2Header - Navigation failed, falling back to page reload:",D),window.location.href=W}},200),setTimeout(()=>{(window.location.pathname.includes("404")||window.location.pathname==="/")&&(console.log("V2Header - Fallback: Reloading page due to navigation issue"),window.location.reload())},3e3),console.log("V2Header - Role switch completed successfully"),w(!1)}else console.error("Role switch failed:",b?.data?.message),w(!1)}catch(d){console.error("Error switching role:",d),w(!1)}},B=o=>{switch(parseInt(o)){case 9:return"monitor";case 12:return"corporate_fare";case 5:return"group_work";case 8:return"manage_accounts";case 6:return"gavel";case 13:return"shuffle";case 11:return"visibility";case 2:return"person";case 15:return"family_restroom";default:return"account_circle"}},z=(o,d)=>{switch(parseInt(o)){case 9:return"Projector Handler";case 12:return"Events Manager";case 5:return"Coordinator";case 8:return"SubCoordinator";case 6:return"Judge";case 13:return"Draw Master";case 11:return"Content Viewer";default:return d||G[o]||"User"}};return e.jsxs("header",{className:"bg-gradient-to-r from-darkprimary via-primary to-darkprimary border-b border-gray-600 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between h-12 px-2 lg:px-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{ref:m,onClick:s,className:"p-2 rounded-md text-white hover:text-gray-300 hover:bg-white/10 transition-all duration-200 group",children:e.jsx(Re,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"})}),t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&R.length>0&&e.jsxs("div",{className:"relative",ref:C,children:[e.jsxs("button",{onClick:()=>i(!a),className:`flex flex-col items-center justify-center py-2 px-2 w-20 relative cursor-pointer text-xs text-white hover:text-white hover:bg-white/10 transition-all duration-200 bg-black/30 backdrop-blur-sm rounded-lg group ${a?"bg-white/20 text-white border border-white/30 shadow-lg":""}`,children:[e.jsx("span",{className:"material-symbols-outlined text-base mr-1 group-hover:scale-110 transition-transform duration-200",children:"swap_horizontal_circle"}),e.jsx("span",{className:"text-[8px] font-medium",children:"My Roles"})]}),a&&e.jsxs("div",{className:"absolute top-full w-auto py-1 max-w-[70vw] bg-gray-900/95 backdrop-blur-sm border border-white/20 rounded-lg shadow-xl z-50 text-base text-left mt-2",children:[e.jsx("div",{className:"mb-1",children:e.jsxs("button",{className:"flex items-center w-full py-3 px-4 bg-primary/20 text-left border-none cursor-default text-sm rounded-t-lg",children:[e.jsx(he,{className:"w-5 h-5 mr-3 flex-shrink-0 text-green-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate",children:z(t.Role,t.RoleTitle)}),t.EventName&&e.jsxs("span",{className:"text-green-300 text-xs flex items-center truncate",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),t.EventName]})]})]})}),R.filter(o=>o.UserRoleId!==t?.UserRoleId).map((o,d)=>e.jsxs("button",{onClick:()=>ne(o),className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-white/10 transition-all duration-200 text-sm group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-blue-300 group-hover:text-blue-200 group-hover:scale-110 transition-all duration-200",children:B(o.Role)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate group-hover:text-blue-200 transition-colors duration-200",children:z(o.Role,o.RoleTitle)}),o.EventEventName&&e.jsxs("span",{className:"text-gray-300 text-xs flex items-center truncate",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),o.EventEventName]})]})]},o.UserRoleId||d)),R.length>0&&e.jsxs("button",{onClick:()=>{i(!1),u("/MyRoles/Index")},className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-white/10 transition-all duration-200 text-xs border-t border-white/20 mt-1 group rounded-b-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-gray-300 group-hover:text-white group-hover:scale-110 transition-all duration-200",children:"tune"}),e.jsx("span",{className:"text-gray-300 font-semibold group-hover:text-white transition-colors duration-200",children:"Manage All Roles"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&e.jsxs("button",{onClick:ae,className:"flex items-center space-x-1 px-3 py-2 rounded-lg text-white hover:text-gray-300 hover:bg-white/10 transition-all duration-200 group backdrop-blur-sm",title:"Clear Cache and Refresh",children:[e.jsx(ve,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-300"}),e.jsx("span",{className:"hidden sm:inline text-xs font-medium",children:"Clear Cache"})]}),e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("button",{onClick:()=>p(!j),className:"p-2 rounded-full text-white hover:text-gray-300 hover:bg-white/10 transition-all duration-200 relative group",children:[e.jsx(q,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse"})]}),j&&e.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl ring-1 ring-black/5 z-50 border border-white/20",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-2 text-primary"}),"Notifications"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2 group-hover:scale-125 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:"New competition results available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2 group-hover:scale-125 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:"Event registration completed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("button",{className:"text-xs text-primary hover:text-primaryHover font-medium flex items-center group",children:[e.jsx(pe,{className:"h-3 w-3 mr-1 group-hover:scale-110 transition-transform duration-200"}),"View all notifications"]})})]})})]}),e.jsxs("div",{className:"relative",ref:I,children:[e.jsxs("button",{onClick:()=>h(!N),className:"flex items-center space-x-2 p-2 rounded-xl text-white hover:bg-white/10 transition-all duration-200 group backdrop-blur-sm",children:[e.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-primary to-primaryHover rounded-full flex items-center justify-center text-white text-xs font-bold ring-2 ring-white/20 group-hover:ring-white/40 transition-all duration-200",children:J()}),e.jsxs("div",{className:"hidden lg:block text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-white group-hover:text-gray-200 transition-colors duration-200",children:t?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-300 group-hover:text-gray-400 transition-colors duration-200",children:Z()})]}),e.jsx(K,{className:"h-4 w-4 text-gray-300 group-hover:text-white group-hover:rotate-180 transition-all duration-200"})]}),N&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl ring-1 ring-black/5 z-50 border border-white/20",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-primary to-primaryHover rounded-full flex items-center justify-center text-white text-sm font-bold ring-2 ring-primary/20",children:J()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:t?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t?.Email}),e.jsxs("p",{className:"text-xs text-primary font-medium flex items-center",children:[e.jsx("span",{className:"material-symbols-outlined text-xs mr-1",children:B(t?.Role)}),Z()]})]})]})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-100/80 transition-all duration-200 group",onClick:()=>{h(!1),u("/Profile/Settings")},children:[e.jsx(_,{className:"h-5 w-5 mr-3 text-gray-500 group-hover:text-primary group-hover:scale-110 transition-all duration-200"}),e.jsx("span",{className:"group-hover:text-gray-900 transition-colors duration-200",children:"Profile Settings"})]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-100/80 transition-all duration-200 group",onClick:()=>{h(!1),u("/Settings/Preferences")},children:[e.jsx(Ie,{className:"h-5 w-5 mr-3 text-gray-500 group-hover:text-primary group-hover:rotate-180 transition-all duration-300"}),e.jsx("span",{className:"group-hover:text-gray-900 transition-colors duration-200",children:"Preferences"})]}),e.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:e.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50/80 transition-all duration-200 group rounded-b-xl",onClick:()=>{h(!1),re()},children:[e.jsx(H,{className:"h-5 w-5 mr-3 group-hover:scale-110 group-hover:translate-x-1 transition-all duration-200"}),e.jsx("span",{className:"group-hover:text-red-700 transition-colors duration-200",children:"Sign Out"})]})})]})]})]})]})]}),g&&e.jsx(oe,{from:"V2Header-RoleSwitch",info:"Switching Role..."})]})});ee.displayName="V2Header";const Ue=({user:t,isCollapsed:n,isMobile:s})=>{const c=Q(),m=X(c),[y,u]=r.useState({}),N=a=>{u(i=>{if(i[a])return{...i,[a]:!1};{const w={};return Object.keys(i).forEach(R=>{w[R]=!1}),w[a]=!0,w}})},h=a=>{a&&a!=="#"&&(a==="/Account/LogOff"?F(async()=>{const{logoutUser:i}=await import("./main-T_zjahGS.js").then(g=>g.x);return{logoutUser:i}},[]).then(({logoutUser:i})=>{i(),m("/Account/Login")}):m(a))},j=r.useMemo(()=>{if(!t||t.Role===7||t.Role===0)return[];const a=[],i=parseInt(t.Role,10);switch(i){case v.PROJECTOR:break;case v.USER:break;case v.COORDINATOR:t.EventCreator,t.UId;break;default:t.RoleTitle}return i===v.JUDGE&&a.push({key:"judge-panel",title:"Judge Panel",icon:P,url:"/Coordinator/RenderScoreCardV2",children:[]}),i===v.PROJECTOR&&a.push({key:"token-system",title:"Token System",icon:A,url:"/Coordinator/tokensystem",children:[]},{key:"competition-status",title:"Competition Status",icon:E,url:"/Coordinator/CompetitionStatus",children:[]}),i===v.DRAW_MASTER&&a.push({key:"draw-score-card",title:"Draw Score Card",icon:A,url:"/Coordinator/DrawCard",children:[]},{key:"print-competition-candidates",title:"Print Competition Candidates",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]}),i===v.CONTENT_ADMIN&&a.push({key:"print-competition-candidates",title:"Print Competition Candidates",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]},{key:"print-score-card",title:"Print Score Card",icon:l,url:"/Coordinator/PrintScoreCard",children:[]},{key:"print-judges-score",title:"Print Judges Score",icon:l,url:"/Coordinator/PrintJudgesScore",children:[]},{key:"print-result",title:"Print Result",icon:l,url:"/Coordinator/PrintResult",children:[]}),i===v.SUB_COORDINATOR&&a.push({key:"event-dashboard",title:"Event Dashboard",icon:E,url:"/Home/Index",children:[]},{key:"participants-management",title:"Participants Management",icon:S,url:"/Coordinator/ManageBulkParticipants",children:[]},{key:"candidate-management",title:"Candidate Management",icon:k,url:"/Coordinator/ManageCandidates",children:[]},{key:"team-management",title:"Team Management",icon:S,url:"/Coordinator/ManageTeams",children:[]},{key:"participants-by-competitions",title:"Participants by Competitions",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]},{key:"competitions-by-participant",title:"Competitions by Participant",icon:l,url:"/Coordinator/ParticipantsWiseCompetitions",children:[]}),i===v.USER&&a.push({key:"events",title:"Events",icon:E,url:"/SetUp/RenderManageEvent",children:[]},{key:"my-roles",title:"My Roles",icon:k,url:"/Setup/RenderUserRoles",children:[]}),i===v.COORDINATOR&&(a.push({key:"event-dashboard",title:"Event Dashboard",icon:E,url:"/Home/Index",children:[]}),a.push({key:"event-setup",title:"Event Setup",icon:$,url:"#",children:[{key:"manage-event",title:"Manage Event",icon:E,url:"/SetUp/RenderManageEvent"},{key:"ai-competitions",title:"AI Competitions & Group Generation",icon:A,url:"/SetUp/RenderOpenAiCompetitionStructure"},{key:"age-groups",title:"Age Groups Setup",icon:S,url:"/SetUp/ManageGroups"},{key:"competition-categories",title:"Competition Categories Setup",icon:Ne,url:"/SetUp/ManageCompetitionItems"},{key:"assign-competitions",title:"Assign Competitions to Groups",icon:P,url:"/CompetitionStructure/Tab"},{key:"public-registration",title:"Public Registration Form Setup",icon:L,url:"/SetUp/ManagePublicRegistrationForm"},{key:"advanced-config",title:"Advanced Event Configuration",icon:$,url:"/SetUp/EventAdvancedSettings"},{key:"scoring-setup",title:"Scoring Setup",icon:A,url:"/SetUp/ScoreSettings"},{key:"id-card-config",title:"ID Card Configuration",icon:_,url:"/SetUp/IdPrefix"},{key:"structure-status",title:"Competition Structure Status",icon:E,url:"/CompetitionStructure/Status"}]}),a.push({key:"participants-management",title:"Participants Management",icon:S,url:"#",children:[{key:"bulk-participants",title:"Bulk Participant Management",icon:S,url:"/SetUp/IframeRender"},{key:"candidate-management",title:"Candidate Management",icon:k,url:"/Coordinator/ManageCandidates"},{key:"team-management",title:"Team Management",icon:S,url:"/Coordinator/ManageTeams"},{key:"assign-teams",title:"Assign Participants to Teams",icon:S,url:"/CompetitionParticipantsTeamMembers/Manage"},{key:"candidates-detailed",title:"Candidates Detailed List",icon:L,url:"/Coordinator/RenderCandidatesDetailedList"}]}),a.push({key:"print-participants",title:"Print - Participants",icon:l,url:"#",children:[{key:"id-cards",title:"Participant ID Cards",icon:l,url:"/Coordinator/CandidatesCards"},{key:"participants-by-competitions",title:"Participants by Competitions",icon:l,url:"/Coordinator/PrintCompetitionCandidates"},{key:"competitions-by-participant",title:"Competitions by Participant",icon:l,url:"/Coordinator/ParticipantsWiseCompetitions"},{key:"participants-by-competitions-old",title:"Participants by Competitions - Old",icon:l,url:"/Coordinator/LocalWiseParticipants"},{key:"judges-score-sheet",title:"Judges Score Sheet",icon:l,url:"/Coordinator/PrintScoreCard"}]}),a.push({key:"users-roles",title:"Users & Roles",icon:k,url:"#",children:[{key:"invite-judges",title:"Invite & Assign Judges",icon:k,url:"/UsersAndRoles"},{key:"assign-judges",title:"Assign Judges to Competitions",icon:P,url:"/JudgesAllotment/Manage"},{key:"content-viewer",title:"Invite Content Viewer",icon:k,url:"/Coordinator/ContentAdmin"},{key:"draw-masters",title:"Invite Draw Masters",icon:k,url:"/Coordinator/DrawMaster"},{key:"projector-access",title:"Projector Access",icon:k,url:"/Coordinator/projector"}]}),a.push({key:"judging-scoring",title:"Judging & Scoring",icon:P,url:"#",children:[{key:"judge-scoring",title:"Judge Scoring Panel",icon:A,url:"/Coordinator/RenderScoreCardV2"},{key:"view-scores",title:"View Judge Scores",icon:P,url:"/JudgesScoreCard/Manage"},{key:"scoring-breakdown",title:"View Scoring Criteria Breakdown",icon:P,url:"/JudgesDetailedScoreCard/Manage"},{key:"score-history",title:"Score History Log",icon:P,url:"/ScoreLog/View"}]}),a.push({key:"manage-results",title:"Manage Results",icon:T,url:"#",children:[{key:"results-status",title:"Results Status",icon:E,url:"/Coordinator/RenderResultsStatus"},{key:"assign-winners",title:"Review & Assign Winners",icon:T,url:"/Coordinator/Results"}]}),a.push({key:"print-results",title:"Print - Final Results",icon:l,url:"#",children:[{key:"judges-scores",title:"Judge's Scores",icon:l,url:"/Coordinator/PrintJudgesScore"},{key:"all-results",title:"All Participant Result",icon:l,url:"/Coordinator/PrintResult"},{key:"result-presentation",title:"Result Presentation",icon:l,url:"/Coordinator/RenderResultPresentation"},{key:"live-results",title:"Live Result Presentation",icon:l,url:"/Coordinator/RenderLiveResultPresentation"},{key:"publish-results-online",title:"Publish Results Online",icon:l,url:"/Coordinator/PublishResults"},{key:"publish-results-awards",title:"Publish Results With Awards",icon:l,url:"/Coordinator/PublishResultsWithAwards"},{key:"publish-podium-results",title:"Publish Podium Results",icon:l,url:"/Coordinator/PublishPodiumResults"},{key:"publish-individual-results",title:"Publish Individual Results",icon:l,url:"/Coordinator/PublishIndividualResults"},{key:"calculate-awards",title:"Calculate Awards",icon:T,url:"/Coordinator/PublishAwardsResults"},{key:"candidate-wise-results",title:"Candidate Wise Results",icon:E,url:"/Coordinator/CandidateWiseResults"},{key:"trophy-stickers",title:"Trophy Stickers",icon:l,url:"/Coordinator/StickerBasedResults"},{key:"trophy-individual-stickers",title:"Trophy Individual Stickers",icon:l,url:"/Coordinator/StickerBasedIndividualResults"},{key:"champion-certificate",title:"Champion Certificate",icon:L,url:"/Coordinator/PrintTopCertificate"},{key:"rank-certificates",title:"Rank Certificates",icon:L,url:"/Coordinator/PrintCertificate"},{key:"participation-certificates",title:"Participation Certificates",icon:L,url:"/Coordinator/PrintParticipantCertificate"},{key:"social-media",title:"Publish to Social Media",icon:l,url:"/Coordinator/RenderPublishToSocialMedia"}]}),a.push({key:"time-management",title:"Time Management",icon:V,url:"#",children:[{key:"competition-schedule",title:"Competition Schedule Table",icon:V,url:"/CompetitionSchedule/Manage"},{key:"automate-schedule",title:"Automate Competition Schedule",icon:V,url:"/CompetitionSchedule/AutomateSchedule"},{key:"event-stages",title:"Event Stages",icon:$,url:"/EventStages/Manage"},{key:"token-system",title:"Token System",icon:A,url:"/Coordinator/tokensystem"}]}),a.push({key:"draw",title:"Draw",icon:T,url:"#",children:[{key:"competition-wise-draw",title:"Competition Wise Draw",icon:T,url:"/Coordinator/DrawCard"}]}),a.push({key:"account-settings",title:"Account Settings",icon:_,url:"#",children:[{key:"manage-account",title:"Manage Account",icon:k,url:"/Profile/ProfileSettings"},{key:"my-roles",title:"My Roles",icon:S,url:"/MyRoles/Index"},{key:"logs",title:"Logs",icon:P,url:"/Coordinator/ActivityLog"}]}),a.push({key:"logout",title:"Log Out",icon:H,url:"/Account/LogOff",children:[]})),i!==v.COORDINATOR&&i!==v.JUDGE&&(a.push({key:"account-settings",title:"Account Settings",icon:_,url:"#",children:[{key:"manage-account",title:"Manage Account",icon:k,url:"/Profile/ProfileSettings"},{key:"my-roles",title:"My Roles",icon:S,url:"/MyRoles/Index"}]}),a.push({key:"logout",title:"Log Out",icon:H,url:"/Account/LogOff",children:[]})),a},[t]),p=(a,i=0)=>{const g=a.children&&a.children.length>0,w=y[a.key],R=a.icon;return n&&i>0?null:e.jsxs("div",{className:"mb-px",children:[e.jsx("a",{href:g&&!n?"#":ce(a.url||"#"),onClick:M=>{M.preventDefault(),g&&!n?N(a.key):g||h(a.url)},className:`
            w-full flex items-center transition-colors duration-500 ease-in no-underline
            ${i===0?`text-white bg-[#061627] hover:bg-primary hover:text-white ${n?"px-2 py-3 justify-center":"px-3 py-2"}`:"text-white bg-[#0e2442] hover:bg-[#356ba8] px-3 py-2 border-l-[6px] border-gray-600 pl-6"}
            ${!n&&g?"justify-between":""}
          `,title:n?a.title:void 0,children:n&&i===0?e.jsx(R,{className:"h-5 w-5 text-white"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx(R,{className:`
                    h-4 w-4 flex-shrink-0 text-white mr-3
                  `}),!n&&e.jsx("span",{className:`text-sm ${i===0?"font-medium":"font-normal"} truncate`,children:a.title})]}),g&&!n&&e.jsx("div",{className:"flex-shrink-0 ml-2",children:w?e.jsx(K,{className:"h-4 w-4 text-white"}):e.jsx(Pe,{className:"h-4 w-4 text-white"})})]})}),g&&w&&!n&&e.jsx("div",{className:"space-y-px",children:a.children.map(M=>p(M,i+1))})]},a.key)};return e.jsx("nav",{className:`flex-1 px-0 py-2 space-y-px ${n?"":"pl-3"}`,children:j.map(a=>p(a))})},te=r.forwardRef(({isCollapsed:t,isHoverExpanded:n,isMobile:s,onToggle:c,onMouseEnter:m,onMouseLeave:y,user:u,pageContext:N},h)=>{const j=u?.Role===v.USER,p=!t||n,i=j?{logoUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",iconUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ET-Favicon-white-blue-bg.png",title:"eTalenter",subtitle:"Competition Platform"}:{logoUrl:u?.OrganizationLogo,iconUrl:u?.OrganizationLogo,title:u?.Name||"Organization",subtitle:u?.EventName||"Competition Platform"};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .sidebar-scroll::-webkit-scrollbar {
          width: 8px;
        }

        .sidebar-scroll::-webkit-scrollbar-track {
          background: transparent;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb {
          border-radius: 4px;
          background-image: linear-gradient(to top, #194299 44%, #3178ce 72%, #1c3a94 86%, #3178ce 72%);
        }

        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
          background-image: linear-gradient(to top, #1a4db3 44%, #4285d1 72%, #1d3ea7 86%, #4285d1 72%);
        }
        `}),e.jsxs("div",{ref:h,onMouseEnter:m,onMouseLeave:y,className:`
        bg-black border-r border-gray-800 shadow-lg flex flex-col transition-all duration-300 ease-in-out
        ${s?`fixed inset-y-0 left-0 z-50 ${t?"-translate-x-full":"translate-x-0"} w-96`:`relative ${p?"w-96":"w-16"}`}
        ${n&&!s?"z-50 shadow-2xl":""}
      `,children:[e.jsxs("div",{className:`
          flex items-center h-14 px-3 border-b border-gray-800
          ${!p&&!s?"justify-center px-2":"justify-between"}
        `,children:[(p||s)&&e.jsx("div",{className:"flex items-center",children:j?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{src:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",alt:"eTalenter",className:"h-10 w-auto object-contain"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-8 w-8 flex items-center justify-center mr-3 shadow-sm",children:e.jsx("img",{src:i.iconUrl,alt:i.title,className:"h-8 w-8 rounded object-cover"})}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("h1",{className:"text-sm font-medium text-white truncate overflow-hidden whitespace-nowrap",children:i.title}),e.jsx("p",{className:"text-xs text-gray-200 truncate overflow-hidden whitespace-nowrap",children:i.subtitle})]})]})}),!p&&!s&&e.jsx("div",{className:"h-8 w-8 flex items-center justify-center shadow-sm",children:j?e.jsx("img",{src:i.iconUrl,alt:"eTalenter",className:"h-8 w-8 object-contain"}):e.jsx("img",{src:i.iconUrl,alt:i.title,className:"h-8 w-8 rounded object-cover"})}),s&&e.jsx("button",{onClick:c,className:"p-1.5 rounded-md text-gray-300 hover:text-white hover:bg-gray-800 transition-colors duration-200",children:e.jsx(ge,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-black sidebar-scroll",children:e.jsx(Ue,{user:u,isCollapsed:!p,isMobile:s})}),e.jsxs("div",{className:`
          border-t border-gray-800 p-3 bg-gray-900
          ${!p&&!s?"px-2":""}
        `,children:[(p||s)&&e.jsx("div",{className:"text-center"}),!p&&!s&&e.jsx("div",{className:"flex justify-center"})]})]})]})});te.displayName="V2Sidebar";const Je=({children:t})=>{const n=de(),{user:s,token:c}=ue()||{},[m,y]=r.useState(!1),[u,N]=r.useState(!1),[h,j]=r.useState(!1),[p,a]=r.useState(!0),i=r.useRef(null),g=r.useRef(null);r.useEffect(()=>{const x=()=>{j(window.innerWidth<1024),window.innerWidth<1024&&y(!0)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),r.useEffect(()=>{const x=C=>{h||i.current&&!i.current.contains(C.target)&&g.current&&!g.current.contains(C.target)&&(m&&u?N(!1):m||y(!0))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[h,m,u]);const w=()=>{!h&&m&&N(!0)},R=()=>{!h&&m&&setTimeout(()=>{N(!1)},100)};r.useEffect(()=>{const x=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(x)},[]);const I=(()=>{const x=n.pathname,C=x.split("/").filter(Boolean);return{controller:C[0]||"Home",action:C[1]||"Index",fullPath:x,breadcrumb:C.join(" > ")||"Home"}})();return p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Loading eTalenter..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(te,{ref:i,isCollapsed:m,isHoverExpanded:u,isMobile:h,onToggle:()=>y(!m),onMouseEnter:w,onMouseLeave:R,user:s,pageContext:I}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ee,{ref:g,user:s,isSidebarCollapsed:m,onSidebarToggle:()=>y(!m),pageContext:I}),e.jsx("main",{className:"flex-1 overflow-auto bg-gray-50",children:e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"min-h-full",children:t||e.jsx(me,{})})})}),e.jsx(we,{user:s})]})]}),h&&!m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>y(!0)}),e.jsx("div",{id:"global-spinner",className:"fixed inset-0 bg-white bg-opacity-75 z-50 hidden items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Processing..."})]})}),e.jsx("div",{id:"toast-container",className:"fixed top-4 right-4 z-50 space-y-2"}),e.jsx("div",{id:"modal-container",className:"fixed inset-0 z-50 hidden"})]})};export{Je as V};
