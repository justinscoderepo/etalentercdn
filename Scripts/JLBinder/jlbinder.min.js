/**
* @file - JQuery Based Binder for binding json data/objects
* @license - MIT License
* @copyright - Copyright (c) 2017 JavscriptLab https://github.com/JavscriptLab
* @author - Javascript Lab
* @version - 0.1
*/
var jllazyloadi,jllazyload;"use strict";var jlbinderwindowloaded=!1,allowJLBinder=!0,idInc=0,bindmanager={};bindmanager.cache={};bindmanager.cachequeue={};bindmanager.htmltemplates={};bindmanager.htmltemplatewrappers={};bindmanager.settings={};bindmanager.dynamicrows={};bindmanager.initevents={};window.location.href==getcache("currenturl")?(remcache("bindmanagercache"),remcache("currenturl")):setcache("currenturl",window.location.href);jllazyloadi={};jllazyload=function(n,t,i){jllazyloadi[n]||(jllazyloadi[n]=0);jllazyloadi[n]++;var r=jllazyloadi[n];setTimeout(function(){r==jllazyloadi[n]&&t()},i)};bindmanager.cachedata=function(n,t){bindmanager.cache[n]=t;t.CacheType=="Global"&&setcache("bindmanagercache",JSONstringify(bindmanager.cache))};bindmanager.cleardata=function(n){delete bindmanager.cache[n];setcache("bindmanagercache",JSONstringify(bindmanager.cache))};String.prototype.startsWith||(String.prototype.startsWith=function(n){return this.indexOf(n)==0?!0:!1});Date.prototype.isValid||(Date.prototype.isValid=function(){return!isNaN(this.getTime())}),function(n){var t,i,r;if(window.jf=n.fn,n.binder)return console.error("We can't initialized JLBinder. The reasons may be\n 1.its namespace $.binder already used in another js plugins.\n2.JLBinder already initialized"),!1;n.binder={clear:function(t){var i=t.attr(n.fn.binder.methods.data.data_json);n.fn.binder.methods.resetpagination(t);bindmanager.cache&&n.each(bindmanager.cache,function(n){n.startsWith(i)&&(bindmanager.cache[n]="")})},insert:function(t,i,r,u){var f,e,o;if(t.attr("data-binderinit")||t.binder({}),f=t.attr("id"),bindmanager.settings){e=bindmanager.settings[f];e.dynamicinsert=!0;r&&(e=n.extend(e,r));var c=e.pagestartswith?parseInt(e.pagestartswith):0,s=0,h=!1;if(n("#input_scroller_"+f).length>0&&(h=!0,s=n("#input_scroller_"+f).val(),n("#input_scroller_"+f).val(c-1)),e){if(bindmanager.dynamicrows[f]||(bindmanager.dynamicrows[f]=[]),i&&bindmanager.dynamicrows[f].push(i),typeof u!="undefined"&&u!==!0&&delete bindmanager.dynamicrows[f][u],u==!0||bindmanager.dynamicrows[f].length==0)return bindmanager.dynamicrows[f]=[],o=n(t.attr(n.fn.binder.methods.data.data_pagination)),o.length>0?(o.find("[data-dynamicrows]").hide(),n.fn.binder.methods.resetpagination(t),n.fn.binder.methods.success(t,e,{rows:n.extend({},bindmanager.dynamicrows[f])},f)):n.fn.binder.methods.success(t,e,{rows:n.extend({},bindmanager.dynamicrows[f])},f),!1;n.fn.binder.methods.success(t,e,{rows:n.extend({},bindmanager.dynamicrows[f])},f)}h&&n("#input_scroller_"+f).val(s)}},cleardynamicrows:function(n){this.insert(n,null,!1,!0)},remove:function(n,t,i){this.insert(n,null,i,t)},attr:function(t){var i={};return t&&n.each(t[0].attributes,function(){this.specified&&(i[this.name]=this.value)}),i},updatepage:function(){return obj},reload:function(t){n.fn.binder.methods.resetpaginationandbind(t)},addfilter:function(n,t,i){var u,f,r;if(n.attr("data-filterby-inline")){for(u=n.attr("data-filterby-inline").split(","),f=[],r=0;r<u.length;r++)u[r]&&u[r].split(t+":").length==1&&f.push(u[r]);i&&f.push(t+":"+i);n.attr("data-filterby-inline",f.join(","))}else n.attr("data-filterby-inline",t+":"+i)}};jf.setevent=function(t,i,r){var u=n(this),f;r?u.attr("data-binderperminit-"+t,i)?u.attr("data-binderperminit-"+t,i+","+u.attr("data-binderperminit-"+t,i)):u.attr("data-binderperminit-"+t,i):u.attr("data-binderinit-"+t)?u.attr("data-binderinit-"+t,i+","+u.attr("data-binderinit-"+t)):u.attr("data-binderinit-"+t,i);f=n.fn.binder.methods.attr(u);n.fn.binder.methods.initfn(n(u),f)};t={};i=0;window.consoleit=function(n,r,u){if(localStorage&&getcache("developermode")){u=u?u:"others";t[r]||(t[r]={});t[r][u]||(t[r][u]=[]);t[r][u].push({time:new Date,message:n,type:r});i++;var f=i;setTimeout(function(){var n,e,c,o,r,h;if(f==i){for(n in t)if(t.hasOwnProperty(n)){e=t[n];c=n=="s"?"Success":n=="e"?"Error":"Warning";console.log("%c -----------------------JLBinder "+c+"  Messages-----------------------",n=="s"?"color:Green":n=="e"?"color:red":"color:#b77702");console.log("%c **********************!!!!!!!!!!!!!!!!!!!!!!!!!!**********************","color:DodgerBlue");console.groupCollapsed("Expand to view all messages");for(o in e)if(e.hasOwnProperty(o)){r=e[o];console.groupCollapsed("Messages Related to "+o);for(h in r)if(r.hasOwnProperty(h)){var l=r[h],u=l.type,s=l.message;typeof s=="string"?u=="e"?console.error("%c"+s,u=="s"?"color:Green":u=="e"?"color:red":"color:#b77702"):console.log("%c"+s,u=="s"?"color:Green":u=="e"?"color:red":"color:#b77702"):console.log(s)}console.groupCollapsed("Table View");console.table(r);console.groupEnd();console.groupEnd()}console.groupEnd();console.log("%c **********************!!!!!!!!!!!!!!!!!!!!!!!!!!**********************","color:DodgerBlue")}t={}}},3e3)}};window.JSONstringify=function(n){var t="";try{t=JSON.stringify(n)}catch(i){return""}return t};window.JSONparse=function(t){var i="";try{i=n.parseJSON(t)}catch(r){return""}return i};window.IsJsonString=function(n){try{JSON.parse(n)}catch(t){return!1}return!0};n.fn.binder=function(t,i){for(var u,f,r=0;r<this.length;r++)u=n(this[r]),f=n.fn.binder.methods,f.create(u,t,i);return n(this)};n.fn.binder.methods={attr:function(t){var i={};return t&&t.length>0&&n.each(t[0].attributes,function(){this.specified&&(i[this.name]=this.value)}),i},fetchvalue:{radio:function(t){return n("[name='"+t.attr("name")+"']:checked").val().trim()},checkbox:function(n){return n.attr("data-usevalue")?n.prop("checked")?n.attr("value"):n.attr("data-uncheckvalue")?n.attr("data-uncheckvalue"):"":n.attr("name").split("[").length>1?n.attr("value"):n.prop("checked")}},setid:function(t){return t.attr("id")?t.attr("id")&&n("[id='"+t.attr("id")+"']").length>1&&(t.removeAttr("id"),this.setid(t)):(idInc++,t.attr("id","Id_"+idInc+"_"+(new Date).getTime().toString()+""+Math.random().toString().replace(".",""))),t.attr("id")},attributevaluetoobject:function(t,i){return n(t.attr(i))},attrselector:function(n){return"["+n+"]"},getcommentobj:function(t){return n(t).contents?n(t).contents().map(function(){return this.nodeType==8?n(this):!1}).get():!1},bodyevent:function(t,i,r){n("body").on(t,i,function(t){n(this).closest("body").length>0?r(t,n(this)):console.log("Deactivated")})},windoworelementevent:function(t,i,r){if(r)n(r).on(t,function(t){n(this).closest("body").length>0?i(t):console.log("Deactivated")});else n(window).on(t,i)},windowevent:function(t,i){n(window).on(t,i)},getelementinfo:function(n){return n.attr("id")?n.attr("id"):(n.prop("tagName")?n.prop("tagName").toLowerCase():"")+" "+JSONstringify(this.attr(n)).toLowerCase()},triggerevent:function(n,t,i,r,u,f){var e,o;n.attr("id")&&!f&&(e=this.getelementinfo(n),consoleit(t+" event triggered","s",e));jlbinderwindowloaded||u?n.trigger(t,i):(r&&r(),o=this,setTimeout(function(){o.triggerevent(n,t,i,null,!1,!0)},500))},grandchildren:function(n,t){return n.find(t).find(t)},wrapwithparent:function(t,i){return n("<"+t+">"+i+"<\/"+t+">")},getdataattributesforsettings:function(n,t){var r={};for(var i in t)t.hasOwnProperty(i)&&i.startsWith("data-")&&(r[i.replace("data-","").replace(/-/ig,"_")]=t[i]);return r},defined:function(n){return typeof n!="undefined"?!0:!1},isstring:function(n){return typeof n=="string"?!0:!1},trimvalue:function(n){var t=n.val();return(n.attr("data-value")&&!n.attr("data-binderinit")&&n.attr("data-forcesetvalue")&&(t=n.attr("data-value")),this.defined(n)&&this.isstring(t))?t.trim():t},objecttolowercase:function(t){return n.each(t,function(n,i){typeof i!="object"&&(t[n.toString().toLowerCase()]=i)}),t},getprototypefunction:function(n,t){var r=Object.getOwnPropertyNames(n),u,i;for(u in r)if(r.hasOwnProperty(u)){if(i=r[u],i==t)return t;if(i.toLowerCase()==t)return i}return t},getconditionalexpression:function(n,t,i){var u={},r;if(u.negation=!1,r=!1,n.toLowerCase().split(t.toLowerCase()).length==1)n=="!"?(u.negation=!0,typeof i=="string"&&i!=""&&(i="'"+i.toString()+"'"),i||(i=!1),r=i):(typeof i!="object"&&typeof i!="boolean"&&typeof i!="number"&&(i="'"+i.toString()+"'"),r=n.toString().match(/[<>!=]/ig)?i+n.toString():i+"=="+n.toString());else{var f=new RegExp("{"+t+"}.length","ig"),e=new RegExp("{"+t+"}","ig"),o=new RegExp("{"+t+"}.toString\\(\\)","ig");r=n.replace(f,i.length);r=r.replace(o,"'"+i.toString()+"'");r=r.replace(e,i)}return u.exp=r,u},removedataprefix:function(n){return n.replace("data-","")},getidobj:function(t){return n("#"+t)},getinputofthis:function(n){return this.getidobj("input_"+n.attr("id"))},autofn:function(t,i,r){var u=this.attr(i);return r=this.objecttolowercase(r),n.each(u,function(n,i){if(n.startsWith("data-method")){var u=n.split("-"),f=t.find(i),e=u[2],o=u[3],s=u[2];u.length==4?e&&o&&f[o](r[e]):u.length==3&&f[s]()}}),t},textautofn:function(n,t,i){var u,e,r,s;if(i.length>0)for(u in n)if(n.hasOwnProperty(u)&&(e=n[u],(typeof t=="string"||typeof t=="number")&&(u.startsWith("data-string-")||u=="data-string"||u=="data-number"||u.startsWith("data-number-")))){r=u.split("-");r[r.length]=e;var o=r[1],f=r[2],h=r[3],c=r[4];t[f]||(o=="string"&&(typeof t=="number"&&(t=t.toString()),f=this.getprototypefunction(String.prototype,f)),o=="number"&&(f=this.getprototypefunction(Number.prototype,f)));s=r.splice(3,r.length);t=t[f].apply(t,s)}return t},getfollowwrappers:function(t,i){var r,f,e,u,o;if(bindmanager.htmltemplatewrappers[i]=[],t.length>0)for(r=0;r<t.length;r++)f=n(t[r]),f.attr("data-wrapperlevel",r),e=f[0].outerHTML,u=n(e),u.find("["+this.data.data_follow+"],[data-wrapfollow]").remove(),o={count:parseInt(u.attr("data-wrapfollow")),html:u[0].outerHTML},bindmanager.htmltemplatewrappers[i].push(o)},gettemplatedetails:function(n,t,i){var r={},f,u;if(r.nochange="["+this.data.data_follow+"],["+this.data.data_static+"],["+this.data.data_noresult+"]",i||(r.nochange+=",["+this.data.data_dynamicrows+"]"),r.nochangedchildrens=n.children().not(r.nochange),f=n.find("[data-json],[data-subjson],[data-pagination]").find("["+this.data.data_follow+"]"),u=n.find("["+this.data.data_follow+"]").not(f).first(),u.length==0&&(u=u.add(r.nochangedchildrens).first()),bindmanager.htmltemplates[t])return r.html=bindmanager.htmltemplates[t],!r.html,r;if(u.length>0)if(u.attr(this.data.data_follow,!0),t){r.html=bindmanager.htmltemplates[t]=u[0].outerHTML;var e=n.find("["+this.data.data_follow+"]:not(["+this.data.data_static+"])").not(f),s=n.find("[data-json],[data-subjson],[data-pagination]").find("[data-wrapfollow]"),o=n.find("[data-wrapfollow]").not(s);o.length>0&&this.getfollowwrappers(o,t);e.length==1&&e.remove()}else r.html=u[0].outerHTML;return r},finddatarows:function(t,i){var r=null,u=!1;return i!=null&&n.each(t,function(n,t){typeof i[t]!="undefined"&&(u=!0,r=i[t])}),r==null&&!u&&typeof i=="object"&&i!=null&&(i instanceof Array&&i.length>0||!(i instanceof Array))&&(r=i),r},setnoresults:function(n){n.find(this.attrselector(this.data.data_noresult)).hide();n.prop("tagName").toLowerCase()=="select"&&n.find(this.attrselector(this.data.data_noresult)).remove()},bringvalues:function(t){t.find("[data-jlvalue]").each(function(){n(this).val(n(this).attr("data-jlvalue"));n(this).removeAttr("data-jlvalue")})},getcustomattributevalue:function(n,t,i,r){return n.attr(t+"-"+r.toLowerCase()+"-"+i)?n.attr(t+"-"+r.toLowerCase()+"-"+i):n.attr(t+"-"+i+"-"+r.toLowerCase())},gotoprocess:function(t,i){try{var s=t.split("_"),r=i,o=!1,h="",e=!1,f="",c=s.length,u=[];n.each(s,function(t,s){var l=!1,a=!1;s.startsWith("this")?(l=!0,r=i):o?(l=!0,r=r[h](s),o=!1):s=="find"||s=="closest"||s=="parent"||s=="child"?(l=!0,h=s,o=!0):s.startsWith("#")||s.startsWith(".")||s.startsWith("[")?(l=!0,r=n(s)):(r[s]?(l=!0,f=s,e=!0,a=!0,u=[]):e&&u.push(s),!e);e&&f&&(t!=c-1&&(l!=!0||a)||(r=u[1]?r[f](u[0],u[1]):u[0]?r[f](u[0]):r[f](),f="",e=!1))})}catch(l){}},applyobjectascondition:function(n,t,i,r,u){if(typeof n!="undefined"){var f=eval(n);u&&(f=!f);f?i?this.gotoprocess(i,t):t.show().attr("data-isactive",!0):(r?this.gotoprocess(r,t):t.hide().attr("data-isactive",!1),t.attr("data-removeinactive")&&t.remove())}},applyattributesascondition:function(n,t,i,r){if(typeof n!="undefined"){var u=eval(n);r&&(u=!u);u&&t.each(function(){eval(i)})}},applycontentifcondition:function(n,t,i,r,u,f,e,o,s){try{var h=this.getconditionalexpression(e,u,f);this.applyobjectascondition(h.exp,t,o,s,h.negation)}catch(c){consoleit(c.message,"e",this.getelementinfo(t))}},applyattributeifcondition:function(n,t,i,r,u,f,e){try{var o=e.split("->"),c=o[0],s=o[1],h=this.getconditionalexpression(c,u,f);s&&this.applyattributesascondition(h.exp,t,s,h.negation)}catch(l){consoleit(l.message,"e",this.getelementinfo(t))}},formatvalueusedatefunctionalities:function(n,t,i,r){try{if(this.date[n])return this.date[n](i,r,t)}catch(u){return consoleit(u.message,"e","datefunction"),r}return r},applydropdownbasedfunctionalities:function(n){if(n.attr(this.data.data_value)){var t=n.attr(this.data.data_value);!n.val()||n.val()&&n.val().length==0||n.attr("data-forcesetvalue")?(n.removeAttr("data-forcesetvalue"),n.attr("multiple")&&(t=t.split(",")),n.val(t),t==""||n.attr("multiple")||n.find('option[value="'+t+'"]').length==0&&n.find("option:not([data-follow])").first().prop("selected",!0)):n.attr("data-hasdefaultvalue")&&n.find('option[value="'+t+'"]').length>0&&n.val(t)}else n.find("option:selected:not([data-follow])").length==0&&n.find("option:not([data-follow])").first().prop("selected",!0)},applydatefunctionalitybyattributes:function(n,t,i){var r,u;if(i)for(r in n)n.hasOwnProperty(r)&&(u=n[r],r.startsWith("data-")&&(r=this.removedataprefix(r),i=this.formatvalueusedatefunctionalities(r,u,t,i)));return i},applyconverttobaseattributes:function(n,t,i){(t=="data-src"||t=="data-style")&&n.attr(t.replace("data-",""),i)},applyfunctionalitybasedonattributes:function(n,t,i,r){var u,s,f,e,y,h,l,c,o,a,v,p,w;for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],u.startsWith("data-"))){if(u=u.replace("data-",""),f=i.toLowerCase(),u==f+"-inline"||u=="inline-"+f)if(e=s,y="{"+i+"}",h=new RegExp(y,"g"),!r&&t.attr("data-nulllabel")&&(r=t.attr("data-nulllabel")),e=="html")t.html(t.html().replace(h,r));else if(e=="text")t.text(t.text().replace(h,r));else for(l=e.split(","),c=0;c<l.length;c++)o=l[c],a=t.attr(o),o&&a?(v=a.replace(h,r),t.attr(o,v),this.applyconverttobaseattributes(t,o,v)):consoleit("'"+o+"' not matching any attributes for apply value for inline key 'data-"+f+"-inline'","w","inline attributes of "+this.getelementinfo(t));(u==i.toLowerCase()+"-attr"||u=="attr-"+f)&&(e=s,t.attr(e,r),this.applyconverttobaseattributes(t,e,r));(u==f+"-if"||u=="if-"+f)&&(n.hasOwnProperty("data-"+u+"-statement")&&(p=n["data-"+u+"-statement"]),n.hasOwnProperty("data-"+u+"-elsestatement")&&(w=n["data-"+u+"-elsestatement"]),t.attr("data-ifoperator")&&t.attr("data-ifoperator")=="AND"&&t.attr("data-isactive")&&t.attr("data-isactive")=="false"?t.hide().attr("data-isactive",!1):this.applycontentifcondition(u,t,"data","if",i,r,s,p,w));(u=="attr-"+(f+"-if")||u=="attr-if-"+f)&&this.applyattributeifcondition(u,t,"data-attr","if",i,r,s)}},submitandbind:function(n,t){t.valid?t.valid()==!0&&this.resetpaginationandbind(n):this.resetpaginationandbind(n)},getfilterbyinputs:function(t,i){var r=null;try{var u=this.attributevaluetoobject(t,this.data.data_filterby),f=this.attributevaluetoobject(t,this.data.data_filterby_required),e=f.add(f.find(this.data.inputs));n("[data-requiredonfilter"+i+"]").removeAttr("data-requiredonfilter"+i);e.attr("data-requiredonfilter"+i,!0);r=u.add(u.find(this.data.inputs)).add(e)}catch(o){return consoleit("Your filtered inputs are not valid","e",i),!1}return r},setfilters:function(t,i,r){var f=this,u;t.attr("data-disablechangeevent")||this.setfilterevent(t,"change","change",i.tid);t.attr("data-enableblurevent")&&this.setfilterevent(t,"blur","change",i.tid);t.attr("data-enablekeyupevent")&&this.setfilterevent(t,"keyup","change",i.tid);this.setfilterevent(t,"click","reset",i.tid);this.setresponsiveonresize(t,"resize");var s=r.filter(function(){return n(this).attr("type")&&n(this).attr("type").toLowerCase()=="submit"}),e=r.filter(function(){return n(this).prop("tagName").toLowerCase()=="form"}),o=r.filter(function(){return n(this).attr("type")&&n(this).attr("type").toLowerCase()=="reset"});return e.length>0?e.each(function(){if(n(this).attr("id")||n(this).attr("id","Id"+(new Date).getTime()),!n(this).attr("data-submiteventinitfor"+i.tid)){n(this).attr("data-submiteventinitfor"+i.tid,!0);n("body").on("submit","#"+n(this).attr("id"),function(i){i.preventDefault();f.submitandbind(t,n(this))});n("body").on("reset","#"+n(this).attr("id"),function(){var i=n(this);setTimeout(function(){f.submitandbind(t,i)},100)})}}):o.length>0&&(n("[data-onresetfilter"+i.tid+"]").removeAttr("data-onresetfilter"+i.tid),o.attr("data-onresetfilter"+i.tid,"true")),u=r.filter(function(){return n(this).attr("data-forcefilter")}),n("[data-onchangefilter"+i.tid+"]").removeAttr("data-onchangefilter"+i.tid),s.length==0&&r.length>0&&(i.perpage?r.not(i.perpage).attr("data-onchangefilter"+i.tid,"true"):r.attr("data-onchangefilter"+i.tid,"true")),u.length>0&&u.attr("data-onchangefilter"+i.tid,"true"),r},setfilterevent:function(n,t,i,r){var f=this,u=0;this.bodyevent(t,"[data-on"+i+"filter"+r+"=true]",function(i,e){u++;var o=u;setTimeout(function(){if(o==u&&e.length>0){if(t=="change"&&e.attr("data-disablechangeevent")||t=="blur"&&e.attr("data-disableblurevent"))return!1;consoleit(r+" is loaded on "+t+" event, name is "+e.attr("name")+(e.attr("id")?" id is "+e.attr("id"):"")+" value is  "+e.val(),"s",r);f.resetpaginationandbind(n)}},500)})},validaterequiredfilters:function(t,i){var r=!0,u=this;return n("[data-requiredonfilter"+t+"]").each(function(){var e=u.getelementinfo(n(this)),f=n(this).val();n(this).attr("data-jlloading")&&(r=!1);n(this).attr("data-value")&&!n(this).attr("data-binderinit")&&n(this).attr("data-forcesetvalue")&&(f=n(this).attr("data-value"));switch(n(this).attr("type")){case"radio":case"checkbox":n(this).prop("checked")==!1&&(r=!1);break;default:i.nullvalue&&f==i.nullvalue&&(r=!1);f||(r=!1)}r||consoleit(t+"'s required field '"+e+"' have no values and the value is '"+f+"'","w",t)}),r},initializepagination:function(t,i,r,u){var e,f;t.attr("data-binderpaginationinit",!0);e=n(i.pagination);e.attr("id")||e.attr("id","Id"+(new Date).getTime());u="input_"+e.attr("id");e.children().attr("data-jlpages",!0);e.attr("data-jlid",i.tid);i.pageservername||consoleit("Please add a 'data-pageservername' attribute for binder initialized element, It is required for sending your page number field name","w",t.attr("id"));n("#"+u).length==0&&n("body").append('<input type="hidden" id="'+u+'" name="'+i.pageservername+'"  value="'+i.pagestartswith+'" />');t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+u);f=n("#"+u);r=r.add(f);n("body").on("click","[data-jlid='"+i.tid+"'] [data-jlpages]",function(r){var u,s,h,c,o,l;n(this).hasClass("disabled")||(r.preventDefault(),u=!1,n(this).attr("data-dynamicrows")?n(this).parent().children().removeClass("active"):n(this).parent().children().removeClass("active disabled"),n(this).attr("data-previos")?f.val(parseInt(f.val())-1):n(this).attr("data-next")?f.val(parseInt(f.val())+1):n(this).attr("data-first")?f.val(i.pagestartswith):n(this).attr("data-last")?f.val(0):n(this).attr("data-nextrow")?(s=e.find(".jlvisiblepage[data-autocreated]:last").next(),f.val(s.find("[data-pagenumber]").attr("data-pagenumber"))):n(this).attr("data-previosrow")?(h=e.find(".jlvisiblepage[data-autocreated]:first").prev(),f.val(h.find("[data-pagenumber]").attr("data-pagenumber"))):n(this).attr("data-dynamicrows")?(c=e.find("[data-dynamicrows]:first"),c.addClass("active"),u=!0,n.binder.insert(t,null,null)):(o=0,o=n(this).find("[data-pagenumber]").length>0?n(this).find("[data-pagenumber]").attr("data-pagenumber"):n(this).attr("data-pagenumber"),f.val(o)),u||(l=e.find('[data-pagenumber="'+f.val()+'"]').closest("li"),l.addClass("active"),t.binder()))});return r},resetpaginationandbind:function(t,i){for(var u,r=0;r<t.length;r++)t.hasOwnProperty(r)&&(u=n(t[r]),this.resetpagination(u),i?u.binder({parentreset:!0}):u.binder())},setresponsiveonresize:function(n,t){var i=this;this.windowevent(t,function(){i.responsivepagination(n)})},appendpages:function(n,t,i,r,u,f){var c,o,e,s;if(u.dynamicinsert||t.children().removeClass("disabled"),c=parseInt(n.attr("data-pagestartswith")),o=t.find("["+r.data_follow+"]"),o.hide(),o[0]){var l=o[0].outerHTML,a=t.prop("tagName").toLowerCase(),v=parseInt(i[n.attr("data-pagetotalrows")]),h=c;if(u.dynamicinsert||t.find("[data-autocreated]").remove(),u.dynamicinsert&&(t.find("[data-dynamicrows]").length==0&&n.find("[data-dynamicrows]").length!==0?(e=this.wrapwithparent(a,l),e.children().hide(),e.find("[data-pagenumber]")&&e.find("[data-pagenumber]").attr("data-pagenumber",u.dynamicrowsvalue).html(u.dynamicrowstext),e.find("["+r.data_follow+"]").show().removeAttr(r.data_follow).attr("data-dynamicrows",!0),o.after(e.html()),o=o.next()):n.find("[data-dynamicrows]").length==0&&t.find("[data-dynamicrows]").remove(),t.find("[data-dynamicrows]").show().addClass("active")),t.find("[data-dynamicrows]").length>0&&(o=t.find("[data-dynamicrows]")),!u.dynamicinsert)for(s=0;s<v;s=s+f)e=this.wrapwithparent(a,l),e.children().hide(),e.find("[data-pagenumber]")&&e.find("[data-pagenumber]").attr("data-pagenumber",h).html(h),e.find("["+r.data_follow+"]").show().removeAttr(r.data_follow).attr("data-autocreated",!0),o.after(e.html()),o=o.next(),h++}},managepagination:function(t,i,r,u){var e,f,s,o,h;return i.attr(t.data_pagination)&&(e=parseInt(n(i.attr("data-perpage")).val()),f=n(i.attr(t.data_pagination)),f.length>0?(this.appendpages(i,f,u,t,r,e),s=this.getidobj("input_"+f.attr("id")),o=f.find('[data-pagenumber="'+s.val()+'"]').closest("li"),o.addClass("active"),r.dynamicinsert?f.find("[data-autocreated]").length==0&&(f.find("[data-next]").addClass("disabled"),f.find("[data-previos]").addClass("disabled")):(o.find("[data-pagenumber]").attr("data-pagenumber")==f.find("[data-autocreated]:last").find("[data-pagenumber]").attr("data-pagenumber")&&f.find("[data-next]").addClass("disabled"),o.find("[data-pagenumber]").attr("data-pagenumber")==f.find("[data-autocreated]:first").find("[data-pagenumber]").attr("data-pagenumber")&&f.find("[data-previos]").addClass("disabled"),h=parseInt(s.val()),i.attr(t.data_showingpagefrom)&&n(i.attr(t.data_showingpagefrom)).text(h*e-e+1),i.attr(t.data_showingpageto)&&n(i.attr(t.data_showingpageto)).text(h*e-e+rows.length)),this.responsivepagination(i)):consoleit("Kindly include your pagination element "+i.attr(t.data_pagination),"w",r.tid)),this},resetpagination:function(t){var i=t.attr("data-pagestartswith"),r,u;t.attr(this.data.data_pagination)&&(r=n(t.attr(this.data.data_pagination)),u=this.getinputofthis(r),u.val(i));t.attr(this.data.data_scrollloader)&&n("#input_scroller_"+this.setid(t)).val(i)},responsivepagination:function(n){var t,i,u,r,f;n.attr(this.data.data_pagination)&&(t=this.attributevaluetoobject(n,this.data.data_pagination),i=!1,n.attr("data-maxpaginationcolumns")?i=parseInt(n.attr("data-maxpaginationcolumns")):t.attr("data-maxpaginationcolumns")&&(i=parseInt(t.attr("data-maxpaginationcolumns"))),u=0,r=t.find("li[data-autocreated='true']"),(r.length>0||t.find("[data-dynamicrows='true']").length>0)&&(r.hide().removeClass("jlvisiblepage"),f=this.getinputofthis(t),setTimeout(function(){var b=0,a=t.outerWidth(),v=t.position().top,c=t.outerHeight(),y=parseInt(f.val()),n,o,s=!1,e,l,h,p,w;for(t.find("[data-dynamicrows='true']").show().addClass("jlvisiblepage"),e=0;e<r.length;e++){if(s==!0)break;for(l=[y-e,y+e],h=0;h<l.length;h++)if(p=l[h],n=t.find("[data-pagenumber="+p+"]").closest("li"),n.length>0){if(n.show().addClass("jlvisiblepage"),b+=n.outerWidth(),c==0&&(c=t.outerHeight()),a==0&&(a=t.outerWidth()),w=t.outerHeight(),o=t.position().top,i&&u>i){n.hide().removeClass("jlvisiblepage");s=!0;break}else if(w>c){n.hide().removeClass("jlvisiblepage");s=!0;break}if(o!=v){n.hide().removeClass("jlvisiblepage");s=!0;break}u++}}t.find(".jlvisiblepage[data-autocreated],.jlvisiblepage[data-dynamicrows]").last().find("[data-pagenumber]").attr("data-pagenumber")==t.find("[data-autocreated],[data-dynamicrows]").last().find("[data-pagenumber]").attr("data-pagenumber")?t.find("[data-nextrow]").addClass("disabled"):t.find("[data-nextrow]").removeClass("disabled");t.find(".jlvisiblepage[data-autocreated],.jlvisiblepage[data-dynamicrows]").first().find("[data-pagenumber]").attr("data-pagenumber")==t.find("[data-autocreated],[data-dynamicrows]").first().find("[data-pagenumber]").attr("data-pagenumber")?t.find("[data-previosrow]").addClass("disabled"):t.find("[data-previosrow]").removeClass("disabled");o=t.position().top;o!=v&&n.hide().removeClass("jlvisiblepage")},10)))},initializeperpage:function(t,i,r){var s=this,u,f,e,o;if(t.attr("data-binderperpageinit",!0),u=n(i.perpage),u.length>0||parseInt(i.perpage)>0){parseInt(i.perpage)>0?(f="jlperpagevalueof"+i.tid,n("body").append('<input type="hidden" id="'+f+'" name="PageSize" value="'+i.perpage+'" />'),t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+f),u=n("#"+f),n(i.perpage).attr(i.perpage,"#"+f)):u.attr("id")||u.attr("id","Id"+(new Date).getTime());e=u.attr("id");t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+e);o=n("#"+e);r=r.add(o);n("body").on("change",t.attr("data-perpage"),function(n){n.preventDefault();s.resetpaginationandbind(t)})}else consoleit("Kindly include Per Page input "+t.attr("data-perpage"),"w",i.tid);return r},initializeorderby:function(t,i,r){var h=this,u,e,o,s,f,c,l;return t.attr("data-binderorderinit",!0),u=n(i.order),u.attr("data-jlorderby",i.tid),u.attr("id")||u.attr("id","Id"+(new Date).getTime()),e="input_orderfield_"+u.attr("id")+"_"+i.tid,o="input_orderby_"+u.attr("id")+"_"+i.tid,i.orderfieldname||consoleit("Please add a 'data-orderfieldname' attribute for binder initialized element, It is required for sending your sort order field name ","w",i.tid),i.orderbyname||consoleit("Please add a 'data-orderbyname' attribute for binder initialized element, It is required for sending your sort order name ","w",i.tid),u.find("[data-orderbyfield]").css("cursor","pointer"),s=u.find("[data-orderbyfield][data-orderbydefault]"),s.length==0&&(s=u.find("[data-orderbyfield]:first")),f=s.first(),i.orderby=i.orderby?i.orderby.toLowerCase():i.defaultorderby,f.length>0&&f.attr("data-orderby")&&(i.orderby=f.attr("data-orderby")),i.orderbyascendingicon&&u.find("[data-orderbyfield]").find("[data-orderbyascicon]").length==0&&u.find("[data-orderbyfield]")[i.orderbyiconinsertmethod](i.orderbyascendingicon),i.orderbydescendingicon&&u.find("[data-orderbyfield]").find("[data-orderbydescicon]").length==0&&u.find("[data-orderbyfield]")[i.orderbyiconinsertmethod](i.orderbydescendingicon),h.setorderbyicon(u,f,i.orderby),n("body").append('<input type="hidden" id="'+e+'" name="'+i.orderfieldname+'" value="'+f.attr("data-orderbyfield")+'" />'),n("body").append('<input type="hidden" id="'+o+'" name="'+i.orderbyname+'" value="'+i.orderby+'" />'),t.attr(this.data.data_filterby)||t.attr(this.data.data_filterby,""),t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+(t.attr(this.data.data_filterby)?",":"")+"#"+e+",#"+o),c=n("#"+e),l=n("#"+o),r=r.add(c).add(l),this.bodyevent("click","[data-jlorderby='"+i.tid+"'] [data-orderbyfield]",function(n,i){n.preventDefault();c.val(i.attr("data-orderbyfield"));i.attr("data-orderby")||i.attr("data-orderby","asc");i.attr("data-orderby")=="asc"?i.attr("data-orderby","desc"):i.attr("data-orderby","asc");var r=i.attr("data-orderby");l.val(r);h.setorderbyicon(u,i,r);h.resetpaginationandbind(t)}),r},setorderbyicon:function(n,t,i){n.find("[data-orderbydescicon],[data-orderbyascicon]").hide();t&&i&&t.find("[data-orderby"+i+"icon]").show()},initializescrollloader:function(t,i,r,u){var f;t.attr("data-binderscrollloaderinit",!0);u="input_scroller_"+i.tid;f=n("#"+u);f.length==0&&(n("body").append('<input type="hidden" id="'+u+'" name="'+i.pageservername+'"  value="'+i.pagestartswith+'" />'),f=n("#"+u));t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+u);r=r.add(f);var e=n(window),o=!1,s=i.scrollbyelement;return i.scrollbyelement&&(i.scrollbyelement=="this"?(e=t,s="#"+i.tid):e=n(i.scrollbyelement),o=!0),t.attr("data-jlpagecount",parseInt(f.val())+1),i.loadmore&&(n(i.loadmore).attr("data-currentpageid",u),this.bodyevent("click",i.loadmore,function(){f.val(parseInt(f.val())+1);var n=f.val();t.children(":visible").last().attr("data-jlscrollerhitted",!0);t.binder({currentpage:n})})),this.windoworelementevent("scroll",function(r,u){var s,l,c,h;if(t.closest("body").length==0||t.attr("data-jlloading")||!t.attr("data-dataloaded"))return console.log("Deactivated"),!0;i.scrollloader&&!t.attr("data-disablescrollevents")&&(e.attr("data-lastscrolledupto",t[0].scrollHeight-t.scrollTop()),i.scrolldirection&&i.scrolldirection=="right"?(c=(e.scrollLeft()||n("body").scrollLeft())+(e.height()||n("body").height()),t.children(":visible").last().not("[data-jlscrollerhitted]").length>0&&(l=t.children(":visible").last().offset().left-e.width(),o&&(l=t.children(":visible").last().position().left-e.width()),s=parseInt(f.val()),c>l&&s<parseInt(t.attr("data-jlpagecount"))&&n.active==0&&(f.val(parseInt(f.val())+1),s=f.val(),t.children(":visible").last().attr("data-jlscrollerhitted",!0),t.binder({currentpage:s})))):i.scrolldirection&&i.scrolldirection=="up"?t.children(":visible").first().not("[data-jlscrollerhitted]").length>0&&(h=t.children(":visible").first().offset().top,s=parseInt(f.val()),h>-50&&s<parseInt(t.attr("data-jlpagecount"))&&(f.val(parseInt(f.val())+1),n.active==0&&(t.children(":visible").first().attr("data-jlscrollerhitted",!0),t.binder({currentpage:s})))):o?(c=(e.scrollTop()||n("body").scrollTop())+(e.height()||n("body").height()),t.children(":visible").last().not("[data-jlscrollerhitted]").length>0&&(h=t.children(":visible").last().offset().top+t.children(":visible").last().height(),o&&(h=t.children(":visible").last().offset().top+t.children(":visible").last().height()),s=parseInt(f.val()),(h<e.height()||c>h)&&s<parseInt(t.attr("data-jlpagecount"))&&(n.active==0?(f.val(parseInt(f.val())+1),s=f.val(),t.children(":visible").last().attr("data-jlscrollerhitted",!0),t.binder({currentpage:s})):u&&setTimeout(function(){e.trigger("scroll",u)},1e3)))):(n(window).scrollTop()==n(document).height()-n(window).height(),c=(e.scrollTop()||n("body").scrollTop())+(e.height()||n("body").height()),t.children(":visible").last().not("[data-jlscrollerhitted]").length>0&&(h=t.children(":visible").last().offset().top+t.children(":visible").last().height(),o&&(h=t.children(":visible").last().offset().top+t.children(":visible").last().height()),s=parseInt(f.val()),n(window).scrollTop()>=n(document).height()-n(window).height()-100&&s<parseInt(t.attr("data-jlpagecount"))&&(n.active==0?(f.val(parseInt(f.val())+1),s=f.val(),t.children(":visible").last().attr("data-jlscrollerhitted",!0),t.binder({currentpage:s})):u&&setTimeout(function(){e.trigger("scroll",u)},1e3)))))},s),r},initscrollevent:function(t,i,r,u){var f=this;n(window).one(i,function(){var o=(n(window).scrollTop()||n("body").scrollTop())+(n(window).height()||n("body").height()),e=t.offset().top;e>o||e==0?f.initscrollevent(t,i,r,u):f.binderinitialization(t,"data-binderinit-"+i,u)})},managescrollloading:function(t,i,r){var u,f,e;t.attr(this.data.data_scrollloader)&&(u=t.attr("data-perpage"),f=0,f=n.isNumeric(u)?parseInt(u):parseInt(n(u).val()),e=parseInt(r[t.attr("data-pagetotalrows")]),t.attr("data-jlpagecount",Math.ceil(e/f)),i.loadmore&&n(i.loadmore).length>0&&(t.attr("data-jlpagecount")<=n("#"+n(i.loadmore).attr("data-currentpageid")).val()?n(i.loadmore).hide():n(i.loadmore).show()),e>0&&n(window).trigger("scroll",!0))},binderinitialization:function(t,i,r){t.attr(i)&&(n.each(r,function(n){n.startsWith("data-binderinit")&&t.removeAttr(n)}),this.resetpaginationandbind(t))},initfn:function(t,i,r){try{if(r.parent&&!r.parentreset)return!0;var u=this,e=!1,f=!1;return n.each(i,function(o,s){var c;if(r&&r.lazyload&&r.lazyload=="true"&&r.json&&n(window).scrollTop()+n(window).height()<t.offset().top&&typeof r.json=="string"&&r.json!=""&&(consoleit("You need to scroll to this element to initilize it.","w",u.getelementinfo(t)),f=!0,t.attr("data-lazyload",!0)),o.split("if").length==1&&s.split("{").length>1)e=!0,f=!0;else if(o.startsWith("data-binderinit")||o.startsWith("data-binderperminit")){var l=o.split("-"),h=l[2],a=!0;if(t.attr("data-binderinitrequired")==!0&&(a=!1),c=!1,n(s).length>0||s=="window"?c=!0:a==!0&&(c=!0),l.length==3&&c)if(n(s).attr("data-initby-"+t.attr("id")),o.startsWith("data-binderperminit")&&!t.attr("data-binderperminitinitiated")){f=!0;t.attr("data-binderperminitinitiated",!0);consoleit("You need to "+h+" "+s+" to initilize.","w",u.getelementinfo(t));n("body").on(h,s,function(){t.closest("body").length>0&&t.attr("data-binderperminit-"+h)&&t.binder()})}else if(o.startsWith("data-binderinit"))if(f=!0,h=="scroll")consoleit("You need to "+h+" "+s+" to initilize.","w",u.getelementinfo(t)),u.initscrollevent(t,h,s,i),n(window).trigger(h);else{consoleit("You need to "+h+" "+s+" to initilize.","w",u.getelementinfo(t));n("body").one(h,s,function(){t.closest("body").length>0&&u.binderinitialization(t,"data-binderinit-"+h,i)})}}}),e&&(f=!0),f}catch(o){return!1}},create:function(t,i,r){var u,c,l,f,e,o,s,y,h,a,v;this.triggerevent(t,"beforeinitialize");u=n.extend({},this.defaults);u.tid=this.setid(t);this.setnoresults(t);c=this.attr(t);l=this.getdataattributesforsettings(t,c);typeof l=="object"&&(u=n.extend(u,l));typeof i=="object"?u=n.extend(u,i):typeof i=="string"&&i=="refresh"&&(u.refresh=!0);bindmanager.settings[u.tid]=u;u.caching=u.caching&&u.caching=="true";this.initfn(t,c,u)==!1?(this.gettemplatedetails(t,u.tid),f=this.getfilterbyinputs(t,u.tid),!t.attr("data-binderorderinit")&&u.order&&(f=this.initializeorderby(t,u,f)),e="",!t.attr("data-binderperpageinit")&&u.perpage&&(f=this.initializeperpage(t,u,f)),!t.attr("data-binderscrollloaderinit")&&u.scrollloader&&(f=this.initializescrollloader(t,u,f,e)),!t.attr("data-binderpaginationinit")&&u.pagination&&(f=this.initializepagination(t,u,f,e)),(u.pagestartswith||u.currentpage)&&(u.currentpage=parseInt(u.currentpage?u.currentpage:u.pagestartswith)),u.scrollloader&&u.pagination?(consoleit("Pagination active","s",u.tid),s=n(u.pagination),e="input_"+s.attr("id"),o=n("#"+e).prop("disabled",!0)):(u.scrollloader&&(consoleit("Scroll Loading active","s",u.tid),e="input_scroller_"+u.tid,o=n("#"+e).prop("disabled",!1)),u.pagination&&(s=n(u.pagination),e="input_"+s.attr("id"),o=n("#"+e).prop("disabled",!1))),t.attr("data-binderinit")||(u.uniquekey&&o&&this.bodyevent("jlupdatepage jlupdaterow","#"+u.tid+" [data-jlcurrentpage]",function(i,r){var f,e;t.closest("body").length>0&&(u.caching&&t.removeAttr("data-caching"),f=!1,f?(n.binder.addfilter(t,t.attr("data-uniquekey"),r.attr("data-jluniquekeyvalue")),n.binder.addfilter(t,t.attr("data-pageservername"),t.attr("data-pagestartswith")),n.binder.addfilter(t,n(t.attr("data-perpage")).attr("name"),1),t.binder({isuniqueupdate:!0,currentpage:t.attr("data-pagestartswith")}),n.binder.addfilter(t,t.attr("data-uniquekey"),""),n.binder.addfilter(t,t.attr("data-uniquekey"),""),n.binder.addfilter(t,n(t.attr("data-perpage")).attr("name"),"")):(e=o.val(),o.val(r.attr("data-jlcurrentpage")),t.binder({currentpage:r.attr("data-jlcurrentpage"),isuniqueupdate:!0}),o.val(e)),u.caching&&t.attr("data-caching",u.caching))}),this.setfilters(t,u,f),consoleit("jlbinder initialized","s",u.tid)),y=!1,t.attr("data-jlloading")&&u.json&&consoleit("jlbinder already initialized","w",u.tid),t.attr("data-jlloading",!0),u.reflect&&n(u.reflect).attr("data-jlloading",!0),h=this,a=500,typeof u.json=="object"&&(a=0),v=h.validaterequiredfilters(u.tid,u),v?(consoleit("all required fields founded","s",u.tid),h.processrequest(t,u,f,i,r)):(consoleit("some required fields not found","w",u.tid),h.success(t,u,[],!1,r)),t.attr("data-binderinit",!0)):consoleit("can't initilized because of some dependent events used like data-binderinit-{eventname}","w",u.tid)},makepostdata:function(t,i){for(var s,l,y,a,h,o,u={},v=t.not(this.data.disabled),c=0;c<v.length;c++){var r=n(v[c]),e=r.attr("type"),f=r.attr("name");if(r.attr(this.data.data_servername)&&(f=r.attr(this.data.data_servername)),r.attr(this.data.data_servernames)){s=r.attr(this.data.data_servernames).split(",");for(l in s)s.hasOwnProperty(l)&&(y=s[l],u[y]=this.fetchvalue[e]?this.fetchvalue[e](r):this.trimvalue(r))}f&&(this.fetchvalue[e]?r.prop("checked")&&(f.split("[").length>1?u[f]?u[f].push(this.fetchvalue[e](r)):u[f]=[this.fetchvalue[e](r)]:u[f]=this.fetchvalue[e](r)):u[f]=this.trimvalue(r))}if(i&&i.length>0&&i.attr("data-filterby-inline"))for(a=i.attr("data-filterby-inline").split(","),h=0;h<a.length;h++)o=a[h].split(":"),o.length>0&&o[1]&&o[0]&&(u[o[0]]=o[1]);return u},findtemplateitems:function(n,t,i){var f=this.wrapwithparent(n,t),u,r,e;for(u in i)i.hasOwnProperty(u)&&(r=i[u],r!="*"&&(f.find('[data-subjson="'+r+'"]').length>0||r=="Status"?stn.selectedQueryParameters.push(r):t&&t.split(r+"}").length>1?stn.selectedQueryParameters.push(r):(e=this.findjsonfieldelements(f,r).obj,e.length>0&&stn.selectedQueryParameters.push(r))))},createselectqueryparams:function(t,i,r){var v=n("[data-json='"+i.json+"']"),s={},e,f,o,c,u,a;if(i.selectedQueryParameters=[],f=n("[data-select][data-json='"+i.json+"']").first(),f.length>0){for(s[i.json]=f.attr("data-select").split(","),o=0;o<n("[data-json='"+i.json+"']").length;o++)if(f=n(v[o]),s[i.json]&&(e=s[i.json]),e){var y=this.gettemplatedetails(f,f.attr("id")),h=y.html,p=t.prop("tagName").toLowerCase(),l=this.wrapwithparent(p,h);for(c in e)e.hasOwnProperty(c)&&(u=e[c],u!="*"&&(l.find('[data-subjson="'+u+'"]').length>0||u=="Status"?i.selectedQueryParameters.push(u):h&&h.split(u+"}").length>1?i.selectedQueryParameters.push(u):(a=this.findjsonfieldelements(l,u,!0).obj,a.length>0&&i.selectedQueryParameters.push(u))))}i.selectedQueryParameters.length>0&&(i.selectedQueryParameters=i.selectedQueryParameters.filter(this.makeUniQueArray).sort(),r.select=i.selectedQueryParameters.join(","))}return r},makeUniQueArray:function(n,t,i){return i.indexOf(n)===t},processrequest:function(t,i,r,u,f){var o=this,s,e;typeof i.json=="string"&&i.json!=""?(o.triggerevent(t,"beforemakerequestdata",{},null,!0),s=this.makepostdata(r,t),s=this.createselectqueryparams(t,i,s),i.requestmethod||(i.requestmethod=i.defaultrequestmethod),consoleit("requested by "+i.requestmethod+" method","s",i.tid),e=i.json+JSONstringify(s),o.triggerevent(t,"aftermakerequestdata",{post:s,stn:i}),this.requesthandler(t,i.requestmethod,i.json,s,function(){var r,u,s;return i.caching?(r=!1,bindmanager.cachequeue[e]||(r=!0,bindmanager.cachequeue[e]=[]),consoleit("caching is active","s",i.tid),!i.refresh&&bindmanager.cache[e]&&bindmanager.cache[e]!=="")?(u=n.extend({},bindmanager.cache[e]),o.triggerevent(t,"afterrequest",u),s=!0,o.success(t,i,u,function(n){r&&n.length==0&&(s=!1)},f),s):r?!1:(bindmanager.cachequeue[e].push({stn:i,t:t}),!0):!1},function(r){var s,h,u;if(i.caching&&bindmanager.cachedata(e,n.extend({},r)),i.serverrequested=!0,o.triggerevent(t,"afterrequest",r),o.success(t,i,r,!1,f),s={},s[i.tid]=!0,bindmanager.cachequeue&&bindmanager.cachequeue[e])for(h in bindmanager.cachequeue[e])bindmanager.cachequeue[e].hasOwnProperty(h)&&(u=bindmanager.cachequeue[e][h],s[u.stn.tid]||(s[u.stn.tid]=!0,u.stn.serverrequested=!0,o.triggerevent(u.t,"afterrequest",r),o.success(u.t,u.stn,r,!1,f)));delete bindmanager.cachequeue[e]})):typeof i.json=="object"?o.success(t,i,i.json,!1,f):typeof u=="object"&&o.success(t,i,u,!1,f)},requesthandler:function(t,i,r,u,f,e,o){if(o||o==0||(o=-1),o<1e3&&(o>=0||!f())){this.triggerevent(t,"beforerequest",u);var s=this;n.active<=1?(t.attr("data-binderrequested",!0),n[i](r,u,e).fail(function(){consoleit("requested failed","e",s.getelementinfo(t))})):setTimeout(function(){o++;s.requesthandler(t,i,r,u,f,e,o)},100)}},success:function(t,i,r,u,f){var v=r,y,p,w,b,k,e,g,ft,et,ot,h,c,st,ht,ct,lt,at,tt,pt,it;if(t.attr("data-bindersuccess",!0),y={rows:v},!i.nobind&&i.nobind!==!0){t.removeAttr("data-jlloading");i.reflect&&n(i.reflect).removeAttr("data-jlloading");i.foreach&&(i.dataobject=i.foreach);p=i.dataobject.split(",");w=!1;i.dataobject.split(" in ").length==2&&(b=i.dataobject.split(" in "),p=[b[1]],w=b[0]);k=this.finddatarows(p,v);e=k;i.objecttoarray&&(e=[k]);u&&u(e);var wt=this.data.inputs.split(","),o=this.gettemplatedetails(t,i.tid,i.dynamicinsert),rt=o.html;rt||consoleit("No html template inside your element","e",this.getelementinfo(t));var ut=t.prop("tagName").toLowerCase(),s=t.find("[data-json],[data-subjson],[data-pagination]").find(o.nochange),bt=t.find(o.nochange).not(s),d=o.nochangedchildrens;if(bt.hide(),t.find("["+this.data.data_static+"]:not([data-static-free])").not(s).show(),g=t.find("["+this.data.data_follow+"]").not(s),g.length>1&&g.show(),t.attr("data-pagestartswith")&&(ot=parseInt(t.attr("data-pagestartswith"))),h=!1,i.scrollloader?i.isuniqueupdate?d.attr("data-uniquerowsupdated",!1):(t.attr("data-jlpagecount",0),i.currentpage==ot&&(d.remove(),h=!0)):!i.pagination&&i.dynamicinsert?t.find("[data-dynamicrows]").not(s).remove():(d.remove(),h=!0),h&&bindmanager.dynamicrows[i.tid]&&(bindmanager.dynamicrows[i.tid]=[]),c=e?e.length:0,e&&c!=0){if(t.attr(this.data.data_pagination)&&(ft=n(t.attr(this.data.data_pagination)),et="input_"+ft.attr("id"),ht=n("#"+et),st=parseInt(ht.val()),ct=parseInt(n(i.perpage).val())),this.triggerevent(t,"beforeappendcomplete",y),lt=this.data,at=this,c>0||typeof e=="object"){var a="",l,nt,vt=0,yt=!1;c>0&&(yt=!0);consoleit("appending rows","s",i.tid);consoleit(e,"s",i.tid);t.attr("data-dataloaded",!0);this.triggerevent(t,"beforeappendrows",e);for(l in e)e.hasOwnProperty(l)&&(!yt||isNaN(l)==!1)&&(nt=e[l],nt!=null&&(vt++,this.loopandsetvalues(t,i,vt,c,l,nt,w,wt,s,o,rt,ut,ct,st,h)));ut!="select"||t.attr("data-disablevalue")||this.applydropdownbasedfunctionalities(t);a=n.extend(v,e[0]);this.managepagination(lt,t,i,a).managescrollloading(t,i,a);at.autofn(n("body"),t,a);this.triggerevent(t,"aftergetresults")}else i.serverrequested&&this.triggerevent(t,"afternoresults"),this.showhideboxes(t);f&&f(t,e)}else i.serverrequested&&this.triggerevent(t,"afternoresults"),this.showhideboxes(t);tt=t.attr("data-trigger");tt&&this.triggerevent(t,tt)}this.triggerevent(t,"afterappendcomplete",y);pt=this.grandchildren(t,"[data-json]");it=t.find("[data-json]:not([data-parent],[data-parent] [data-json],[data-binderrequested],[data-bindersuccess],[data-isactive=false])").not(pt);it.length>0&&(consoleit("Initializing child data-json elements","s",i.tid),this.resetpaginationandbind(it));n("[data-parent='#"+i.tid+"'][data-json]").length>0&&(consoleit("Initializing child data-parent with data-json elements","s",i.tid),n("[data-parent='#"+i.tid+"'][data-json]").attr("data-parentreset",!0),this.resetpaginationandbind(n("[data-parent='#"+i.tid+"'][data-json]"),!0))},findjsonfieldelements:function(n,t,i){var f=n.find("."+t+",#"+t+",[name='"+t+"'],[data-key='"+t+"'],[data-jsonkey='"+t+"']"),e=n.find("[data-"+t.toLowerCase()+"-inline],[data-inline-"+t.toLowerCase()+"],[data-"+t.toLowerCase()+"-attr],[data-attr-"+t.toLowerCase()+"],[data-"+t.toLowerCase()+"-if],[data-if-"+t.toLowerCase()+"],[data-attr-"+t.toLowerCase()+"-if],[data-attr-if-"+t.toLowerCase()+"]"),r=f.add(e),u;return i?(u=n.find("[data-"+t.toLowerCase()+"-disable],[data-disable-"+t.toLowerCase()+"],[data-disablejlbind],[data-json] *"),r=r.not(u)):(u=n.find("[data-"+t.toLowerCase()+"-disable],[data-disable-"+t.toLowerCase()+"],[data-disablejlbind],[data-json] *,[data-subjson] *"),r=r.not(u)),{obj:r,htmlelements:f}},loopandsetvalues:function(t,i,r,u,f,e,o,s,h,c,l,a,v,y){var b={},st,gt,ht,ct,k,it,rt,hi,lt,d,p,ri,at,w,vt,ui,ft,yt,fi,nt,ut,tt,et,ai,vi,si,pt,g,wt,ot,bt,kt,dt;typeof e!="object"&&(st=e,e={},e.jlvalue=st);t.attr(this.data.data_pagination)&&(b.pagesize=v,b.pagenumber=y);b.jlindex=f;b.jlrownumber=r+1;b=n.extend(b,e);gt={key:f,value:b};ct=[];k=this.wrapwithparent(a,l);h=t.find("[data-json],[data-subjson],[data-pagination]").find(c.nochange);it=t.find("["+this.data.data_follow+"]["+this.data.data_static+"]").not(h).eq(f);rt=t.find("["+this.data.data_follow+"]").not(h);it.length==1?k=it:rt.eq(f).length>0&&(k=this.wrapwithparent(a,rt.eq(f)[0].outerHTML));hi=k.find("[data-json],[data-subjson],[data-pagination]");h=hi.find(c.nochange);lt=k.find("["+this.data.data_follow+"]").not(h);lt.removeAttr(this.data.data_follow);for(d in b)if(b.hasOwnProperty(d)){if(p=b[d],o){var ni=k.html(),yi="{"+o+"."+d+"}",pi=new RegExp(yi,"gmi");ni=ni.replace(pi,p);k=this.wrapwithparent(a,ni)}i.dynamicinsert&&k.children().attr(this.data.data_dynamicrows,!0);k.find("[data-subjson='"+d+"']").not(k.find("[data-subjson] [data-subjson]").not("[data-subjsonglobal]")).length>0&&ct.push({key:d,value:p});d=="UsersList";var ci=this.findjsonfieldelements(k,d),ti=ci.obj,ii=ci.htmlelements;for(ht={key:d,value:p},this.triggerevent(ti,"beforeappend",ht),ri=this.getcommentobj(k.children()),ri.length>0&&n.each(ri,function(t,i){if(i!==!1){var u=i.next().parent().prop("tagName"),r=n("<"+u+" "+i[0].nodeValue+">"+i.next()[0].outerHTML+"<\/"+u+">");r.attr("data-subjson")==d&&(r.binder({json:{Rows:p}}),i.next().after(r.html()),i.next().remove())}}),st=p,at=0;at<ti.length;at++)w=n(ti[at]),p=st,vt=this.attr(w),p=this.textautofn(vt,p,w),p=this.applydatefunctionalitybyattributes(vt,d,p),this.applyfunctionalitybasedonattributes(vt,w,d,p),ii.length>0&&ii.not(w).length!=ii.length&&(ui=w.prop("tagName").toLowerCase(),n.inArray(ui,s)!==-1?(typeof p=="boolean"&&(p=p.toString()),w.val(p).attr("data-jlvalue",p),ui=="select"&&(w.attr(this.data.data_value,p),p!==""&&w.find('option[value="'+p+'"]').length==0&&(w.attr("data-appendvalueoptiononset")?(ft=w.attr("data-optiontextvalue"),ft&&(yt=p,ft&&b.hasOwnProperty(ft)&&(yt=b[ft]),yt!=""?w.append("<option selected value="+p+">"+yt+"<\/option>"):w.find("option:not([data-follow])").first().prop("selected",!0).attr("selected",!0))):w.val()!=p&&w.find("option:not([data-follow])").first().prop("selected",!0).attr("selected",!0))),fi=w.attr("data-trigger"),fi&&this.triggerevent(w,fi)):w.attr("data-subjson")||(typeof p=="boolean"?w.html(p.toString()):!p&&w.attr("data-nulllabel")?w.html(w.attr("data-nulllabel")):w.html(p))),ht={index:d,value:p},this.triggerevent(w,"afterappend",ht)}if(nt=t,i.uniquekey&&k.children().attr("data-jluniquekeyvalue",b[i.uniquekey]),it.length!=1)if(rt.eq(f).length>0)rt.eq(f).after(k.html()),rt.eq(f).remove(),this.bringvalues(t);else if(it.length==0&&it.eq(r).length==0){if(i.uniquekey&&b[i.uniquekey]&&i.isuniqueupdate&&(tt=t.find("[data-jluniquekeyvalue='"+b[i.uniquekey]+"']"),tt.length>0?tt[0].outerHTML==k.html()?tt.show():(k.children().attr("data-jluniquekeyvalue",b[i.uniquekey]),tt.after(k.html()),tt.next().attr("data-jluniquekeyvalue",b[i.uniquekey]),tt.remove(),ut=t.find("[data-jluniquekeyvalue='"+b[i.uniquekey]+"']"),ut.attr("data-uniquerowsupdated",!0)):(lt=k.children().not(h),lt.attr("data-jluniquekeyvalue",b[i.uniquekey])),tt.attr("data-uniquerowsupdated",!0)),bindmanager.htmltemplatewrappers[i.tid]&&bindmanager.htmltemplatewrappers[i.tid].length>0)for(et=0;et<bindmanager.htmltemplatewrappers[i.tid].length;et++){var li=bindmanager.htmltemplatewrappers[i.tid][et],ei=!1,oi=t.find("[data-wrapperlevel="+et+"]:last");oi.length>0?(ai=t.find("[data-json],[data-subjson],[data-pagination]").find("[data-jlelements]"),vi=oi.find("[data-jlelements]").not(ai),vi.length==li.count?ei=!0:nt=oi):ei=!0;ei&&(nt.append(li.html),nt=t.find("[data-wrapfollow]").last())}ut||(si=k.html(),i.bindmethod?nt[i.bindmethod](si):nt.append(si));i.scrolldirection=="up"&&(t.attr("data-disablescrollevents",!0),pt=t.attr("data-lastscrolledupto"),pt||(pt=0),setTimeout(function(){var n=t[0].scrollHeight-pt;t.scrollTop(n);u==r&&t.removeAttr("data-disablescrollevents")},500));this.bringvalues(t)}for(g=ut&&ut.length>0?ut:i.bindmethod?nt.children().first():nt.children().last(),i.currentpage&&!g.attr("data-jlcurrentpage")&&g.attr("data-jlcurrentpage",i.currentpage),i.showelementsafterappend&&i.showelementsafterappend!="true"?g.not("[data-isactive=false]").attr("data-jlelements",!0):g.not("[data-isactive=false]").show().attr("data-jlelements",!0),gt={key:f,value:b,row:g},this.triggerevent(g,"afterappendrow",gt),wt=0;wt<ct.length;wt++)if(ot=ct[wt],bt=g.find("[data-subjson='"+ot.key+"']").not(g.find("[data-subjson] [data-subjson]").not("[data-subjsonglobal]")),bt.length>0)for(kt=0;kt<bt.length;kt++)dt=n(bt[kt]),ot.value=this.textautofn(this.attr(dt),ot.value,dt),dt.binder({json:{Rows:ot.value}})},showhideboxes:function(t){var i=t.find("["+this.data.data_json+"] ["+this.data.data_noresult+"]");t.find("["+this.data.data_noresult+"]").not(i).show();t.attr("data-method-show")&&n(t.attr("data-method-show")).hide();t.attr("data-method-hide")&&n(t.attr("data-method-hide")).show()}};n.fn.binder.methods.data={inputs:"input,select,textarea,button",disabled:"[disabled]",data_json:"data-json",data_filterby:"data-filterby",data_filterby_required:"data-filterby-required",data_noresult:"data-noresult",data_static:"data-static",data_follow:"data-follow",data_form:"data-form",data_pagination:"data-pagination",data_scrollloader:"data-scrollloader",data_scrollbyelement:"data-scrollbyelement",data_perpage:"data-perpage",data_servername:"data-servername",data_servernames:"data-servernames",data_value:"data-value",data_showingpagefrom:"data-showingpagefrom",data_showingpageto:"data-showingpageto",data_dynamicrows:"data-dynamicrows"};window.jlfn=n.fn.binder.methods;n.fn.binder.methods.date={now:function(){return(new Date).getTime()},timeagotemplates:{prefix:"",suffix:" ago",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},format:{daysabbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsabbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],d:function(n,t,i){return i.getDate()},dd:function(n,t,i){return i.getDate()>9?i.getDate():"0"+i.getDate()},ddd:function(n,t,i){return this.daysabbr[i.getDay()]},dddd:function(n,t,i){return this.days[i.getDay()]},D:function(n,t,i){return i.getDate()},DD:function(n,t,i){return this.days[i.getDay()]},M:function(n,t,i){return i.getMonth()+1},MM:function(n,t,i){return("0"+(i.getMonth()+1)).slice(-2)},MMM:function(n,t,i){return this.monthsabbr[i.getMonth()]},MMMM:function(n,t,i){return this.months[i.getMonth()]},twelvehours:function(n){return n.getHours()>12?n.getHours()-12:n.getHours()},h:function(n,t,i){return this.twelvehours(i)},hh:function(n,t,i){return("0"+this.twelvehours(i)).slice(-2)},H:function(n,t,i){return i.getHours()},HH:function(n,t,i){return("0"+i.getHours()).slice(-2)},m:function(n,t,i){return i.getMinutes()},mm:function(n,t,i){return("0"+i.getMinutes()).slice(-2)},i:function(n,t,i){return("0"+i.getMinutes()).slice(-2)},s:function(n,t,i){return i.getSeconds()},ss:function(n,t,i){return("0"+i.getSeconds()).slice(-2)},y:function(n,t,i){return i.getFullYear().slice(-1)},yy:function(n,t,i){return i.getFullYear().slice(-2)},yyy:function(n,t,i){return i.getFullYear().slice(-3)},yyyy:function(n,t,i){return i.getFullYear()},tt:function(n,t,i){return i.getHours()>=12?"pm":"am"},TT:function(n,t,i){return i.getHours()>=12?"PM":"AM"}},dateto:function(t,i){var f=t.split(/(\/)|( )|(:)|(,)|(\|)|(\+)|(-)/g),e=i.toString().split(" "),r=this,u="";return n.each(f,function(n,f){var s,o;f&&r.format[f]&&(s=r.format[f](f,e,i),t=t.replace(f,s),o=t.split(s),u+=o[0]+s,o=o.splice(1,o.length),t=o.join(s))}),u},formatdate:function(n,t,i){var r=this.jsontodate(n,t);return r.isValid()?this.dateto(i,r):t},timeagotemplate:function(n,t){return this.timeagotemplates[n]&&this.timeagotemplates[n].replace(/%d/i,Math.abs(Math.round(t)))},timeago:function(n,t){var e=this.jsontodate(n,t),o="",h=new Date,r=(h.getTime()-e)*.001>>0,u=r/60,f=u/60,i=f/24,s=i/365;return e&&(o=this.timeagotemplates.prefix+(r<60&&this.timeagotemplate("seconds",r)||r<90&&this.timeagotemplate("minute",1)||u<60&&this.timeagotemplate("minutes",u)||u<90&&this.timeagotemplate("hour",1)||f<24&&this.timeagotemplate("hours",f)||f<42&&this.timeagotemplate("day",1)||i<30&&this.timeagotemplate("days",i)||i<45&&this.timeagotemplate("month",1)||i<365&&this.timeagotemplate("months",i/30)||s<1.5&&this.timeagotemplate("year",1)||this.timeagotemplate("years",s))+this.timeagotemplates.suffix),o},utctolocal:function(n,t,i){var r,u;return t?(r=this.formatdate(n,t,"MM/dd/yyyy hh:mm:ss TT"),r.isValid()&&(u=r+" UTC",r=new Date(u),r=this.dateto(i,r)),r):t},jsontodate:function(n,t){try{return t&&t.toLowerCase().split("date").length>1?new Date(parseInt(t.substr(6))):new Date(t)}catch(i){return""}}};n.fn.binder.methods.defaults={lazyload:"true",dynamicrowstext:"new",dynamicrowsvalue:-1,json:"",defaultorderby:"desc",defaultrequestmethod:"post",dataobject:"Rows,Data,rows,Results",paginationmaxcolumns:20,orderbyascendingicon:'<i class="fas fa-sort-up table-sort" data-orderbyascicon="true"><\/i>',orderbydescendingicon:'<i class="fas fa-sort-down table-sort" data-orderbydescicon="true"><\/i>',orderbyiconinsertmethod:"append"};n(window).trigger("updatejldefaults");n("body").append("<style>.binderhideonload[data-json]:not([data-binderinit]){ display:none; }<\/style>");n(window).on("load",function(){jlbinderwindowloaded=!0});r=n(document).ready(function(){var i,t,r;if(allowJLBinder){i=getcache("bindmanagercache");i;setTimeout(function(){jlbinderwindowloaded=!0},2e3);n("[data-json]:visible,[data-json]:hidden").not("[data-parent],[data-template],[data-template] [data-json]").binder();n("body").on("click","[data-show]",function(){n(n(this).attr("data-show")).show()});n("body").on("click","[data-hide]",function(){n(n(this).attr("data-hide")).hide()});n("body").on("click","[data-toggle]",function(){n(n(this).attr("data-toggle")).toggle()});t=function(){n('[data-lazyload="true"]').each(function(){n(window).scrollTop()+n(window).height()>=n(this).offset().top&&n(this).attr("data-json")&&(n(this).attr("data-lazyload","false"),n(this).binder(),n(this).attr("data-binderinit")||n(this).attr("data-lazyload","true"))})};n(window).on("resize",function(){t()});n(window).on("scroll",function(){t()});r=["click","change","keyup","keydown","blur"];n.each(r,function(t,i){n("body").on(i,"data-fn-"+i,function(){var t=n(this).attr("data-fn-"+i);jlfn.gotoprocess(t,n(this))})})}})}(window.jQueryAlt?window.jQueryAlt:window.jQuery?window.jQuery:null);