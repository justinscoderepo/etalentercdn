import{G as W,r as w,j as i,k as X,_ as Y,z as j}from"./main-BN7QtsnD.js";import{u as Z}from"./index.esm-BunEVAm8.js";import{F as m}from"./CheckCircleIcon-Cv2H6LS-.js";const $=X.lazy(()=>Y(()=>import("./renderComponents-28yi4KPe.js"),[])),re=({isGuardianRegistration:F,isCoordinatorView:N,participantType:R,isSubmitted:x,disableSaveLater:S,drop:q,data:s,isOver:C,selectedComponent:E,setSelectedComponent:_,components:l,setComponents:G,handlePropertiesPanelChange:D,removeComponent:T,isPlayGround:n,eventDetails:k,handleNext:V,isLastStep:z,isPrint:A})=>{let{user:f}=W();f?.RoleTitle;let H=f?.Email?.indexOf("justnshalom")!=-1;console.log({componentsFS:l});const{handleSubmit:O,register:L,unregister:M,control:U,clearErrors:B,reset:p,watch:I,getValues:d,setValue:c,trigger:ee,formState:{errors:K}}=Z({defaultValues:{...s}});d();let[a,v]=w.useState({...s});w.useEffect(()=>{s&&(Object.keys(s).forEach(e=>{M(e),c(e,s[e])}),v({...s}))},[s]);const J=e=>{_(e)};let P=l.find(e=>e.name=="name"),Q=l.find(e=>e.name=="teamName");const g=async(e,t)=>{if(window.scrollTo({top:0,behavior:"smooth"}),t===!0){if(P&&!["name","dobString"].every(o=>e[o])){j.error("Name and Date of Birth are required fields to save for later");return}if(Q&&!["teamName"].every(o=>e[o])){j.error("Team Name is a required field to save for later");return}}await V(e,p,t===!0)},y=(e,t)=>{c(e,t),s&&(s[e]=t),v({...s})};let b=[...l];return a&&l?.length>0&&!n&&(b=b.filter(e=>{let t=e.conditions?.filter(u=>u.key);return t?.length>0?!!t.every(r=>{if(r.key){let o=r.key.charAt(0).toLowerCase()+r.key.slice(1),h=a[r.key]||a[o];if((h||h===!1)&&h?.toString()==r.value)return r.value==!1,!0}return!1}):!0})),i.jsx("div",{className:("flex-auto p-2 "+n,""),children:i.jsxs("form",{onSubmit:O(g),children:[i.jsx($,{isPrint:A,user:f,isCoordinatorView:N,participantType:R,handlePropertiesChange:y,handlePropertiesPanelChange:D,formData:a,isPlayGround:n,onChangeValue:y,drop:q,isSubmitted:x,isOver:C,eventDetails:k,components:b,selectedComponent:E,handleSelect:J,register:L,getValues:d,errors:K,control:U,setValue:c,clearErrors:B,reset:p,watch:I,removeComponent:T}),!n&&!x&&i.jsx("div",{className:"mb-2 w-full flex justify-end px-0",children:F?i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(m,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Register"]}):i.jsxs(i.Fragment,{children:[!H&&!S&&i.jsxs("button",{type:"button",onClick:()=>{g(d(),!0)},className:"inline-flex items-center gap-x-2  rounded-md bg-lime-800 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-950 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-950 mr-3",children:[i.jsx(m,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Save for Later"]}),z?i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(m,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Submit"]}):i.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[i.jsx(m,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Next"]})]})})]})})};export{re as default};
