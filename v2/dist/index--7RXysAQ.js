import{r as o,b as N,c as m,d as w,j as e}from"./main-BLlSeYUi.js";import"./v2Sidebar-CfsJtaJ3.js";import{u as v}from"./navigationUtils-DItAyYjQ.js";import{F as y}from"./ArrowPathIcon-DXzDSb9L.js";import{F as E}from"./HomeIcon-BARTY_zh.js";import"./Bars3Icon-DvXHnvAJ.js";import"./ChevronDownIcon-BiyQ8cnu.js";import"./CheckCircleIcon-RhINcGNE.js";import"./GlobeAltIcon-ld7eVe01.js";import"./ArrowPathIcon-CewGdXus.js";import"./EyeIcon-BF3cq46j.js";import"./UserCircleIcon-CiIhJbFf.js";import"./XMarkIcon-BG8xTZUw.js";import"./chunk-27-B1l_Pxol.js";import"./ChevronRightIcon-_NY35HCJ.js";function R({title:t,titleId:a,...i},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),t?o.createElement("title",{id:a},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const k=o.forwardRef(R);function S({title:t,titleId:a,...i},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),t?o.createElement("title",{id:a},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const x=o.forwardRef(S),C=()=>{const t=v(),[a,i]=o.useState(new Date),[n,h]=o.useState(!1),{user:r,token:c}=N()||{};o.useEffect(()=>{try{const s=r?.Role;if(console.error("=== ERROR PAGE - DEBUG INFO ==="),console.error("Current URL:",window.location.pathname),console.error("User Role:",s,"("+(m[s]||"Unknown")+")"),console.error("User ID:",r?.UId),console.error("Has Token:",!!c),console.error("Error:",t),console.error("Error Message:",t?.message),console.error("Error Status:",t?.status),s)try{const l=w(s,r)}catch(l){console.warn("Could not get available routes:",l.message)}console.error("=================================")}catch(s){console.error("Error in error page logging:",s.message)}},[]),o.useEffect(()=>{const s=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(s)},[]);const u=()=>{r&&c?window.location.href="/v2/Home/Index":window.location.href="/v2/Account/Login"},p=()=>{window.history.back()},g=()=>{window.location.reload()},d=s=>m[s]||"Unknown Role",b=()=>t?.message?t.message:t?.statusText?t.statusText:"An unexpected error occurred",f=()=>[{name:"Reload Page",action:g,description:"Refresh and try again",icon:y},{name:"Go Home",action:u,description:r?"Return to dashboard":"Go to login",icon:E},{name:"Go Back",action:p,description:"Return to previous page",icon:k}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl w-full text-center",children:[e.jsxs("div",{className:"mb-8 mt-20",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"h-32 w-32 text-red-500 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 h-32 w-32 text-red-200 -z-10 transform translate-x-1 translate-y-1",children:e.jsx(x,{className:"h-32 w-32"})})]})}),e.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-orange-600 mb-4",children:"Unexpected Application Error"}),e.jsx("h2",{className:"text-xl font-semibold text-onSurface mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-md text-onSurfaceVariant mb-4 max-w-md mx-auto",children:"We encountered an unexpected error while processing your request. Don't worry, we're working to fix it."}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-sm font-medium text-red-800 mb-2",children:"Error Details:"}),e.jsx("p",{className:"text-sm text-red-700 font-mono break-words",children:b()}),(t?.stack||t?.status)&&e.jsxs("button",{onClick:()=>h(!n),className:"mt-3 text-xs text-red-600 hover:text-red-800 underline",children:[n?"Hide":"Show"," technical details"]}),n&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-red-200",children:[t?.status&&e.jsxs("p",{className:"text-xs text-red-700 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Status Code:"})," ",t.status]}),t?.stack&&e.jsx("div",{className:"text-xs text-red-700 font-mono text-left bg-red-100 p-2 rounded overflow-auto max-h-40",children:e.jsx("pre",{className:"whitespace-pre-wrap break-words",children:t.stack})})]})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-lg font-medium text-onSurface mb-4",children:"What would you like to do?"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:f().map((s,l)=>{const j=s.icon;return e.jsxs("div",{onClick:s.action,className:"cursor-pointer bg-white p-4 rounded-lg border border-gray-200 hover:border-red-500 hover:shadow-md transition-all duration-200 group",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(j,{className:"h-8 w-8 text-onSurfaceVariant group-hover:text-red-500 transition-colors duration-200"})}),e.jsx("h4",{className:"font-medium text-onSurface mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-onSurfaceVariant",children:s.description})]},l)})})]}),e.jsxs("div",{className:"bg-surface border border-primary/20 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"If this error persists, please contact support with the error details above."}),e.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-blue-900 mb-2",children:"ðŸ“¸ Help us fix this quickly!"}),e.jsxs("p",{className:"text-xs text-blue-800 mb-2",children:["Please take a ",e.jsx("span",{className:"font-semibold",children:"screenshot"})," of this error page and send it to us on WhatsApp when this occurs. This will help us solve the issue ASAP!"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3 border border-blue-300",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"ðŸ“ž Contact Support:"}),e.jsxs("div",{className:"space-y-1 text-xs text-blue-800",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium mr-2",children:"WhatsApp:"}),e.jsx("a",{href:"https://wa.me/919605656508",className:"text-blue-600 hover:text-blue-800 underline",target:"_blank",rel:"noopener noreferrer",children:"+91 96056 56508"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium mr-2",children:"Call:"}),e.jsx("a",{href:"tel:+48786664862",className:"text-blue-600 hover:text-blue-800 underline",children:"+48 786 664 862"})]})]})]}),e.jsxs("div",{className:"text-xs text-primary bg-surfaceCard rounded p-2 border border-primary/20",children:[e.jsx("p",{className:"font-medium mb-1",children:"Error Context (include in screenshot):"}),e.jsxs("p",{children:["Time: ",a.toLocaleString()]}),e.jsxs("p",{children:["URL: ",window.location.pathname]}),r&&e.jsxs("p",{children:["User ID: ",r.UId]}),r&&e.jsxs("p",{children:["Role: ",d(r.Role)]})]})]})]})}),r&&c&&e.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primaryHover rounded-lg p-4 text-white",children:[e.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Current User"}),e.jsx("p",{className:"font-semibold text-lg",children:r.Name||r.Email}),e.jsx("p",{className:"text-sm opacity-90",children:r.Email}),e.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20",children:["ID: ",r.UId]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white",children:[e.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Current Role"}),e.jsx("p",{className:"font-semibold text-lg",children:d(r.Role)}),e.jsxs("p",{className:"text-sm opacity-90",children:["Role ID: ",r.Role]}),r.UserRoleId&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20",children:["User Role: ",r.UserRoleId]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white",children:[e.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Current Event"}),r.EventName?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold text-lg",children:r.EventName}),e.jsxs("p",{className:"text-sm opacity-90",children:["Event ID: ",r.Event]}),r.EventCategory&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20",children:["Category: ",r.EventCategory]})]}):e.jsx("p",{className:"text-sm opacity-90",children:"No active event"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-4 text-white",children:[e.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Organization"}),r.OrganizationName?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold text-lg",children:r.OrganizationName}),e.jsxs("p",{className:"text-sm opacity-90",children:["Org ID: ",r.Organization]})]}):e.jsx("p",{className:"text-sm opacity-90",children:"No organization assigned"})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-xs text-onSurfaceVariant",children:[a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," â€¢"," ",a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})})]})})]})};C.displayName="ErrorPage";export{C as default};
