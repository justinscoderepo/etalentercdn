import{r,j as e,u as G,a as Y,L as ne,_ as F,b as W,s as ie,d as b,l as oe,q as le,g as ce,O as de}from"./main-YrYtAxAS.js";import{F as ue}from"./CheckCircleIcon-CKs5eF3C.js";import{d as D,a as E,c as L,b as V,F as T}from"./UserCircleIcon-hrRZ-6c-.js";import{F as P,a as A}from"./StarIcon-Cs4yTpAc.js";import{F as l}from"./PrinterIcon-BrZkDUvd.js";import{F as S}from"./UserGroupIcon-CEwtdB8Q.js";import{F as k}from"./UserIcon-Br9BE2qS.js";import{F as $}from"./CalendarDaysIcon-s4WpLl3k.js";import{F as me}from"./XMarkIcon-B-mLJEAK.js";function he({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const ge=r.forwardRef(he),xe=({user:t})=>{const s=new Date().getFullYear();return e.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{children:["© ",s," eTalenter Platform"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Made with"}),e.jsx(ge,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{children:"for competitions"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["User: ",t.UserName]}),e.jsx("span",{children:"•"})]}),e.jsx("span",{children:"v2.0.0"}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Build: ",new Date().toLocaleDateString()]})]})]})})};function pe({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const H=r.forwardRef(pe);function fe({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const we=r.forwardRef(fe);function ye({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const be=r.forwardRef(ye);function ve({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M4.5 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5h-.75V3.75a.75.75 0 0 0 0-1.5h-15ZM9 6a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm-.75 3.75A.75.75 0 0 1 9 9h1.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 12a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm3.75-5.25A.75.75 0 0 1 13.5 6H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM13.5 9a.75.75 0 0 0 0 1.5H15A.75.75 0 0 0 15 9h-1.5Zm-.75 3.75a.75.75 0 0 1 .75-.75H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM9 19.5v-2.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 9 19.5Z",clipRule:"evenodd"}))}const je=r.forwardRef(ve);function Re({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const q=r.forwardRef(Re);function Ce({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const ke=r.forwardRef(Ce);function Ne({title:t,titleId:s,...i},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},i),t?r.createElement("title",{id:s},t):null,r.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const Se=r.forwardRef(Ne),Q=r.forwardRef(({user:t,isSidebarCollapsed:s,onSidebarToggle:i,pageContext:d},m)=>{const v=G(),u=Y(v),[N,h]=r.useState(!1),[j,g]=r.useState(!1),[a,n]=r.useState(!1),[x,w]=r.useState(!1),[R,M]=r.useState([]),I=r.useRef(null),p=r.useRef(null),C=r.useRef(null);r.useEffect(()=>{const o=c=>{I.current&&!I.current.contains(c.target)&&h(!1),p.current&&!p.current.contains(c.target)&&g(!1),C.current&&!C.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),r.useEffect(()=>{(async()=>{try{if(!t||t.UId===0||t.Role===2||t.Role===15)return;const{post:c}=await F(async()=>{const{post:U}=await import("./httpService-BnCZZ1ib.js").then(O=>O.h);return{post:U}},[]),{data:f}=await c("/UsersRolesPlusUsersJson/GetRoles",{},!1),{Results:y}=f;y&&y.length>0?M(y):console.warn("Failed to load roles from API")}catch(c){console.error("Error loading roles from API:",c);try{const f=localStorage.getItem("roles");if(f){const y=JSON.parse(f);M(y||[])}}catch(f){console.error("Error loading roles from localStorage:",f)}}})()},[t]);const K=async()=>{try{await ie(),u("/Account/Login")}catch(o){console.error("Logout error:",o)}},ee=async()=>{try{Object.keys(localStorage).forEach(f=>{!f.includes("user")&&!f.includes("/")&&localStorage.removeItem(f)}),sessionStorage.removeItem("bindmanagercache");const{post:c}=await F(async()=>{const{post:f}=await import("./httpService-BnCZZ1ib.js").then(y=>y.h);return{post:f}},[]);await c("/CoordinatorJson/ClearCacheFolder",{}),window.location.reload()}catch(o){console.error("Clear cache error:",o),window.location.reload()}},J=()=>{if(!t?.UserName)return"U";const o=t.UserName.split(" ");return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():t.UserName[0].toUpperCase()},B=()=>W[t?.Role]||"User",te=async o=>{try{w(!0),n(!1);const c=new FormData;c.append("Email",o.UserEmail||t?.Email||""),c.append("Password","_"),c.append("MyRole",o.Role),c.append("UserRoleId",o.UserRoleId),c.append("GoogleToken","");const{post:f}=await F(async()=>{const{post:U}=await import("./httpService-BnCZZ1ib.js").then(O=>O.h);return{post:U}},[]),y=await f("/AccountJson/LoginUser",c,!0);if(y&&y.data&&y.data.success){const{user:U,token:O}=y.data,ae={user:U,token:O};localStorage.setItem("user",JSON.stringify(ae));const{triggerRouterReload:se}=await F(async()=>{const{triggerRouterReload:_}=await import("./routerReload-BW9FwukZ.js");return{triggerRouterReload:_}},[]);se("Role switched successfully");const z=U.Role===12?"/SetUp/Events":"/Home/Index";setTimeout(()=>{try{u(z),console.log("V2Header - Role switch navigation completed")}catch(_){console.warn("V2Header - Navigation failed, falling back to page reload:",_),window.location.href=z}},200),setTimeout(()=>{(window.location.pathname.includes("404")||window.location.pathname==="/")&&(console.log("V2Header - Fallback: Reloading page due to navigation issue"),window.location.reload())},3e3),console.log("V2Header - Role switch completed successfully"),w(!1)}else console.error("Role switch failed:",y?.data?.message),w(!1)}catch(c){console.error("Error switching role:",c),w(!1)}},re=o=>{switch(parseInt(o)){case 9:return"videocam";case 12:return"business";case 5:return"sports_esports";case 8:return"supervisor_account";case 6:return"assignment";case 13:return"shuffle";case 11:return"visibility";default:return"person"}},Z=(o,c)=>{switch(parseInt(o)){case 9:return"Projector Handler";case 12:return"Events Manager";case 5:return"Coordinator";case 8:return"SubCoordinator";case 6:return"Judge";case 13:return"Draw Master";case 11:return"Content Viewer";default:return c||W[o]||"User"}};return e.jsxs("header",{className:"bg-gradient-to-r from-darkprimary via-primary to-darkprimary border-b border-gray-600 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between h-12 px-2 lg:px-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{ref:m,onClick:i,className:"p-2 rounded-md text-white hover:text-gray-300 hover:bg-gray-700 transition-colors duration-200",children:e.jsx(we,{className:"h-6 w-6"})}),t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&R.length>0&&e.jsxs("div",{className:"relative",ref:C,children:[e.jsxs("button",{onClick:()=>n(!a),className:`flex flex-col items-center justify-center py-2 px-2 w-20 relative cursor-pointer text-xs text-white hover:text-white hover:bg-gray-700 transition-colors duration-200 bg-gray-800 ${a?"bg-black text-white border-l-4 border-blue-600":""}`,children:[e.jsx("span",{className:"material-symbols-outlined text-md mr-1 ",children:"switch_access"}),e.jsx("span",{className:"text-[8px]",children:"My Roles"})]}),a&&e.jsxs("div",{className:"absolute top-full w-auto py-1 max-w-[70vw] bg-black border-l-4 border-blue-600 shadow-lg z-50 text-base text-left",children:[e.jsx("div",{className:"mb-1",children:e.jsxs("button",{className:"flex items-center w-full py-3 px-4 bg-[#0c3f68] text-left border-none cursor-default text-sm",children:[e.jsx(ue,{className:"w-5 h-5 mr-3 flex-shrink-0",style:{color:"#57fb1d"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate",children:Z(t.Role,t.RoleTitle)}),t.EventName&&e.jsxs("span",{className:"text-green-300 text-xs block truncate",children:["@ ",t.EventName]})]})]})}),R.filter(o=>o.UserRoleId!==t?.UserRoleId).map((o,c)=>e.jsxs("button",{onClick:()=>te(o),className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-slate-700 transition-colors duration-200 text-sm",children:[e.jsx("span",{className:"material-symbols-outlined text-xl mr-3 flex-shrink-0 text-white",children:re(o.Role)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate",children:Z(o.Role,o.RoleTitle)}),o.EventEventName&&e.jsxs("span",{className:"text-gray-400 text-xs block truncate",children:["@ ",o.EventEventName]})]})]},o.UserRoleId||c)),R.length>0&&e.jsxs("button",{onClick:()=>{n(!1),u("/MyRoles/Index")},className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-slate-700 transition-colors duration-200 text-xs border-t border-gray-600",children:[e.jsx("span",{className:"material-symbols-outlined text-xl mr-3 flex-shrink-0 text-white",children:"settings"}),e.jsx("span",{className:"text-white font-semibold",children:"Manage All Roles"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&e.jsxs("button",{onClick:ee,className:"flex items-center space-x-1 px-3 py-2 rounded-md text-white hover:text-gray-300 hover:bg-gray-700 transition-colors duration-200",title:"Clear Cache and Refresh",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"refresh"}),e.jsx("span",{className:"hidden sm:inline text-xs",children:"Clear Cache"})]}),e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{onClick:()=>g(!j),className:"p-2 rounded-full text-white hover:text-gray-300 hover:bg-gray-700 transition-colors duration-200 relative",children:[e.jsx(be,{className:"h-6 w-6"}),e.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),j&&e.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900",children:"New competition results available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900",children:"Event registration completed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("button",{className:"text-xs text-primary hover:text-primaryHover font-medium",children:"View all notifications"})})]})})]}),e.jsxs("div",{className:"relative",ref:I,children:[e.jsxs("button",{onClick:()=>h(!N),className:"flex items-center space-x-2 p-2 rounded-lg text-white hover:bg-gray-700 transition-colors duration-200",children:[e.jsx("div",{className:"h-8 w-8 bg-primary rounded-full flex items-center justify-center text-white text-xs font-semibold",children:J()}),e.jsxs("div",{className:"hidden lg:block text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-white",children:t?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-300",children:B()})]}),e.jsx(q,{className:"h-4 w-4 text-gray-300"})]}),N&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary rounded-full flex items-center justify-center text-white text-sm font-semibold",children:J()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:t?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t?.Email}),e.jsx("p",{className:"text-xs text-primary font-medium",children:B()})]})]})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",onClick:()=>{h(!1),u("/Profile/Settings")},children:[e.jsx(D,{className:"h-5 w-5 mr-3 text-gray-500"}),"Profile Settings"]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",onClick:()=>{h(!1),u("/Settings/Preferences")},children:[e.jsx(Se,{className:"h-5 w-5 mr-3 text-gray-500"}),"Preferences"]}),e.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200",onClick:()=>{h(!1),K()},children:[e.jsx(H,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]})]})]})]})]}),x&&e.jsx(ne,{from:"V2Header-RoleSwitch",info:"Switching Role..."})]})});Q.displayName="V2Header";const Ee=({user:t,isCollapsed:s,isMobile:i})=>{const d=G(),m=Y(d),[v,u]=r.useState({}),N=a=>{u(n=>{if(n[a])return{...n,[a]:!1};{const w={};return Object.keys(n).forEach(R=>{w[R]=!1}),w[a]=!0,w}})},h=a=>{a&&a!=="#"&&(a==="/Account/LogOff"?F(async()=>{const{logoutUser:n}=await import("./main-YrYtAxAS.js").then(x=>x.x);return{logoutUser:n}},[]).then(({logoutUser:n})=>{n(),m("/Account/Login")}):m(a))},j=r.useMemo(()=>{if(!t||t.Role===7||t.Role===0)return[];const a=[],n=parseInt(t.Role,10);switch(n){case b.PROJECTOR:break;case b.USER:break;case b.COORDINATOR:t.EventCreator,t.UId;break;default:t.RoleTitle}return n===b.JUDGE&&a.push({key:"judge-panel",title:"Judge Panel",icon:P,url:"/Coordinator/RenderScoreCardV2",children:[]}),n===b.PROJECTOR&&a.push({key:"token-system",title:"Token System",icon:A,url:"/Coordinator/tokensystem",children:[]},{key:"competition-status",title:"Competition Status",icon:E,url:"/Coordinator/CompetitionStatus",children:[]}),n===b.DRAW_MASTER&&a.push({key:"draw-score-card",title:"Draw Score Card",icon:A,url:"/Coordinator/DrawCard",children:[]},{key:"print-competition-candidates",title:"Print Competition Candidates",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]}),n===b.CONTENT_ADMIN&&a.push({key:"print-competition-candidates",title:"Print Competition Candidates",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]},{key:"print-score-card",title:"Print Score Card",icon:l,url:"/Coordinator/PrintScoreCard",children:[]},{key:"print-judges-score",title:"Print Judges Score",icon:l,url:"/Coordinator/PrintJudgesScore",children:[]},{key:"print-result",title:"Print Result",icon:l,url:"/Coordinator/PrintResult",children:[]}),n===b.SUB_COORDINATOR&&a.push({key:"event-dashboard",title:"Event Dashboard",icon:E,url:"/Home/Index",children:[]},{key:"participants-management",title:"Participants Management",icon:S,url:"/Coordinator/ManageBulkParticipants",children:[]},{key:"candidate-management",title:"Candidate Management",icon:k,url:"/Coordinator/ManageCandidates",children:[]},{key:"team-management",title:"Team Management",icon:S,url:"/Coordinator/ManageTeams",children:[]},{key:"participants-by-competitions",title:"Participants by Competitions",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]},{key:"competitions-by-participant",title:"Competitions by Participant",icon:l,url:"/Coordinator/ParticipantsWiseCompetitions",children:[]}),n===b.USER&&a.push({key:"events",title:"Events",icon:E,url:"/SetUp/RenderManageEvent",children:[]},{key:"my-roles",title:"My Roles",icon:k,url:"/Setup/RenderUserRoles",children:[]}),n===b.COORDINATOR&&(a.push({key:"event-dashboard",title:"Event Dashboard",icon:E,url:"/Home/Index",children:[]}),a.push({key:"event-setup",title:"Event Setup",icon:V,url:"#",children:[{key:"manage-event",title:"Manage Event",icon:E,url:"/SetUp/RenderManageEvent"},{key:"ai-competitions",title:"AI Competitions & Group Generation",icon:A,url:"/SetUp/RenderOpenAiCompetitionStructure"},{key:"age-groups",title:"Age Groups Setup",icon:S,url:"/SetUp/ManageGroups"},{key:"competition-categories",title:"Competition Categories Setup",icon:je,url:"/SetUp/ManageCompetitionItems"},{key:"assign-competitions",title:"Assign Competitions to Groups",icon:P,url:"/CompetitionStructure/Tab"},{key:"public-registration",title:"Public Registration Form Setup",icon:L,url:"/SetUp/ManagePublicRegistrationForm"},{key:"advanced-config",title:"Advanced Event Configuration",icon:V,url:"/SetUp/EventAdvancedSettings"},{key:"scoring-setup",title:"Scoring Setup",icon:A,url:"/SetUp/ScoreSettings"},{key:"id-card-config",title:"ID Card Configuration",icon:D,url:"/SetUp/IdPrefix"},{key:"structure-status",title:"Competition Structure Status",icon:E,url:"/CompetitionStructure/Status"}]}),a.push({key:"participants-management",title:"Participants Management",icon:S,url:"#",children:[{key:"bulk-participants",title:"Bulk Participant Management",icon:S,url:"/SetUp/IframeRender"},{key:"candidate-management",title:"Candidate Management",icon:k,url:"/Coordinator/ManageCandidates"},{key:"team-management",title:"Team Management",icon:S,url:"/Coordinator/ManageTeams"},{key:"assign-teams",title:"Assign Participants to Teams",icon:S,url:"/CompetitionParticipantsTeamMembers/Manage"},{key:"candidates-detailed",title:"Candidates Detailed List",icon:L,url:"/Coordinator/RenderCandidatesDetailedList"}]}),a.push({key:"print-participants",title:"Print - Participants",icon:l,url:"#",children:[{key:"id-cards",title:"Participant ID Cards",icon:l,url:"/Coordinator/CandidatesCards"},{key:"participants-by-competitions",title:"Participants by Competitions",icon:l,url:"/Coordinator/PrintCompetitionCandidates"},{key:"competitions-by-participant",title:"Competitions by Participant",icon:l,url:"/Coordinator/ParticipantsWiseCompetitions"},{key:"participants-by-competitions-old",title:"Participants by Competitions - Old",icon:l,url:"/Coordinator/LocalWiseParticipants"},{key:"judges-score-sheet",title:"Judges Score Sheet",icon:l,url:"/Coordinator/PrintScoreCard"}]}),a.push({key:"users-roles",title:"Users & Roles",icon:k,url:"#",children:[{key:"invite-judges",title:"Invite & Assign Judges",icon:k,url:"/UsersAndRoles"},{key:"assign-judges",title:"Assign Judges to Competitions",icon:P,url:"/JudgesAllotment/Manage"},{key:"content-viewer",title:"Invite Content Viewer",icon:k,url:"/Coordinator/ContentAdmin"},{key:"draw-masters",title:"Invite Draw Masters",icon:k,url:"/Coordinator/DrawMaster"},{key:"projector-access",title:"Projector Access",icon:k,url:"/Coordinator/projector"}]}),a.push({key:"judging-scoring",title:"Judging & Scoring",icon:P,url:"#",children:[{key:"judge-scoring",title:"Judge Scoring Panel",icon:A,url:"/Coordinator/RenderScoreCardV2"},{key:"view-scores",title:"View Judge Scores",icon:P,url:"/JudgesScoreCard/Manage"},{key:"scoring-breakdown",title:"View Scoring Criteria Breakdown",icon:P,url:"/JudgesDetailedScoreCard/Manage"},{key:"score-history",title:"Score History Log",icon:P,url:"/ScoreLog/View"}]}),a.push({key:"manage-results",title:"Manage Results",icon:T,url:"#",children:[{key:"results-status",title:"Results Status",icon:E,url:"/Coordinator/RenderResultsStatus"},{key:"assign-winners",title:"Review & Assign Winners",icon:T,url:"/Coordinator/Results"}]}),a.push({key:"print-results",title:"Print - Final Results",icon:l,url:"#",children:[{key:"judges-scores",title:"Judge's Scores",icon:l,url:"/Coordinator/PrintJudgesScore"},{key:"all-results",title:"All Participant Result",icon:l,url:"/Coordinator/PrintResult"},{key:"result-presentation",title:"Result Presentation",icon:l,url:"/Coordinator/RenderResultPresentation"},{key:"live-results",title:"Live Result Presentation",icon:l,url:"/Coordinator/RenderLiveResultPresentation"},{key:"publish-results-online",title:"Publish Results Online",icon:l,url:"/Coordinator/PublishResults"},{key:"publish-results-awards",title:"Publish Results With Awards",icon:l,url:"/Coordinator/PublishResultsWithAwards"},{key:"publish-podium-results",title:"Publish Podium Results",icon:l,url:"/Coordinator/PublishPodiumResults"},{key:"publish-individual-results",title:"Publish Individual Results",icon:l,url:"/Coordinator/PublishIndividualResults"},{key:"calculate-awards",title:"Calculate Awards",icon:T,url:"/Coordinator/PublishAwardsResults"},{key:"candidate-wise-results",title:"Candidate Wise Results",icon:E,url:"/Coordinator/CandidateWiseResults"},{key:"trophy-stickers",title:"Trophy Stickers",icon:l,url:"/Coordinator/StickerBasedResults"},{key:"trophy-individual-stickers",title:"Trophy Individual Stickers",icon:l,url:"/Coordinator/StickerBasedIndividualResults"},{key:"champion-certificate",title:"Champion Certificate",icon:L,url:"/Coordinator/PrintTopCertificate"},{key:"rank-certificates",title:"Rank Certificates",icon:L,url:"/Coordinator/PrintCertificate"},{key:"participation-certificates",title:"Participation Certificates",icon:L,url:"/Coordinator/PrintParticipantCertificate"},{key:"social-media",title:"Publish to Social Media",icon:l,url:"/Coordinator/RenderPublishToSocialMedia"}]}),a.push({key:"time-management",title:"Time Management",icon:$,url:"#",children:[{key:"competition-schedule",title:"Competition Schedule Table",icon:$,url:"/CompetitionSchedule/Manage"},{key:"automate-schedule",title:"Automate Competition Schedule",icon:$,url:"/CompetitionSchedule/AutomateSchedule"},{key:"event-stages",title:"Event Stages",icon:V,url:"/EventStages/Manage"},{key:"token-system",title:"Token System",icon:A,url:"/Coordinator/tokensystem"}]}),a.push({key:"draw",title:"Draw",icon:T,url:"#",children:[{key:"competition-wise-draw",title:"Competition Wise Draw",icon:T,url:"/Coordinator/DrawCard"}]}),a.push({key:"account-settings",title:"Account Settings",icon:D,url:"#",children:[{key:"manage-account",title:"Manage Account",icon:k,url:"/Profile/ProfileSettings"},{key:"my-roles",title:"My Roles",icon:S,url:"/MyRoles/Index"},{key:"logs",title:"Logs",icon:P,url:"/Coordinator/ActivityLog"}]}),a.push({key:"logout",title:"Log Out",icon:H,url:"/Account/LogOff",children:[]})),n!==b.COORDINATOR&&n!==b.JUDGE&&(a.push({key:"account-settings",title:"Account Settings",icon:D,url:"#",children:[{key:"manage-account",title:"Manage Account",icon:k,url:"/Profile/ProfileSettings"},{key:"my-roles",title:"My Roles",icon:S,url:"/MyRoles/Index"}]}),a.push({key:"logout",title:"Log Out",icon:H,url:"/Account/LogOff",children:[]})),a},[t]),g=(a,n=0)=>{const x=a.children&&a.children.length>0,w=v[a.key],R=a.icon;return s&&n>0?null:e.jsxs("div",{className:"mb-px",children:[e.jsx("a",{href:x&&!s?"#":oe(a.url||"#"),onClick:M=>{M.preventDefault(),x&&!s?N(a.key):x||h(a.url)},className:`
            w-full flex items-center transition-colors duration-500 ease-in no-underline
            ${n===0?`text-white bg-[#061627] hover:bg-primary hover:text-white ${s?"px-2 py-3 justify-center":"px-3 py-2"}`:"text-white bg-[#0e2442] hover:bg-[#356ba8] px-3 py-2 border-l-[6px] border-gray-600 pl-6"}
            ${!s&&x?"justify-between":""}
          `,title:s?a.title:void 0,children:s&&n===0?e.jsx(R,{className:"h-5 w-5 text-white"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx(R,{className:`
                    h-4 w-4 flex-shrink-0 text-white mr-3
                  `}),!s&&e.jsx("span",{className:`text-sm ${n===0?"font-medium":"font-normal"} truncate`,children:a.title})]}),x&&!s&&e.jsx("div",{className:"flex-shrink-0 ml-2",children:w?e.jsx(q,{className:"h-4 w-4 text-white"}):e.jsx(ke,{className:"h-4 w-4 text-white"})})]})}),x&&w&&!s&&e.jsx("div",{className:"space-y-px",children:a.children.map(M=>g(M,n+1))})]},a.key)};return e.jsx("nav",{className:`flex-1 px-0 py-2 space-y-px ${s?"":"pl-3"}`,children:j.map(a=>g(a))})},X=r.forwardRef(({isCollapsed:t,isHoverExpanded:s,isMobile:i,onToggle:d,onMouseEnter:m,onMouseLeave:v,user:u,pageContext:N},h)=>{const j=u?.Role===b.USER,g=!t||s,n=j?{logoUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",iconUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ET-Favicon-white-blue-bg.png",title:"eTalenter",subtitle:"Competition Platform"}:{logoUrl:u?.OrganizationLogo,iconUrl:u?.OrganizationLogo,title:u?.Name||"Organization",subtitle:u?.EventName||"Competition Platform"};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .sidebar-scroll::-webkit-scrollbar {
          width: 8px;
        }

        .sidebar-scroll::-webkit-scrollbar-track {
          background: transparent;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb {
          border-radius: 4px;
          background-image: linear-gradient(to top, #194299 44%, #3178ce 72%, #1c3a94 86%, #3178ce 72%);
        }

        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
          background-image: linear-gradient(to top, #1a4db3 44%, #4285d1 72%, #1d3ea7 86%, #4285d1 72%);
        }
        `}),e.jsxs("div",{ref:h,onMouseEnter:m,onMouseLeave:v,className:`
        bg-black border-r border-gray-800 shadow-lg flex flex-col transition-all duration-300 ease-in-out
        ${i?`fixed inset-y-0 left-0 z-50 ${t?"-translate-x-full":"translate-x-0"} w-96`:`relative ${g?"w-96":"w-16"}`}
        ${s&&!i?"z-50 shadow-2xl":""}
      `,children:[e.jsxs("div",{className:`
          flex items-center h-14 px-3 border-b border-gray-800
          ${!g&&!i?"justify-center px-2":"justify-between"}
        `,children:[(g||i)&&e.jsx("div",{className:"flex items-center",children:j?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{src:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",alt:"eTalenter",className:"h-10 w-auto object-contain"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-8 w-8 flex items-center justify-center mr-3 shadow-sm",children:e.jsx("img",{src:n.iconUrl,alt:n.title,className:"h-8 w-8 rounded object-cover"})}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("h1",{className:"text-sm font-medium text-white truncate overflow-hidden whitespace-nowrap",children:n.title}),e.jsx("p",{className:"text-xs text-gray-200 truncate overflow-hidden whitespace-nowrap",children:n.subtitle})]})]})}),!g&&!i&&e.jsx("div",{className:"h-8 w-8 flex items-center justify-center shadow-sm",children:j?e.jsx("img",{src:n.iconUrl,alt:"eTalenter",className:"h-8 w-8 object-contain"}):e.jsx("img",{src:n.iconUrl,alt:n.title,className:"h-8 w-8 rounded object-cover"})}),i&&e.jsx("button",{onClick:d,className:"p-1.5 rounded-md text-gray-300 hover:text-white hover:bg-gray-800 transition-colors duration-200",children:e.jsx(me,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-black sidebar-scroll",children:e.jsx(Ee,{user:u,isCollapsed:!g,isMobile:i})}),e.jsxs("div",{className:`
          border-t border-gray-800 p-3 bg-gray-900
          ${!g&&!i?"px-2":""}
        `,children:[(g||i)&&e.jsx("div",{className:"text-center"}),!g&&!i&&e.jsx("div",{className:"flex justify-center"})]})]})]})});X.displayName="V2Sidebar";const De=({children:t})=>{const s=le(),{user:i,token:d}=ce()||{},[m,v]=r.useState(!1),[u,N]=r.useState(!1),[h,j]=r.useState(!1),[g,a]=r.useState(!0),n=r.useRef(null),x=r.useRef(null);r.useEffect(()=>{const p=()=>{j(window.innerWidth<1024),window.innerWidth<1024&&v(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),r.useEffect(()=>{const p=C=>{h||n.current&&!n.current.contains(C.target)&&x.current&&!x.current.contains(C.target)&&(m&&u?N(!1):m||v(!0))};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[h,m,u]);const w=()=>{!h&&m&&N(!0)},R=()=>{!h&&m&&setTimeout(()=>{N(!1)},100)};r.useEffect(()=>{const p=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(p)},[]);const I=(()=>{const p=s.pathname,C=p.split("/").filter(Boolean);return{controller:C[0]||"Home",action:C[1]||"Index",fullPath:p,breadcrumb:C.join(" > ")||"Home"}})();return g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Loading eTalenter..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(X,{ref:n,isCollapsed:m,isHoverExpanded:u,isMobile:h,onToggle:()=>v(!m),onMouseEnter:w,onMouseLeave:R,user:i,pageContext:I}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Q,{ref:x,user:i,isSidebarCollapsed:m,onSidebarToggle:()=>v(!m),pageContext:I}),e.jsx("main",{className:"flex-1 overflow-auto bg-gray-50",children:e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"min-h-full",children:t||e.jsx(de,{})})})}),e.jsx(xe,{user:i})]})]}),h&&!m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>v(!0)}),e.jsx("div",{id:"global-spinner",className:"fixed inset-0 bg-white bg-opacity-75 z-50 hidden items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Processing..."})]})}),e.jsx("div",{id:"toast-container",className:"fixed top-4 right-4 z-50 space-y-2"}),e.jsx("div",{id:"modal-container",className:"fixed inset-0 z-50 hidden"})]})};export{De as V};
