import{r as n,j as t,f as m}from"./main-pxHJVgAj.js";import{C as I}from"./index.esm-9pHF3yrR.js";import{V as C}from"./validationMessage-C1okkPfr.js";const q=({control:b,fieldName:r,label:E,formData:d,errors:x,register:k,options:a=[],optional:g,disabled:c,onChange:h})=>{const[f,z]=n.useState(x?.[r]),[v,S]=n.useState({left:0,width:0}),o=n.useState(()=>a.map(()=>null))[0],[l]=n.useState({current:null});return n.useEffect(()=>{z(x?.[r])},[x,r]),t.jsxs("div",{className:"sm:col-span-4 relative overflow-x-auto",children:[t.jsxs("label",{htmlFor:r,className:m("block text-sm font-medium leading-6 mb-2",f?"text-danger":"text-gray-900"),children:[E||r,!g&&t.jsx("span",{className:"text-danger pl-1",children:"*"})]}),c?t.jsx("div",{className:"block w-full py-1.5 sm:text-sm sm:leading-6 text-gray-500",children:a.find(u=>u.value===d?.[r])?.text||d?.[r]||"-"}):t.jsx(I,{control:b,name:r,disabled:c,rules:{required:!g},render:({field:u})=>{const p=u.value||d?.[r],i=a.findIndex(e=>e.value===p),w=()=>{if(i!==-1&&o[i]){const e=o[i];e&&S({left:e.offsetLeft,width:e.offsetWidth})}};return n.useEffect(()=>{w()},[i,o]),n.useEffect(()=>{const e=()=>{w()};window.addEventListener("resize",e);let s;return l.current&&typeof ResizeObserver<"u"&&(s=new ResizeObserver(e),s.observe(l.current)),()=>{window.removeEventListener("resize",e),s&&l.current&&s.unobserve(l.current)}},[i,o]),t.jsxs(t.Fragment,{children:[t.jsxs("div",{ref:e=>l.current=e,className:"relative flex w-full rounded-md shadow-sm bg-gray-100 p-1 ",role:"group",children:[t.jsx("div",{className:"absolute top-1 bottom-1 bg-white rounded transition-all duration-300 ease-in-out shadow-md ring-2 ring-green-600",style:{left:`${v.left}px`,width:`${v.width}px`}}),a.map((e,s)=>{const j=p===e.value;a.length-1;const y=e.icon;return t.jsxs("button",{ref:R=>o[s]=R,type:"button",onClick:()=>{u.onChange(e.value),h&&h(e.value)},className:m("relative inline-flex items-center justify-center gap-x-2 px-4 py-2 text-sm font-normal z-1 flex-1","focus:outline-none transition-colors duration-300 ease-in-out whitespace-nowrap",j?"text-green-600":"text-gray-600 hover:text-gray-900",c?"opacity-50 cursor-not-allowed":"cursor-pointer"),disabled:c,children:[y&&t.jsx(y,{className:m("h-5 w-5 transition-colors duration-300",j?"text-green-600":"text-gray-600"),"aria-hidden":"true"}),t.jsx("span",{children:e.text})]},e.value)})]}),f&&t.jsx(C,{message:f?.message||"This field is required"})]})}})]})};export{q as default};
