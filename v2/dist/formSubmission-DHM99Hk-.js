import{G as X,r as C,j as e,i as Y,_ as Z,z as R}from"./main-CFuZbwu-.js";import{u as $}from"./index.esm-Cp4oFFOI.js";import{F as o}from"./CheckCircleIcon-D6lx12Oz.js";const L=Y.lazy(()=>Z(()=>import("./renderComponents-Cf7XPerr.js"),[])),le=({isGuardianRegistration:S,isCoordinatorView:q,participantType:T,isSubmitted:y,disableSaveLater:E,drop:_,data:s,isOver:D,selectedComponent:k,setSelectedComponent:V,components:a,handlePropertiesPanelChange:z,removeComponent:H,isPlayGround:u,eventDetails:O,handleNext:w,isLastStep:c,isPrint:A})=>{let{user:m}=X(),f=m?.RoleTitle==="Guardian"||m?.RoleTitle==="Candidate",G=m?.Email?.indexOf("justnshalom")!=-1;const{handleSubmit:j,register:P,unregister:M,control:U,clearErrors:B,reset:b,watch:I,getValues:x,setValue:h,trigger:ie,formState:{errors:K}}=$({defaultValues:{...s}});x();let[d,N]=C.useState({...s});C.useEffect(()=>{s&&(Object.keys(s).forEach(i=>{M(i),h(i,s[i])}),N({...s}))},[s]);const J=i=>{V(i)};let Q=a.find(i=>i.name=="name"),W=a.find(i=>i.name=="teamName");const p=async(i,t,n)=>{if(window.scrollTo({top:0,behavior:"smooth"}),t===!0){if(Q&&!["name","dobString"].every(l=>i[l])){R.error("Name and Date of Birth are required fields to save for later");return}if(W&&!["teamName"].every(l=>i[l])){R.error("Team Name is a required field to save for later");return}}n?await w(i,b,t===!0,n===!0):await w(i,b,t===!0)},F=(i,t)=>{h(i,t),s&&(s[i]=t),N({...s})};let v=[...a];return d&&a?.length>0&&!u&&(v=v.filter(i=>{let t=i.conditions?.filter(n=>n.key);return t?.length>0?!!t.every(r=>{if(r.key){let g=r.key.charAt(0).toLowerCase()+r.key.slice(1),l=d[r.key]||d[g];if((l||l===!1)&&l?.toString()==r.value)return r.value==!1,!0}return!1}):!0})),e.jsx("div",{className:("flex-auto p-2 "+u,""),children:e.jsxs("form",{onSubmit:j(p),children:[e.jsx(L,{isPrint:A,user:m,isCoordinatorView:q,participantType:T,handlePropertiesChange:F,handlePropertiesPanelChange:z,formData:d,isPlayGround:u,onChangeValue:F,drop:_,isSubmitted:y,isOver:D,eventDetails:O,components:v,selectedComponent:k,handleSelect:J,register:P,getValues:x,errors:K,control:U,setValue:h,clearErrors:B,reset:b,watch:I,removeComponent:H}),!u&&!y&&e.jsx("div",{className:"mb-2 w-full flex justify-end px-0",children:S?e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[e.jsx(o,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Register"]}):e.jsxs(e.Fragment,{children:[f&&e.jsx(e.Fragment,{children:!G&&!E&&e.jsxs("button",{type:"button",onClick:()=>{p(x(),!0)},className:"inline-flex items-center gap-x-2  rounded-md bg-lime-800 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-950 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-950 mr-3",children:[e.jsx(o,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),f?"Save for Later":"Save & Close"]})}),!f&&e.jsxs(e.Fragment,{children:[!c&&e.jsxs("button",{type:"button",onClick:()=>{j(i=>p(i,!1,!0))()},className:"inline-flex items-center gap-x-2  rounded-md bg-lime-800 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-950 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-950 mr-3",children:[e.jsx(o,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Save & Close This Page"]}),e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary  mr-3",children:[e.jsx(o,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),c?"Save & Close This Page":"Save & Go to Next Page"]})]}),f&&e.jsx(e.Fragment,{children:c?e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[e.jsx(o,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Submit"]}):e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-x-2  rounded-md bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[e.jsx(o,{"aria-hidden":"true",className:"-mr-0.5 h-5 w-5"}),"Next Step"]})})]})})]})})};export{le as default};
