import{r as d,j as e,h as m,z as B}from"./main-CalEMNEI.js";import{V as l}from"./validationMessage-Cvoy1iv5.js";import{F as U}from"./CheckIcon-Bw2UxRcZ.js";const $=({component:n,isCoordinatorView:k,fieldName:t,label:g,placeholder:q,errors:r,register:z,formData:x,optional:j,maxLength:y,onChange:w,type:c,pattern:C,minLength:N,autocomplete:T,step:J,disabled:o,max:v,labelFont:R,noLabel:L,eventDetails:O})=>{let P=r?.[t],[i,a]=d.useState(P),[h,E]=d.useState(!1);d.useEffect(()=>{a(r?.[t])},[r?.[t]]);let W=t.includes("."),p=t.split(".")[0],S=r?.[p],I=S?t.split(".")[1]:null;d.useEffect(()=>{if(W){let s=S?.[I];a(s||"")}},[r?.[p],[r?.[p]?.[I]]]);const[D,G]=d.useState(!1);let M=function(s){let V=!1;return s&&F?.EligibleRegistrationNumbers?.find(A=>A.RegistrationNumber==s)&&(V=!0),V};const b=O?.JsonSettings;let F=(b!=null&&b!==""?JSON.parse(b):{})?.AdditionalSettings,u=F?.EligibleRegistrationNumbers?.find(s=>s.RegistrationNumber==(x?.[t]??"-")),f=n?.dontDisplayOwnerInfo;return f&&k&&(f=!1),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsxs("label",{htmlFor:t,className:m(R||"block text-sm font-medium leading-6 ",i?"text-danger":"text-gray-900"),children:[L?"":g||t,!j&&e.jsx("span",{className:"text-danger pl-1",children:"*"})]}),e.jsxs("div",{className:m("relative rounded-md shadow-sm",o?"":"mt-2"),children:[o?e.jsx("div",{className:m(c==="email"||c==="phone"?"pl-7":"pl-0","block w-full py-1.5 sm:text-sm sm:leading-6","text-gray-900   placeholder:text-gray-400 ring-gray-300 ",o?"text-gray-500":""),children:x?.[t]??"-"}):e.jsx("input",{type:"text",step:J||null,...z(t,{required:!j,maxLength:y||200,pattern:C||null,minLength:N||0,max:v||null,validate:s=>s&&!M(s)&&!n?.allowInvalidRegistrationId?(B.error("Invalid Registration Number"),setTimeout(()=>{r[t]=null},100),"Invalid "+g):!0}),onChange:s=>{if(E(!1),s.target.value)if(M(s.target.value))a("");else if(n?.allowInvalidRegistrationId)E(!0);else{a({type:"custom"});return}w&&w(s),a("")},disabled:o,autoComplete:T||"off",className:m(c==="email"||c==="phone"?"pl-10":"pl-3","block w-full rounded-md border-0 py-1.5 ring-1 ring-inset  focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",i?"border-danger focus:border-danger focus:ring-0 focus:ring-red-700 placeholder:text-red-400 ring-red-300 ":"text-gray-900  focus:border-darkprimary focus:ring-0 placeholder:text-gray-400 ring-gray-300 ",o?"bg-gray-200 text-gray-500":""),placeholder:q||"Enter "+g}),!i&&!h&&x?.[t]&&e.jsx("span",{className:"absolute right-0 top-0 mr-2 cursor-pointer bg-green-200 m-2 rounded-2xl p-1",children:e.jsx(U,{className:"h-3 w-3 text-green-600"})}),u&&!i&&!h&&!f&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 p-2 mt-2",children:[u?.ContactNumber&&e.jsx("p",{className:"text-xs text-green-800 mt-1",children:u?.ContactNumber}),u?.IssuedTo&&e.jsx("p",{className:"text-xs text-green-800 mt-1",children:u?.IssuedTo})]})})]}),i&&e.jsx("div",{children:(()=>{switch(i.type){case"required":return e.jsx(l,{message:g+" is required"});case"maxLength":return e.jsx(l,{message:"Max length is "+y});case"max":return e.jsx(l,{message:"Value must be less or equal than "+v});case"minLength":return e.jsx(l,{message:"Min length is "+N});case"pattern":return e.jsx(l,{message:"Invalid format"});default:return e.jsx(l,{message:i?.message})}})()}),h&&e.jsxs("div",{className:"justify-end flex-col flex",children:[e.jsxs("span",{className:"text-orange-600 text-right text-sm",children:["Unfortunately, this ",g," is not available in the eligible list as per the organizer rules."]}),n.warningMessage&&e.jsx("span",{className:"text-blue-800 text-right",children:n.warningMessage})]})]})};export{$ as default};
