import{r as s,x as Ae,j as e,L as de,_ as O,c as xe,y as Te,m as Ue,A as je}from"./main-yugBdkhv.js";import{a as Ne,b as ke,d as Re,e as ge}from"./navigationUtils-Bf0lah9r.js";import{F as Ie}from"./Bars3Icon-DJxHU5ij.js";import{F as oe}from"./ChevronDownIcon-CGGoBVbp.js";import{F as be}from"./CheckCircleIcon-C588zRtF.js";import{F as ie}from"./GlobeAltIcon-CUpE_BcZ.js";import{F as Fe}from"./ArrowPathIcon-Dhk0nxE6.js";import{F as Le}from"./EyeIcon-CqIAEBtj.js";import{F as He}from"./UserCircleIcon-Dln9Jftt.js";import{F as Be}from"./XMarkIcon-HBip_R7F.js";import{c as k,g as J,h as le,R as $,i as ne,j as X,k as ue,l as Y,m as L,n as I,o as re,p as Ve,q as me,A as $e,r as Oe,s as Ze,t as z,u as ve,N as fe}from"./chunk-27-DvzZUV3o.js";import{F as _e}from"./ChevronRightIcon-ZevSnWmK.js";function De({title:r,titleId:y,...o},m){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":y},o),r?s.createElement("title",{id:y},r):null,s.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Je=s.forwardRef(De);function ze({title:r,titleId:y,...o},m){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":y},o),r?s.createElement("title",{id:y},r):null,s.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const we=s.forwardRef(ze);function We({title:r,titleId:y,...o},m){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":y},o),r?s.createElement("title",{id:y},r):null,s.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const Ge=s.forwardRef(We),Qe=s.lazy(()=>O(()=>import("./themeSettings-D3IloYh-.js"),[])),qe=s.forwardRef(({user:r,isSidebarCollapsed:y,onSidebarToggle:o,pageContext:m},b)=>{const v=Ne(),h=ke(v),{loadEventCache:T}=Ae(),[P,C]=s.useState(!1),[c,j]=s.useState(!1),[l,p]=s.useState(!1),[x,N]=s.useState(!1),[U,t]=s.useState(!1),[i,f]=s.useState(!1),[S,E]=s.useState(!1),[g,R]=s.useState([]),u=s.useRef(null),B=s.useRef(null),M=s.useRef(null),A=s.useRef(null);s.useEffect(()=>{const a=n=>{u.current&&!u.current.contains(n.target)&&C(!1),B.current&&!B.current.contains(n.target)&&j(!1),M.current&&!M.current.contains(n.target)&&p(!1),A.current&&!A.current.contains(n.target)&&N(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),s.useEffect(()=>{(async()=>{try{if(!r||r.UId===0||r.Role===2||r.Role===15)return;const{post:n}=await O(async()=>{const{post:F}=await import("./main-yugBdkhv.js").then(K=>K.J);return{post:F}},[]),{data:w}=await n("/UsersRolesPlusUsersJson/GetRoles",{},!1),{Results:d}=w||{};Array.isArray(d)&&d.length>0?R(d):(console.warn("Failed to load roles from API or roles is not an array"),R([]))}catch(n){console.error("Error loading roles from API:",n);try{const w=localStorage.getItem("roles");if(w){const d=JSON.parse(w);R(Array.isArray(d)?d:[])}else R([])}catch(w){console.error("Error loading roles from localStorage:",w),R([])}}})()},[r]);const G=s.useMemo(()=>{const a=r?.UserRoleId!=null?String(r.UserRoleId):null,n=new Set;return(g||[]).filter(w=>{const d=w?.UserRoleId!=null?String(w.UserRoleId):null;return!d||a&&d===a||n.has(d)?!1:(n.add(d),!0)})},[g,r?.UserRoleId]),Z=async()=>{try{await Te(),setTimeout(()=>{h("/Account/Login")},100)}catch(a){console.error("Logout error:",a),setTimeout(()=>{h("/Account/Login")},100)}},Q=async()=>{try{E(!0),Object.keys(localStorage).forEach(d=>{!d.includes("user")&&!d.includes("/")&&localStorage.removeItem(d)}),Object.keys(sessionStorage).forEach(d=>{sessionStorage.removeItem(d)});const{post:w}=await O(async()=>{const{post:d}=await import("./main-yugBdkhv.js").then(F=>F.J);return{post:d}},[]);await w("/CoordinatorJson/ClearCacheFolder",{}),T&&await T({forceRefresh:!0}),window.location.reload()}catch(a){console.error("Clear cache error:",a),window.location.reload()}finally{E(!1)}},_=async()=>{try{const{post:a}=await O(async()=>{const{post:w}=await import("./main-yugBdkhv.js").then(d=>d.J);return{post:w}},[]),n=await a(window.location.origin+"/Version/SwitchToClassic",{});n&&n.data&&n.data.success?window.location.href=n.data.redirectUrl:console.error("Failed to switch version:",n?.data?.message)}catch(a){console.error("Error switching version:",a);const w=window.location.href.replace("/v2/index.html","/");window.location.href=w}},D=()=>{if(!r?.UserName)return"U";const a=r.UserName.split(" ");return a.length>=2?(a[0][0]+a[1][0]).toUpperCase():r.UserName[0].toUpperCase()},V=()=>xe[r?.Role]||"User",se=async a=>{try{f(!0),p(!1);const n=new FormData;n.append("Email",a.UserEmail||r?.Email||""),n.append("Password","_"),n.append("MyRole",a.Role),n.append("UserRoleId",a.UserRoleId),n.append("GoogleToken","");const{post:w}=await O(async()=>{const{post:F}=await import("./main-yugBdkhv.js").then(K=>K.J);return{post:F}},[]),d=await w("/AccountJson/LoginUser",n,!0);debugger;if(d&&d.data&&d.data.success){const{user:F,token:K}=d.data,Pe={user:F,token:K};localStorage.setItem("user",JSON.stringify(Pe));const{triggerRouterReload:Ee}=await O(async()=>{const{triggerRouterReload:pe}=await import("./main-yugBdkhv.js").then(Me=>Me.K);return{triggerRouterReload:pe}},[]);Ee("Role switched successfully");const he=F.Role===12?"/SetUp/Events":"/Home/Index";setTimeout(()=>{try{h(he)}catch{window.location.href=he}},200),setTimeout(()=>{(window.location.pathname.includes("404")||window.location.pathname==="/")&&window.location.reload()},3e3),f(!1)}else console.error("Role switch failed:",d?.data?.message),f(!1)}catch(n){console.error("Error switching role:",n),f(!1)}},q=a=>{switch(parseInt(a)){case 9:return"monitor";case 12:return"corporate_fare";case 5:return"person_check";case 8:return"manage_accounts";case 6:return"gavel";case 13:return"shuffle";case 11:return"visibility";case 2:return"person";case 15:return"family_restroom";default:return"account_circle"}},ae=(a,n)=>{switch(parseInt(a)){case 9:return"Projector Handler";case 12:return"Events Manager";case 5:return"Coordinator";case 8:return"SubCoordinator";case 6:return"Judge";case 13:return"Draw Master";case 11:return"Content Viewer";default:return n||xe[a]||"User"}};return e.jsxs(e.Fragment,{children:[S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-sidebarBg rounded-lg p-6 shadow-xl flex flex-col items-center space-y-4",children:[e.jsx(de,{}),e.jsx("p",{className:"text-sm font-medium text-sidebarText",children:"Clearing cache and refreshing data..."})]})}),e.jsxs("header",{className:"bg-sidebarBg border-b border-sidebarBorder shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between h-14 px-4 lg:px-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{ref:b,onClick:o,className:"p-2 rounded-lg text-onSurfaceVariant hover:text-onSurface hover:bg-surfaceVariant transition-all duration-200 group",children:e.jsx(Ie,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"})}),r&&r.UId!==0&&r.Role!==2&&r.Role!==15&&g.length>0&&e.jsxs("div",{className:"relative",ref:M,children:[e.jsxs("button",{onClick:()=>p(!l),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${l?"bg-surfaceVariant text-onSurface":"text-onSurfaceVariant hover:text-onSurface hover:bg-surfaceCard"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:q(r?.Role)}),e.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold leading-tight",children:V()}),r.EventName&&e.jsx("span",{className:"text-xs text-gray-500 leading-tight truncate max-w-48",children:r.EventName})]}),e.jsx(oe,{className:`h-4 w-4 transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&e.jsxs("div",{className:"absolute left-0 top-full w-80 py-1 bg-sidebarBg border border-sidebarBorder rounded-lg shadow-xl z-50 mt-2",children:[e.jsx("div",{className:"px-4 py-3 bg-sidebarHover border-b border-sidebarBorder",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-3 flex-shrink-0 text-green-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sidebarText font-semibold block truncate text-sm",children:ae(r.Role,r.RoleTitle)}),r.EventName&&e.jsxs("span",{className:"text-sidebarTextMuted text-xs flex items-center truncate mt-0.5",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),r.EventName]})]})]})}),e.jsx("div",{className:"py-1",children:G.map((a,n)=>e.jsxs("button",{onClick:()=>se(a),className:"flex items-center w-full py-3 px-4 text-left hover:bg-sidebarHover transition-all duration-200 group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-sidebarIcon group-hover:text-primary group-hover:scale-110 transition-all duration-200",children:q(a.Role)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sidebarText font-medium block truncate text-sm group-hover:text-primary transition-colors duration-200",children:ae(a.Role,a.RoleTitle)}),a.EventEventName&&e.jsxs("span",{className:"text-sidebarTextMuted text-xs flex items-center truncate mt-0.5",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),a.EventEventName]})]})]},a.UserRoleId||n))}),g.length>0&&e.jsx("div",{className:"border-t border-sidebarBorder pt-1",children:e.jsxs("button",{onClick:()=>{p(!1),h("/MyRoles/Index")},className:"flex items-center w-full py-3 px-4 text-left hover:bg-sidebarHover transition-all duration-200 group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-sidebarIcon group-hover:text-primary group-hover:scale-110 transition-all duration-200",children:"tune"}),e.jsx("span",{className:"text-sidebarText font-medium text-sm group-hover:text-primary transition-colors duration-200",children:"Manage All Roles"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&r.UId!==0&&r.Role!==2&&r.Role!==15&&e.jsxs("button",{onClick:Q,className:"flex items-center space-x-1.5 px-3 py-2 rounded-lg text-onSurfaceVariant hover:text-onSurface hover:bg-surfaceVariant transition-all duration-200 group",title:"Clear Cache",children:[e.jsx(Fe,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-300"}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Clear Cache"})]}),r&&r.UId!==0&&r.Role!==2&&r.Role!==15&&e.jsxs("div",{className:"relative",ref:A,children:[e.jsxs("button",{onClick:()=>N(!x),className:`flex items-center space-x-1.5 px-3 py-2 rounded-lg transition-all duration-200 ${x?"bg-surfaceVariant text-onSurface":"text-onSurfaceVariant hover:text-onSurface hover:bg-surfaceCard"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"computer"}),e.jsx("span",{className:"text-sm font-medium hidden md:inline",children:"Mode"}),e.jsx(oe,{className:`h-4 w-4 transition-transform duration-200 ${x?"rotate-180":""}`})]}),x&&e.jsxs("div",{className:"absolute right-0 top-full w-72 py-1 bg-sidebarBg border border-sidebarBorder rounded-lg shadow-xl z-50 mt-2",children:[e.jsx("div",{className:"px-4 py-3 bg-sidebarHover border-b border-sidebarBorder",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-3 flex-shrink-0 text-green-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sidebarText font-semibold block text-sm",children:"New Mode"}),e.jsxs("span",{className:"text-sidebarTextMuted text-xs flex items-center mt-0.5",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),"Modern React Interface"]})]})]})}),e.jsx("div",{className:"py-1",children:e.jsxs("button",{onClick:()=>{N(!1),_()},className:"flex items-center w-full py-3 px-4 text-left hover:bg-sidebarHover transition-all duration-200 group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-sidebarIcon group-hover:text-primary group-hover:scale-110 transition-all duration-200",children:"desktop_windows"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sidebarText font-medium block text-sm group-hover:text-primary transition-colors duration-200",children:"Classic Mode"}),e.jsxs("span",{className:"text-sidebarTextMuted text-xs flex items-center mt-0.5",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),"Traditional Interface"]})]})]})})]})]}),e.jsxs("div",{className:"relative",ref:B,children:[e.jsxs("button",{onClick:()=>j(!c),className:"p-2 rounded-lg text-onSurfaceVariant hover:text-onSurface hover:bg-surfaceVariant transition-all duration-200 relative group hidden",children:[e.jsx(we,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse"})]}),c&&e.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-sidebarBg rounded-lg shadow-xl border border-sidebarBorder z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-sidebarText mb-3 flex items-center",children:[e.jsx(we,{className:"h-4 w-4 mr-2 text-primary"}),"Notifications"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-sidebarHover transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2 group-hover:scale-125 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-sidebarText font-medium",children:"New competition results available"}),e.jsx("p",{className:"text-xs text-sidebarTextMuted mt-0.5",children:"2 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-sidebarHover transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2 group-hover:scale-125 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-sidebarText font-medium",children:"Event registration completed"}),e.jsx("p",{className:"text-xs text-sidebarTextMuted mt-0.5",children:"1 hour ago"})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-sidebarBorder",children:e.jsxs("button",{className:"text-xs text-primary hover:text-primaryHover font-medium flex items-center group",children:[e.jsx(Le,{className:"h-3 w-3 mr-1 group-hover:scale-110 transition-transform duration-200"}),"View all notifications"]})})]})})]}),e.jsxs("div",{className:"relative",ref:u,children:[e.jsxs("button",{onClick:()=>C(!P),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-onSurfaceVariant hover:text-onSurface hover:bg-surfaceVariant transition-all duration-200 group",children:[e.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-primary to-primaryHover rounded-full flex items-center justify-center text-white text-xs font-semibold ring-2 ring-gray-200 group-hover:ring-primary transition-all duration-200",children:D()}),e.jsxs("div",{className:"hidden lg:block text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary transition-colors duration-200 truncate max-w-32",children:r?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:V()})]}),e.jsx(oe,{className:`h-4 w-4 text-gray-500 group-hover:text-gray-700 transition-all duration-200 ${P?"rotate-180":""}`})]}),P&&e.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-sidebarBg rounded-lg shadow-xl border border-sidebarBorder z-50",children:[e.jsx("div",{className:"p-4 border-b border-sidebarBorder",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-primary to-primaryHover rounded-full flex items-center justify-center text-white text-base font-semibold ring-2 ring-gray-100",children:D()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-sidebarText truncate",children:r?.UserName||"User"}),e.jsx("p",{className:"text-xs text-sidebarTextMuted truncate mt-0.5",children:r?.Email}),e.jsxs("p",{className:"text-xs text-primary font-medium flex items-center mt-1",children:[e.jsx("span",{className:"material-symbols-outlined text-xs mr-1",children:q(r?.Role)}),V()]})]})]})}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"flex items-center w-full px-4 py-2.5 text-sm text-sidebarText hover:bg-sidebarHover transition-all duration-200 group",onClick:()=>{C(!1),h("/Profile/Settings")},children:[e.jsx(He,{className:"h-5 w-5 mr-3 text-sidebarIcon group-hover:text-primary group-hover:scale-110 transition-all duration-200"}),e.jsx("span",{className:"font-medium group-hover:text-primary transition-colors duration-200",children:"Profile Settings"})]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-2.5 text-sm text-sidebarText hover:bg-sidebarHover transition-all duration-200 group",onClick:()=>{C(!1),h("/Settings/Preferences")},children:[e.jsx(Ge,{className:"h-5 w-5 mr-3 text-sidebarIcon group-hover:text-primary group-hover:rotate-180 transition-all duration-300"}),e.jsx("span",{className:"font-medium group-hover:text-primary transition-colors duration-200",children:"Preferences"})]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-2.5 text-sm text-sidebarText hover:bg-sidebarHover transition-all duration-200 group",onClick:()=>{C(!1),t(!0)},children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 text-sidebarIcon group-hover:text-primary group-hover:scale-110 transition-all duration-200",children:"palette"}),e.jsx("span",{className:"font-medium group-hover:text-primary transition-colors duration-200",children:"Theme Settings"})]}),e.jsx("div",{className:"border-t border-sidebarBorder mt-1 pt-1",children:e.jsxs("button",{className:"flex items-center w-full px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-all duration-200 group rounded-b-lg",onClick:()=>{C(!1),Z()},children:[e.jsx(Je,{className:"h-5 w-5 mr-3 group-hover:scale-110 group-hover:translate-x-1 transition-all duration-200"}),e.jsx("span",{className:"font-medium group-hover:text-red-700 transition-colors duration-200",children:"Sign Out"})]})})]})]})]})]})]}),i&&e.jsx(de,{from:"V2Header-RoleSwitch",info:"Switching Role..."})]}),U&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/30 transition-opacity duration-300",onClick:()=>t(!1)}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex max-w-full",children:e.jsx("div",{className:"w-screen max-w-md",children:e.jsxs("div",{className:"flex h-full flex-col bg-sidebarBg shadow-xl",children:[e.jsxs("div",{className:"px-4 py-4 border-b border-sidebarBorder",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-sidebarText flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-xl",children:"palette"}),"Theme Settings"]}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-lg text-sidebarIcon hover:text-sidebarText hover:bg-sidebarHover transition-all duration-200",children:e.jsx(Be,{className:"h-5 w-5"})})]}),e.jsx("p",{className:"text-sm text-sidebarTextMuted mt-1",children:"Choose your preferred color theme"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(de,{})}),children:e.jsx(Qe,{isCondensedView:!0})})})]})})})]})]})});qe.displayName="V2Header";const ye=k("AppsList24Filled","24",["M6.25 16C7.2 16 8 16.8 8 17.75v2.5C8 21.22 7.2 22 6.25 22h-2.5C2.78 22 2 21.22 2 20.25v-2.5C2 16.8 2.78 16 3.75 16h2.5Zm3.5 2h11.5a.75.75 0 0 1 .1 1.5H9.75a.75.75 0 0 1-.1-1.5h11.6-11.5Zm-3.5-9C7.2 9 8 9.78 8 10.75v2.5C8 14.22 7.2 15 6.25 15h-2.5C2.78 15 2 14.22 2 13.25v-2.5C2 9.78 2.78 9 3.75 9h2.5Zm3.5 2h11.5a.75.75 0 0 1 .1 1.5H9.75a.75.75 0 0 1-.1-1.5h11.6-11.5Zm-3.5-9C7.2 2 8 2.78 8 3.75v2.5C8 7.2 7.2 8 6.25 8h-2.5C2.78 8 2 7.2 2 6.25v-2.5C2 2.78 2.78 2 3.75 2h2.5Zm3.5 2h11.5a.75.75 0 0 1 .1 1.5H9.75a.75.75 0 0 1-.1-1.5h11.6-11.5Z"]),ee=k("AppsListDetail24Filled","24",["M4.25 4C3.01 4 2 5 2 6.25v2.5C2 9.99 3 11 4.25 11h2.5C7.99 11 9 10 9 8.75v-2.5C9 5.01 8 4 6.75 4h-2.5Zm7 1a.75.75 0 0 0 0 1.5h10a.75.75 0 0 0 0-1.5h-10Zm0 3a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7Zm-7 5C3.01 13 2 14 2 15.25v2.5C2 18.99 3 20 4.25 20h2.5C7.99 20 9 19 9 17.75v-2.5C9 14.01 8 13 6.75 13h-2.5Zm7 1a.75.75 0 0 0 0 1.5h10a.75.75 0 0 0 0-1.5h-10Zm0 3a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7Z"]),Se=k("SignOut24Filled","24",["M12 4.35V11h7.44l-1.72-1.72a.75.75 0 0 1-.07-.98l.07-.08a.75.75 0 0 1 .98-.07l.08.07 3 3c.26.26.29.68.07.97l-.07.09-3 3a.75.75 0 0 1-1.13-.97l.07-.09 1.71-1.72H12v6.75c0 .47-.42.82-.88.74l-8.5-1.5a.75.75 0 0 1-.62-.74v-12c0-.37.27-.68.63-.74l8.5-1.4c.46-.07.87.28.87.74ZM8.5 11.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4.5 7h.87a.75.75 0 0 0 .65-.75l-.01-4.25H13v5Zm0-8.5V5h.75c.37 0 .69.28.74.65v.1L14.5 10H13Z"]),Ke=k("Organization24Filled","24",["M8 5.75a3.75 3.75 0 1 1 4.5 3.68v2.07h3.25c1.24 0 2.25 1 2.25 2.25v.82a3.75 3.75 0 1 1-1.5 0v-.82a.75.75 0 0 0-.75-.75h-8a.75.75 0 0 0-.75.75v.82a3.75 3.75 0 1 1-1.5 0v-.82c0-1.24 1-2.25 2.25-2.25H11V9.43a3.75 3.75 0 0 1-3-3.68Z"]),Xe=k("Archive24Filled","24",["M3 4.5C3 3.67 3.67 3 4.5 3h15c.83 0 1.5.67 1.5 1.5V6c0 .83-.67 1.5-1.5 1.5h-15A1.5 1.5 0 0 1 3 6V4.5ZM4 9h16v8.25A3.75 3.75 0 0 1 16.25 21h-8.5A3.75 3.75 0 0 1 4 17.25V9Zm6.25 2a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z"]),Ce=k("ChartMultiple24Filled","24",["M20 9.46V9.4A7.43 7.43 0 0 0 12.46 2a.48.48 0 0 0-.46.49V9.5c0 .28.22.5.5.5h7.02c.26 0 .48-.2.48-.46v-.08ZM10.5 4.5c0-.28-.22-.5-.5-.48a7.5 7.5 0 1 0 1.05 14.96A2.5 2.5 0 0 1 15 17.5v-1a2.5 2.5 0 0 1 2.57-2.5c.23-.63.37-1.3.41-2a.48.48 0 0 0-.48-.5h-6a1 1 0 0 1-1-1v-6Zm9.5 9a1.5 1.5 0 0 1 3 0v8a1.5 1.5 0 0 1-3 0v-8ZM17.5 15c-.83 0-1.5.67-1.5 1.5v5a1.5 1.5 0 0 0 3 0v-5c0-.83-.67-1.5-1.5-1.5Zm-4 3c-.83 0-1.5.67-1.5 1.5v2a1.5 1.5 0 0 0 3 0v-2c0-.83-.67-1.5-1.5-1.5Z"]),Ye=k("Timer24Filled","24",["M12 5a8.5 8.5 0 1 1 0 17 8.5 8.5 0 0 1 0-17Zm0 3c-.38 0-.7.28-.74.65l-.01.1v4.6a.75.75 0 0 0 1.5 0V8.65A.75.75 0 0 0 12 8Zm7.17-2.88.08.06 1.15 1a.75.75 0 0 1-.9 1.2l-.08-.06-1.15-1a.75.75 0 0 1 .9-1.2ZM14.25 2.5a.75.75 0 0 1 .1 1.5h-4.6a.75.75 0 0 1-.1-1.5h4.6Z"]),ce=k("Home24Filled","24",["M13.45 2.53c-.84-.7-2.06-.7-2.9 0L3.8 8.23c-.5.43-.8 1.05-.8 1.72v9.3c0 .97.78 1.75 1.75 1.75h3c.97 0 1.75-.78 1.75-1.75v-4c0-.68.54-1.23 1.22-1.25h2.56c.68.02 1.22.57 1.22 1.25v4c0 .97.78 1.75 1.75 1.75h3c.97 0 1.75-.78 1.75-1.75v-9.3c0-.67-.3-1.3-.8-1.72l-6.75-5.7Z"]),H=k("Print24Filled","24",["M18 17.5v1.25c0 1.24-1 2.25-2.25 2.25h-7.5C7.01 21 6 20 6 18.75V17.5H4.25c-1.24 0-2.25-1-2.25-2.25v-6C2 7.45 3.46 6 5.25 6H6v-.75C6 4.01 7 3 8.25 3h7.5C17 3 18 4 18 5.25V6h.75C20.55 6 22 7.46 22 9.25v6c0 1.24-1 2.25-2.24 2.25H18Zm-2.25-4h-7.5a.75.75 0 0 0-.75.75v4.5c0 .41.34.75.75.75h7.5c.41 0 .75-.34.75-.75v-4.5a.75.75 0 0 0-.75-.75Zm0-9h-7.5a.75.75 0 0 0-.75.75V6h9v-.75a.75.75 0 0 0-.75-.75Z"]),et=k("Dismiss24Regular","24",["m4.4 4.55.07-.08a.75.75 0 0 1 .98-.07l.08.07L12 10.94l6.47-6.47a.75.75 0 1 1 1.06 1.06L13.06 12l6.47 6.47c.27.27.3.68.07.98l-.07.08a.75.75 0 0 1-.98.07l-.08-.07L12 13.06l-6.47 6.47a.75.75 0 0 1-1.06-1.06L10.94 12 4.47 5.53a.75.75 0 0 1-.07-.98l.07-.08-.07.08Z"]),W=k("Trophy24Filled","24",["M15.25 2c1.16 0 2.12.88 2.24 2h1.27c.92 0 1.67.7 1.74 1.6v3.15a3.25 3.25 0 0 1-3.06 3.24l-.2.01a5.76 5.76 0 0 1-4.74 3.95v1.55h1.75a3.25 3.25 0 0 1 3.25 3.07V21.25c0 .38-.28.7-.64.74l-.1.01h-10a.75.75 0 0 1-.75-.65v-.6a3.25 3.25 0 0 1 3.06-3.24l.18-.01H11v-1.55A5.76 5.76 0 0 1 6.27 12h-.02A3.25 3.25 0 0 1 3 8.75v-3C3 4.78 3.78 4 4.75 4H6c.13-1.12 1.08-2 2.24-2h7Zm3.5 3.5H17.5v4.98c.8-.11 1.43-.76 1.5-1.58V5.75a.25.25 0 0 0-.18-.24l-.06-.01ZM6 5.5H4.75a.25.25 0 0 0-.25.25v3c0 .88.65 1.61 1.5 1.73V5.5Z"]),te=k("Grid24Filled","24",["M8.75 13C9.99 13 11 14 11 15.25v3.5C11 19.99 10 21 8.75 21h-3.5C4.01 21 3 20 3 18.75v-3.5C3 14.01 4 13 5.25 13h3.5Zm10 0c1.24 0 2.25 1 2.25 2.25v3.5c0 1.24-1 2.25-2.25 2.25h-3.5C14.01 21 13 20 13 18.75v-3.5c0-1.24 1-2.25 2.25-2.25h3.5Zm-10-10C9.99 3 11 4 11 5.25v3.5C11 9.99 10 11 8.75 11h-3.5C4.01 11 3 10 3 8.75v-3.5C3 4.01 4 3 5.25 3h3.5Zm10 0C19.99 3 21 4 21 5.25v3.5C21 9.99 20 11 18.75 11h-3.5C14.01 11 13 10 13 8.75v-3.5C13 4.01 14 3 15.25 3h3.5Z"]),tt=({user:r,isCollapsed:y,isMobile:o,activeSection:m})=>{const b=Ne(),v=Re(),h=ke(b),{eventDetails:T}=Ue(),[P,C]=s.useState(()=>({})),c={icon:"text-sidebarIcon",iconActive:"text-sidebarIconActive",iconHover:"text-sidebarIconHover",text:"text-sidebarText",textMuted:"text-sidebarTextMuted",bgHover:"bg-sidebarHover",bgSubmenu:"bg-sidebarSubmenu",borderActive:"border-primary"},j=t=>{if(!t||t==="All")return!0;const i=r?.UserJsonSettings?.AccessibleSections||[];return i.length===0?!0:t.split(",").map(S=>S.trim()).some(S=>i.some(E=>E.Value===S))},l=t=>{C(i=>{if(i[t])return{...i,[t]:!1};{const S={};return Object.keys(i).forEach(E=>{S[E]=!1}),S[t]=!0,S}})},p=t=>{t&&t!=="#"&&(t==="/Account/LogOff"?O(async()=>{const{logoutUser:i}=await import("./main-yugBdkhv.js").then(f=>f.I);return{logoutUser:i}},[]).then(({logoutUser:i})=>{i().then(()=>{setTimeout(()=>{h("/Account/Login")},100)})}):h(t))},x=s.useMemo(()=>{if(!r)return[];const t=[],i=parseInt(r.Role,10);switch(i){case 7:break;case 12:break;case 5:r.EventCreator,r.UId;break;default:r.RoleTitle}if(i===12)return t.push({key:"events",title:"Events",icon:ce,url:"/SetUp/Events",children:[],section:"dashboard"},{key:"my-roles",title:"My Roles",icon:J,url:"/MyRoles/Index",children:[],section:"dashboard"}),t;if(i===6&&t.push({key:"judge-panel",title:"Judge Panel",icon:le,url:"/Coordinator/RenderScoreCardV2",children:[],section:"execution"}),i===7&&t.push({key:"token-system",title:"Token System",icon:$,url:"/Coordinator/RenderTokensystem",children:[],section:"execution"},{key:"competition-status",title:"Competition Status",icon:ne,url:"/Coordinator/CompetitionStatus",children:[],section:"results"}),i===13&&t.push({key:"draw-score-card",title:"Draw Score Card",icon:te,url:"/Coordinator/DrawCard",children:[],section:"execution"},{key:"print-competition-candidates",title:"Print Competition Candidates",icon:H,url:"/Coordinator/PrintCompetitionCandidates",children:[],section:"execution"}),i===11&&t.push({key:"print-competition-candidates",title:"Print Competition Candidates",icon:H,url:"/Coordinator/PrintCompetitionCandidates",children:[],section:"execution"},{key:"print-score-card",title:"Print Score Card",icon:X,url:"/Coordinator/RenderPrintScoreCard",children:[],section:"execution"},{key:"print-judges-score",title:"Print Judges Score",icon:ue,url:"/Coordinator/RenderPrintJudgesScore",children:[],section:"results"},{key:"print-result",title:"Print Result",icon:W,url:"/Coordinator/PrintResult",children:[],section:"results"}),i===8&&t.push({key:"event-dashboard",title:"Event Dashboard",icon:ce,url:"/Home/Index",children:[],section:"dashboard"},{key:"participants-management",title:"Participants Management",icon:Y,url:"/Coordinator/ManageBulkParticipants",children:[],section:"management"},{key:"event-submission",title:"Event Submission",icon:L,url:"/Coordinator/RenderEventSubmission",children:[],section:"management"},{key:"candidate-management",title:"Candidate Management",icon:I,url:"/Coordinator/ManageCandidates",children:[],section:"management"},{key:"team-management",title:"Team Management",icon:re,url:"/Coordinator/ManageTeams",children:[],section:"management"},{key:"participants-by-competitions",title:"Participants by Competitions",icon:H,url:"/Coordinator/PrintCompetitionCandidates",children:[],section:"execution"},{key:"competitions-by-participant",title:"Competitions by Participant",icon:ye,url:"/Coordinator/ParticipantsWiseCompetitions",children:[],section:"execution"}),i===5){t.push({key:"event-dashboard",title:"Event Dashboard",icon:ce,url:"/Home/Index",children:[],section:"dashboard"}),t.push({key:"theme-settings",title:"Theme Settings",icon:Ve,url:"/Settings/ThemeSettings",children:[],section:"dashboard"}),t.push({key:"manage-event",title:"Manage Event",icon:me,url:"#",allowedSections:"EventSetup,AdvancedEventSetup",section:"setup",children:[{key:"manage-event-item",title:"Manage Event",icon:me,url:"/SetUp/RenderManageEvent?tab=edit",allowedSections:"EventSetup"},{key:"import-data",title:"Import Data",icon:$e,url:"/SetUp/RenderManageEvent?tab=import",allowedSections:"EventSetup"},{key:"export-data",title:"Export Data",icon:Oe,url:"/SetUp/RenderManageEvent?tab=export",allowedSections:"EventSetup"},{key:"warning-mails",title:"Warning Mails",icon:Ze,url:"/SetUp/RenderManageEvent?tab=warning",allowedSections:"EventSetup"},{key:"event-backup",title:"Event Backup",icon:Xe,url:"/SetUp/RenderManageEvent?tab=backup",allowedSections:"EventSetup"},{key:"advanced-config",title:"Advanced Config",icon:z,url:"/SetUp/RenderEventAdvancedSettings",allowedSections:"AdvancedEventSetup"},{key:"max-participation",title:"Max Participation",icon:z,url:"/SetUp/RenderMaxParticipation",allowedSections:"AdvancedEventSetup"},{key:"eligible-registrations",title:"Eligible Registrations",icon:z,url:"/SetUp/RenderEligibleRegistrationNumbers",allowedSections:"AdvancedEventSetup"},{key:"advanced-config-old",title:"Advanced Config (Old)",icon:z,url:"/SetUp/EventAdvancedSettings",allowedSections:"AdvancedEventSetup"}]}),t.push({key:"groups-competitions",title:"Groups and Competitions",icon:ve,url:"#",allowedSections:"EventSetup",section:"setup",children:[{key:"ai-competitions",title:"AI Competitions & Groups",icon:ve,url:"/SetUp/RenderOpenAiCompetitionStructure",allowedSections:"EventSetup"},{key:"age-groups",title:"Age Groups",icon:Y,url:"/SetUp/ManageGroups",allowedSections:"EventSetup"},{key:"competition-categories",title:"Competition Names",icon:ee,url:"/SetUp/ManageCompetitionItems",allowedSections:"EventSetup"},{key:"assign-competitions",title:"Assign Competitions",icon:te,url:"/CompetitionStructure/RenderTab",allowedSections:"EventSetup"},{key:"scoring-setup",title:"Scoring Setup",icon:$,url:"/SetUp/RenderScoreSettings",allowedSections:"EventSetup"},{key:"id-card-config",title:"ID Card Config",icon:I,url:"/SetUp/RenderIdPrefix",allowedSections:"EventSetup"}]}),t.push({key:"setup-others",title:"Others",icon:ee,url:"#",allowedSections:"EventSetup",section:"setup",children:[{key:"public-registration",title:"Public Registration",icon:L,url:"/SetUp/ManagePublicRegistrationForm",allowedSections:"EventSetup"},{key:"structure-status",title:"Structure Status",icon:Ce,url:"/CompetitionStructure/Status",allowedSections:"EventSetup"}]}),t.push({key:"participants-management",title:"Participants Management",icon:Y,url:"#",allowedSections:"BulkParticipants,CandidateEditApprove",section:"management",children:[{key:"bulk-participants",title:"Bulk Participants",icon:Y,url:"/Coordinator/ManageBulkParticipants",allowedSections:"BulkParticipants"},{key:"bulk-participants-react",title:"Bulk Participants New",icon:Y,url:"/Coordinator/RenderManageBulkParticipants",allowedSections:"BulkParticipants"},{key:"excel-import",title:"Excel Import",icon:X,url:"/Coordinator/RenderExcelImport",allowedSections:"BulkParticipants"},{key:"candidate-management",title:"Candidates",icon:I,url:"/Coordinator/ManageCandidates",allowedSections:"CandidateEditApprove"},{key:"team-management",title:"Teams",icon:re,url:"/Coordinator/ManageTeams",allowedSections:"BulkParticipants"},{key:"assign-teams",title:"Assign Teams",icon:Ke,url:"/CompetitionParticipantsTeamMembers/Manage",allowedSections:"BulkParticipants"},{key:"candidates-detailed",title:"Review Candidates",icon:L,url:"/Coordinator/RenderCandidatesDetailedList",allowedSections:"CandidateEditApprove"}]}),t.push({key:"print-participants",title:"Print Participants",icon:H,url:"#",allowedSections:"PrintAndDownload",section:"execution",children:[{key:"id-cards",title:"ID Cards",icon:I,url:"/Coordinator/CandidatesCards",allowedSections:"PrintAndDownload"},{key:"participants-by-competitions",title:"By Competitions",icon:ye,url:"/Coordinator/PrintCompetitionCandidates",allowedSections:"PrintAndDownload"},{key:"competitions-by-participant",title:"By Participant",icon:ee,url:"/Coordinator/ParticipantsWiseCompetitions",allowedSections:"PrintAndDownload"},{key:"participants-by-competitions-old",title:"By Competitions Old",icon:H,url:"/Coordinator/RenderLocalWiseParticipants",allowedSections:"PrintAndDownload"},{key:"judges-score-sheet",title:"Score Sheets",icon:X,url:"/Coordinator/PrintScoreCard",allowedSections:"PrintAndDownload"}]});const f=[{key:"invite-judges",title:"Invite Judges",icon:J,url:"/UsersAndRoles?operation=Judge",allowedSections:"UsersRoles"},{key:"assign-judges",title:"Assign Judges",icon:le,url:"/JudgesAllotment/RenderManage",allowedSections:"UsersRoles"}];T?.AllowSubCoOrdinators===1&&r?.EventLevels&&r.EventLevels.filter(g=>g.Order>1).sort((g,R)=>g.Order-R.Order).forEach(g=>{f.push({key:`invite-subcoordinator-${g.LevelName}`,title:`Invite ${g.LevelName} SubCoordinators`,icon:J,url:`/Coordinator/SubCordinators?level=${g.LevelName}`,allowedSections:"UsersRoles"},{key:`invite-subcoordinator-new-${g.LevelName}`,title:`Invite ${g.LevelName} SubCoordinators - New`,icon:J,url:`/UsersAndRoles?operation=SubCoordinator&eventLevel=${g.LevelName}`,allowedSections:"UsersRoles"})}),f.push({key:"content-viewer",title:"Content Viewer",icon:I,url:"/Coordinator/ContentAdmin",allowedSections:"UsersRoles"},{key:"draw-masters",title:"Draw Masters",icon:te,url:"/Coordinator/DrawMaster",allowedSections:"UsersRoles"},{key:"projector-access",title:"Projector Access",icon:ne,url:"/Coordinator/projector",allowedSections:"UsersRoles"}),t.push({key:"users-roles",title:"Users & Roles",icon:re,url:"#",allowedSections:"UsersRoles",section:"management",children:f}),t.push({key:"judging-scoring",title:"Judging & Scoring",icon:le,url:"#",allowedSections:"ScoreManagement",section:"judging",children:[{key:"judge-scoring",title:"Judge Scoring",icon:$,url:"/Coordinator/RenderScoreCardV2",allowedSections:"ScoreManagement"},{key:"view-scores",title:"View Scores",icon:X,url:"/JudgesScoreCard/Manage",allowedSections:"ScoreManagement"},{key:"scoring-breakdown",title:"Criteria Breakdown",icon:ue,url:"/JudgesDetailedScoreCard/Manage",allowedSections:"ScoreManagement"},{key:"score-history",title:"Score History",icon:L,url:"/ScoreLog/View",allowedSections:"ScoreManagement"}]}),t.push({key:"time-management",title:"Time Management",icon:Ye,url:"#",allowedSections:"TimeManagement",section:"judging",children:[{key:"competition-schedule",title:"Schedule Table",icon:me,url:"/CompetitionSchedule/RenderManage",allowedSections:"TimeManagement"},{key:"automate-schedule",title:"Automate Schedule",icon:z,url:"/CompetitionSchedule/AutomateSchedule",allowedSections:"TimeManagement"},{key:"event-stages",title:"Event Stages",icon:ee,url:"/EventStages/RenderManage",allowedSections:"TimeManagement"},{key:"token-system",title:"Token System",icon:$,url:"/Coordinator/RenderTokensystem",allowedSections:"TimeManagement"}]}),t.push({key:"draw",title:"Draw",icon:te,url:"#",allowedSections:"DrawManagement",section:"judging",children:[{key:"competition-wise-draw",title:"Competition Draw",icon:te,url:"/Coordinator/DrawCard",allowedSections:"DrawManagement"}]}),t.push({key:"manage-results",title:"Manage Results",icon:W,url:"#",allowedSections:"ResultPrinting,PublishResults",section:"results",children:[{key:"results-status",title:"Results Status",icon:Ce,url:"/Coordinator/RenderResultsStatus",allowedSections:"ResultPrinting,PublishResults"},{key:"assign-winners",title:"Assign Winners",icon:W,url:"/Coordinator/RenderResults",allowedSections:"ResultPrinting,PublishResults"}]}),t.push({key:"print-results",title:"Print Results",icon:H,url:"#",allowedSections:"ResultPrinting",section:"results",children:[{key:"judges-scores",title:"Judge's Scores",icon:ue,url:"/Coordinator/PrintJudgesScore",allowedSections:"ResultPrinting"},{key:"all-results",title:"All Results",icon:X,url:"/Coordinator/PrintResult",allowedSections:"ResultPrinting"},{key:"candidate-wise-results",title:"Candidate Results",icon:ee,url:"/Coordinator/CandidateWiseResults",allowedSections:"ResultPrinting"},{key:"trophy-stickers",title:"Trophy Stickers",icon:H,url:"/Coordinator/StickerBasedResults",allowedSections:"ResultPrinting"},{key:"trophy-individual-stickers",title:"Individual Stickers",icon:I,url:"/Coordinator/StickerBasedIndividualResults",allowedSections:"ResultPrinting"}]}),t.push({key:"publish-results",title:"Publish Results",icon:ne,url:"#",allowedSections:"PublishResults,ResultPrinting,PublishToSocialMedia",section:"results",children:[{key:"result-presentation",title:"Result Presentation",icon:ne,url:"/Coordinator/RenderResultPresentation",allowedSections:"ResultPrinting"},{key:"publish-results-online",title:"Publish Online",icon:L,url:"/Coordinator/PublishResults",allowedSections:"PublishResults"},{key:"publish-results-awards",title:"Publish With Awards",icon:W,url:"/Coordinator/PublishResultsWithAwards",allowedSections:"PublishResults"},{key:"publish-podium-results",title:"Podium Results",icon:$,url:"/Coordinator/PublishPodiumResults",allowedSections:"ResultPrinting"},{key:"publish-individual-results",title:"Individual Results",icon:I,url:"/Coordinator/PublishIndividualResults",allowedSections:"PublishResults"},{key:"calculate-awards",title:"Calculate Awards",icon:W,url:"/Coordinator/PublishAwardsResults",allowedSections:"PublishResults"},{key:"social-media",title:"Social Media",icon:re,url:"/Coordinator/RenderPublishToSocialMedia",allowedSections:"ResultPrinting,PublishToSocialMedia"}]}),t.push({key:"certificates-awards",title:"Certificates & Awards",icon:$,url:"#",allowedSections:"CertificatePrinting,ResultPrinting",section:"results",children:[{key:"champion-certificate",title:"Champion Certificate",icon:$,url:"/Coordinator/PrintTopCertificate",allowedSections:"CertificatePrinting"},{key:"rank-certificates",title:"Rank Certificates",icon:L,url:"/Coordinator/PrintCertificate",allowedSections:"ResultPrinting,CertificatePrinting"},{key:"participation-certificates",title:"Participation Certificates",icon:L,url:"/Coordinator/PrintParticipantCertificate",allowedSections:"CertificatePrinting"}]}),t.push({key:"manage-account",title:"Manage Account",icon:I,url:"/Profile/ProfileSettings",children:[],section:"dashboard"}),t.push({key:"my-roles",title:"My Roles",icon:J,url:"/MyRoles/Index",children:[],section:"dashboard"}),(r?.UserJsonSettings?.AccessibleSections||[]).length===0&&t.push({key:"logs",title:"Activity Logs",icon:L,url:"/Coordinator/ActivityLog",children:[],section:"dashboard"}),t.push({key:"logout",title:"Log Out",icon:Se,url:"/Account/LogOff",children:[],section:"dashboard"})}return i!==5&&i!==6&&(t.push({key:"manage-account",title:"Manage Account",icon:I,url:"/Profile/ProfileSettings",children:[],section:"dashboard"}),t.push({key:"my-roles",title:"My Roles",icon:J,url:"/MyRoles/Index",children:[],section:"dashboard"}),t.push({key:"logout",title:"Log Out",icon:Se,url:"/Account/LogOff",children:[],section:"dashboard"})),t},[r,T]),N=s.useMemo(()=>m?x.filter(t=>t.section===m):x,[x,m]);s.useEffect(()=>{if(N.length>0){const t={};N.forEach(i=>{i.children&&i.children.length>0&&(t[i.key]=!0)}),C(t)}},[N,m]);const U=(t,i=0)=>{if(!j(t.allowedSections))return null;const f=t.children?.filter(u=>j(u.allowedSections))||[],S=f.length>0,E=P[t.key],g=t.icon,R=t.url&&t.url!=="#"&&(()=>{if(t.url.includes("?")){const[u,B]=t.url.split("?"),M=v.pathname,A=v.search.substring(1),G=M===u||M.startsWith(u+"/"),Z=new URLSearchParams(B),Q=new URLSearchParams(A);let _=!0;for(let[D,V]of Z)if(Q.get(D)!==V){_=!1;break}return G&&_}return v.pathname===t.url||v.pathname.startsWith(t.url+"/")})();return y&&i>0?null:S&&i===0?e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>l(t.key),className:`w-full flex items-center justify-between px-2 py-2.5 text-left  transition-colors duration-200 ${c.bgHover}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:`h-4 w-4 ${c.icon}`}),e.jsx("span",{className:`text-xs font-semibold ${c.iconHover}`,children:t.title})]}),E?e.jsx(oe,{className:`h-4 w-4 ${c.icon}`}):e.jsx(_e,{className:`h-4 w-4 ${c.icon}`})]}),E&&e.jsx("div",{className:"mt-1 ",children:f.map(u=>{const B=u.icon,M=u.url&&u.url!=="#"&&(()=>{if(u.url.includes("?")){const[A,G]=u.url.split("?"),Z=v.pathname,Q=v.search.substring(1),_=Z===A||Z.startsWith(A+"/"),D=new URLSearchParams(G),V=new URLSearchParams(Q);let se=!0;for(let[q,ae]of D)if(V.get(q)!==ae){se=!1;break}return _&&se}return v.pathname===u.url||v.pathname.startsWith(u.url+"/")})();return e.jsxs("a",{href:ge(u.url||"#"),onClick:A=>{A.preventDefault(),u.url&&p(u.url)},className:`
                      flex items-center gap-2 px-3 py-2.5 mr-[-2px]
                      transition-all duration-200 no-underline group
                      ${c.bgSubmenu}
                      ${M?`border-r-2 ${c.borderActive}`:"hover:brightness-110"}
                    `,children:[e.jsx(B,{className:`h-4 w-4 flex-shrink-0 ${M?c.iconActive:c.icon}`}),e.jsx("span",{className:`text-xs font-medium ${M?c.text:c.textMuted}`,children:u.title})]},u.key)})})]},t.key):e.jsxs("a",{href:ge(t.url||"#"),onClick:u=>{u.preventDefault(),t.url&&p(t.url)},className:`
          flex items-center gap-2 px-3 py-2 mb-1 mr-[-2px]
          transition-all duration-200 no-underline group
          ${R?`${c.bgHover} border-r-2 ${c.borderActive}`:`hover:${c.bgHover}`}
        `,children:[e.jsx(g,{className:`h-4 w-4 flex-shrink-0 ${R?c.iconActive:c.icon}`}),e.jsx("span",{className:`text-xs font-medium ${R?c.text:c.textMuted}`,children:t.title})]},t.key)};return e.jsx("nav",{className:"flex-1 ",children:N.map(t=>U(t))})},rt=({user:r,pageContext:y,isCollapsed:o,onToggle:m,logoInfo:b,activeSection:v,onSectionChange:h,isMobile:T})=>{const P=r?.Role===je.USER,c=[{id:"dashboard",icon:ce,label:"Dashboard",tooltip:"Home Dashboard",color:"text-[#0b4f6c]",activeColor:"text-[#083a50]",bgColor:"bg-blue-50"},{id:"setup",icon:z,label:"Setup",tooltip:"Event Configuration",color:"text-[#145c9e]",activeColor:"text-[#0f4577]",bgColor:"bg-blue-50"},{id:"management",icon:re,label:"Participants",tooltip:"Participants & Users",color:"text-[#0077B5]",activeColor:"text-[#005885]",bgColor:"bg-blue-50"},{id:"execution",icon:H,label:"Print",tooltip:"Print Participants",color:"text-[#0e9594]",activeColor:"text-[#0a6f6e]",bgColor:"bg-teal-50"},{id:"judging",icon:le,label:"Judging",tooltip:"Scoring & Time Management",color:"text-[#034078]",activeColor:"text-[#022a52]",bgColor:"bg-blue-50"},{id:"results",icon:W,label:"Results",tooltip:"Reports & Publishing",color:"text-[#4f772d]",activeColor:"text-[#3a5821]",bgColor:"bg-green-50"}],j=l=>{v===l&&!o?m():(h(l),o&&m())};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .primary-sidebar-scroll::-webkit-scrollbar {
          width: 4px;
          height: 4px;
        }

        .primary-sidebar-scroll::-webkit-scrollbar-track {
          background: transparent;
        }

        .primary-sidebar-scroll::-webkit-scrollbar-thumb {
          border-radius: 2px;
          background: rgba(156, 163, 175, 0.3);
        }

        .primary-sidebar-scroll::-webkit-scrollbar-thumb:hover {
          background: rgba(156, 163, 175, 0.5);
        }
        `}),T?e.jsx("div",{className:"w-full border-b bg-sidebarBg border-sidebarBorder",children:e.jsxs("div",{className:"flex items-center overflow-x-auto primary-sidebar-scroll",children:[e.jsx("div",{className:"flex-shrink-0 px-3 py-2 flex items-center border-r border-sidebarBorder",children:e.jsx("div",{className:"h-10 w-10 flex items-center justify-center",children:P?e.jsx("img",{src:b.iconUrl,alt:"eTalenter",className:"h-10 w-10 object-contain",title:b.title}):e.jsx("img",{src:b.iconUrl,alt:b.title,className:"h-10 w-10 rounded object-contain",title:b.title})})}),e.jsx("div",{className:"flex items-center gap-1 px-2 py-2 flex-1",children:c.map(l=>{const p=l.icon,x=v===l.id;return e.jsxs("button",{onClick:()=>j(l.id),className:`
                      flex-shrink-0 h-12 px-3 flex flex-col items-center justify-center rounded-md
                      transition-all duration-200
                      ${x?"bg-primary text-white shadow-sm border border-primaryHover":"hover:bg-sidebarHover hover:border hover:border-sidebarBorder text-sidebarIcon"}
                    `,children:[e.jsx(p,{className:`h-5 w-5 ${x?"text-white":"text-sidebarIcon"}`}),e.jsx("span",{className:`text-[9px] font-medium mt-0.5 whitespace-nowrap ${x?"text-white":"text-sidebarText"}`,children:l.label})]},l.id)})}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-3 py-2 border-l border-sidebarBorder",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-md border bg-sidebarHover border-sidebarBorder",children:r?.ProfilePicture?e.jsx("img",{src:r.ProfilePicture,alt:r.Name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white text-xs font-semibold",children:r?.Name?.charAt(0)?.toUpperCase()||"U"})}),e.jsx("button",{onClick:m,className:"h-10 w-10 flex items-center justify-center rounded-md border transition-all duration-200 bg-sidebarHover text-sidebarText hover:bg-sidebarHover hover:text-sidebarTextMuted border-sidebarBorder",title:"Close Menu",children:e.jsx(fe,{className:"h-5 w-5"})})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-16 flex flex-col fixed top-0 bottom-0 z-30 bg-sidebarBg",children:[e.jsx("div",{className:"h-14 flex items-center justify-center ",children:e.jsx("div",{className:"h-8 w-8 flex items-center justify-center cursor-pointer transition-transform hover:scale-110",children:P?e.jsx("img",{src:b.iconUrl,alt:"eTalenter",className:"h-8 w-8 object-contain",title:b.title}):e.jsx("img",{src:b.iconUrl,alt:b.title,className:"h-8 w-8 rounded object-contain",title:b.title})})}),e.jsx("div",{className:"px-2 py-3 ",children:e.jsx("button",{onClick:m,className:`
                  w-full h-10 flex items-center justify-center rounded-md
                  transition-all duration-200
                  ${o?"bg-sidebarHover text-sidebarText border-sidebarBorder hover:bg-sidebarHover shadow-sm":"bg-primary text-white hover:bg-primaryHover border-primaryHover shadow-sm"}
                `,title:o?"Expand Menu":"Collapse Menu",children:e.jsx(fe,{className:"h-5 w-5"})})}),e.jsx("div",{className:"flex-1 overflow-y-auto primary-sidebar-scroll py-2",children:e.jsx("nav",{className:"space-y-1 px-2",children:c.map(l=>{const p=l.icon,x=v===l.id;return e.jsxs("button",{onClick:()=>j(l.id),className:`
                        w-full h-14 flex flex-col items-center justify-center rounded-md
                        transition-all duration-200 group relative py-1.5 px-2
                        
                        ${x?"bg-primary text-white shadow-sm border border-primaryHover":"hover:bg-sidebarHover hover:border hover:border-sidebarBorder text-sidebarIcon"}
                      `,title:l.label,children:[e.jsx(p,{className:`h-5 w-5 ${x?"text-white":"text-sidebarIcon"}`}),e.jsx("span",{className:`text-[9px] w-full text-ellipsis overflow-hidden whitespace-nowrap font-medium mt-0.5  ${x?"text-white":"text-sidebarText"}`,children:l.label}),e.jsxs("div",{className:`absolute left-full ml-2 px-3 py-2 rounded transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50 shadow-lg border bg-sidebarHover text-sidebarText border-sidebarBorder ${x?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[e.jsx("div",{className:"text-xs font-semibold",children:l.label}),e.jsx("div",{className:"text-[10px] mt-0.5 text-sidebarTextMuted",children:l.tooltip})]})]},l.id)})})}),e.jsx("div",{className:"p-2 border-t border-sidebarBorder",children:e.jsxs("div",{className:"w-full h-12 flex items-center justify-center rounded-md group relative cursor-pointer transition-colors duration-200 border bg-sidebarHover border-sidebarBorder hover:bg-sidebarHover",children:[r?.ProfilePicture?e.jsx("img",{src:r.ProfilePicture,alt:r.Name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white text-xs font-semibold",children:r?.Name?.charAt(0)?.toUpperCase()||"U"}),e.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50 shadow-lg border bg-sidebarHover text-sidebarText border-sidebarBorder",children:r?.Name||"User"})]})})]}),e.jsx("div",{className:"w-16 flex-shrink-0"})]})]})},st=s.forwardRef(({isCollapsed:r,isHoverExpanded:y,isMobile:o,onToggle:m,onMouseEnter:b,onMouseLeave:v,user:h,pageContext:T},P)=>{const C=Re(),[c,j]=s.useState("dashboard");s.useEffect(()=>{const U=C.pathname.toLowerCase(),t={dashboard:["/dashboard","/home","/v2/dashboard","/v2/home"],setup:["/setup/","/event/","/competitionstructure/","/eventstages/","/advancedsettings","/v2/setup/","/v2/event/","/v2/competitionstructure/","/v2/eventstages/","/v2/advancedsettings"],management:["/coordinator/renderparticipant","/coordinator/manageorganization","/coordinator/bulkparticipants","/coordinator/renderexcelimport","/coordinator/eventsubmission","/usersandroles","/v2/coordinator/renderparticipant","/v2/coordinator/manageorganization","/v2/coordinator/bulkparticipants","/v2/coordinator/renderexcelimport","/v2/coordinator/eventsubmission","/v2/usersandroles"],execution:["/print/","/coordinator/printparticipants","/v2/print/","/v2/coordinator/printparticipants"],judging:["/judgesallotment","/judge/","/competitionschedule","/draw/","/v2/judgesallotment","/v2/judge/","/v2/competitionschedule","/v2/draw/"],results:["/coordinator/results","/coordinator/publishresults","/coordinator/liveresult","/coordinator/manageresultsstatus","/coordinator/publishtosocialmedia","/v2/coordinator/results","/v2/coordinator/publishresults","/v2/coordinator/liveresult","/v2/coordinator/manageresultsstatus","/v2/coordinator/publishtosocialmedia"]};for(const[i,f]of Object.entries(t))if(f.some(S=>U.includes(S))){j(i);return}(U==="/"||U===""||U==="/v2"||U==="/v2/")&&j("dashboard")},[C.pathname]);const l=h?.Role===je.USER,p=!r||y,N=l?{logoUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",iconUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ET-Favicon-white-blue-bg.png",title:"eTalenter",subtitle:"Competition Platform"}:{logoUrl:h?.OrganizationLogo,iconUrl:h?.OrganizationLogo,title:h?.Name||"Organization",subtitle:h?.EventName||"Competition Platform"};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .sidebar-scroll::-webkit-scrollbar {
          width: 8px;
        }

        .sidebar-scroll::-webkit-scrollbar-track {
          background: transparent;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb {
          border-radius: 4px;
          background: rgba(156, 163, 175, 0.3);
        }

        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
          background: rgba(156, 163, 175, 0.5);
        }
        `}),e.jsxs("div",{className:`
        flex
        ${o?"flex-col fixed inset-0 z-50 bg-surface":""}
        ${o&&r?"-translate-x-full":"translate-x-0"}
        transition-transform duration-300 ease-in-out
      `,children:[e.jsx("div",{onMouseEnter:o?void 0:b,onMouseLeave:o?void 0:v,className:o?"border-b border-border":"",children:e.jsx(rt,{user:h,pageContext:T,isCollapsed:r,onToggle:m,logoInfo:N,activeSection:c,onSectionChange:j,isMobile:o})}),e.jsxs("div",{ref:P,onMouseEnter:o?void 0:b,onMouseLeave:o?void 0:v,className:`
          bg-sidebarBg border-sidebarBorder border-r shadow-lg flex flex-col transition-all duration-300 ease-in-out
          ${o?"flex-1 overflow-hidden":`relative ${p?"w-64":"w-0 border-r-0"}`}
          ${y&&!o?"z-50 shadow-2xl":""}
          ${!p&&!o?"overflow-hidden":""}
        `,children:[e.jsxs("div",{className:`
            flex items-center h-14 px-3 bg-sidebarBg no-gradient
            ${!p&&!o?"opacity-0":"opacity-100"}
            transition-opacity duration-300
          `,children:[(p||o)&&e.jsx("div",{className:"flex items-center flex-1",children:l?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{src:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",alt:"eTalenter",className:"h-9 w-auto object-contain"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col min-w-0 flex-1 ",children:[e.jsx("h1",{className:"text-xs font-semibold truncate overflow-hidden whitespace-nowrap text-sidebarText",children:N.title}),e.jsx("p",{className:"text-[10px] truncate overflow-hidden whitespace-nowrap text-sidebarTextMuted",children:N.subtitle})]})})}),o&&e.jsx("button",{onClick:m,className:"p-1.5 rounded-md transition-colors duration-200 text-sidebarTextMuted hover:text-sidebarText hover:bg-sidebarHover",children:e.jsx(et,{className:"h-5 w-5"})})]}),e.jsx("div",{className:`flex-1 overflow-y-auto sidebar-scroll bg-sidebarBg ${!p&&!o?"opacity-0":"opacity-100"} transition-opacity duration-300`,children:e.jsx(tt,{user:h,isCollapsed:!p,isMobile:o,activeSection:c})})]})]})]})});st.displayName="V2Sidebar";export{st as V,qe as a};
