import{r as s,u as ge,j as e,L as ee,_ as I,x as te,y as xe,l as we,z as fe}from"./main-BWzMsQNc.js";import{u as oe,a as ie,b as be}from"./index-T2M3h99b.js";import{F as ye}from"./Bars3Icon-BBqW_g8l.js";import{F as re}from"./CheckCircleIcon-oW_1BzFK.js";import{F as O}from"./GlobeAltIcon-HXTwSIdN.js";import{F as ve}from"./ArrowPathIcon-C4QUQS6u.js";import{F as Se,a as $,b as k,c as M,d as z}from"./UserCircleIcon-DQ3TeVrR.js";import{F as se}from"./ChevronDownIcon-CxoaA131.js";import{F as b}from"./UserIcon-cPqwpKWv.js";import{F as C}from"./ClipboardDocumentListIcon-C4lEeVxj.js";import{F as U}from"./StarIcon-Bn48shm8.js";import{F as l}from"./PrinterIcon-DtPwox5j.js";import{F as S}from"./UserGroupIcon-C-WWz30m.js";import{F as Re}from"./BuildingOfficeIcon-CNTAWYFY.js";import{F as _}from"./TrophyIcon-DLEiTAkJ.js";import{F as H}from"./CalendarDaysIcon-Y-qrjcwH.js";import{F as ke}from"./ChevronRightIcon-C0sUBASV.js";import{F as Ce}from"./XMarkIcon-D1m40oZE.js";function je({title:t,titleId:c,...d},v){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:v,"aria-labelledby":c},d),t?s.createElement("title",{id:c},t):null,s.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const W=s.forwardRef(je);function Ne({title:t,titleId:c,...d},v){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:v,"aria-labelledby":c},d),t?s.createElement("title",{id:c},t):null,s.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const ne=s.forwardRef(Ne);function Pe({title:t,titleId:c,...d},v){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:v,"aria-labelledby":c},d),t?s.createElement("title",{id:c},t):null,s.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const Ee=s.forwardRef(Pe),Me=s.forwardRef(({user:t,isSidebarCollapsed:c,onSidebarToggle:d,pageContext:v},N)=>{const A=oe(),p=ie(A),{loadEventCache:P}=ge(),[j,y]=s.useState(!1),[w,L]=s.useState(!1),[g,r]=s.useState(!1),[o,x]=s.useState(!1),[u,f]=s.useState(!1),[F,m]=s.useState(!1),[E,G]=s.useState([]),D=s.useRef(null),V=s.useRef(null),J=s.useRef(null),B=s.useRef(null);s.useEffect(()=>{const n=i=>{D.current&&!D.current.contains(i.target)&&y(!1),V.current&&!V.current.contains(i.target)&&L(!1),J.current&&!J.current.contains(i.target)&&r(!1),B.current&&!B.current.contains(i.target)&&x(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]),s.useEffect(()=>{(async()=>{try{if(!t||t.UId===0||t.Role===2||t.Role===15)return;const{post:i}=await I(async()=>{const{post:R}=await import("./main-BWzMsQNc.js").then(T=>T.I);return{post:R}},[]),{data:h}=await i("/UsersRolesPlusUsersJson/GetRoles",{},!1),{Results:a}=h;a&&a.length>0?G(a):console.warn("Failed to load roles from API")}catch(i){console.error("Error loading roles from API:",i);try{const h=localStorage.getItem("roles");if(h){const a=JSON.parse(h);G(a||[])}}catch(h){console.error("Error loading roles from localStorage:",h)}}})()},[t]);const ae=s.useMemo(()=>{const n=t?.UserRoleId!=null?String(t.UserRoleId):null,i=new Set;return(E||[]).filter(h=>{const a=h?.UserRoleId!=null?String(h.UserRoleId):null;return!a||n&&a===n||i.has(a)?!1:(i.add(a),!0)})},[E,t?.UserRoleId]),le=async()=>{try{await xe(),setTimeout(()=>{p("/Account/Login")},100)}catch(n){console.error("Logout error:",n),setTimeout(()=>{p("/Account/Login")},100)}},ce=async()=>{try{m(!0),Object.keys(localStorage).forEach(a=>{!a.includes("user")&&!a.includes("/")&&localStorage.removeItem(a)}),Object.keys(sessionStorage).forEach(a=>{sessionStorage.removeItem(a)});const{post:h}=await I(async()=>{const{post:a}=await import("./main-BWzMsQNc.js").then(R=>R.I);return{post:a}},[]);await h("/CoordinatorJson/ClearCacheFolder",{}),P&&await P({forceRefresh:!0}),window.location.reload()}catch(n){console.error("Clear cache error:",n),window.location.reload()}finally{m(!1)}},de=async()=>{try{const{post:n}=await I(async()=>{const{post:h}=await import("./main-BWzMsQNc.js").then(a=>a.I);return{post:h}},[]),i=await n(window.location.origin+"/Version/SwitchToClassic",{});i&&i.data&&i.data.success?window.location.href=i.data.redirectUrl:console.error("Failed to switch version:",i?.data?.message)}catch(n){console.error("Error switching version:",n);const h=window.location.href.replace("/v2/index.html","/");window.location.href=h}},Z=()=>{if(!t?.UserName)return"U";const n=t.UserName.split(" ");return n.length>=2?(n[0][0]+n[1][0]).toUpperCase():t.UserName[0].toUpperCase()},q=()=>te[t?.Role]||"User",ue=async n=>{try{f(!0),r(!1);const i=new FormData;i.append("Email",n.UserEmail||t?.Email||""),i.append("Password","_"),i.append("MyRole",n.Role),i.append("UserRoleId",n.UserRoleId),i.append("GoogleToken","");const{post:h}=await I(async()=>{const{post:R}=await import("./main-BWzMsQNc.js").then(T=>T.I);return{post:R}},[]),a=await h("/AccountJson/LoginUser",i,!0);if(a&&a.data&&a.data.success){const{user:R,token:T}=a.data,me={user:R,token:T};localStorage.setItem("user",JSON.stringify(me));const{triggerRouterReload:he}=await I(async()=>{const{triggerRouterReload:Y}=await import("./main-BWzMsQNc.js").then(pe=>pe.J);return{triggerRouterReload:Y}},[]);he("Role switched successfully");const X=R.Role===12?"/SetUp/Events":"/Home/Index";setTimeout(()=>{try{p(X)}catch{window.location.href=X}},200),setTimeout(()=>{(window.location.pathname.includes("404")||window.location.pathname==="/")&&window.location.reload()},3e3),f(!1)}else console.error("Role switch failed:",a?.data?.message),f(!1)}catch(i){console.error("Error switching role:",i),f(!1)}},K=n=>{switch(parseInt(n)){case 9:return"monitor";case 12:return"corporate_fare";case 5:return"group_work";case 8:return"manage_accounts";case 6:return"gavel";case 13:return"shuffle";case 11:return"visibility";case 2:return"person";case 15:return"family_restroom";default:return"account_circle"}},Q=(n,i)=>{switch(parseInt(n)){case 9:return"Projector Handler";case 12:return"Events Manager";case 5:return"Coordinator";case 8:return"SubCoordinator";case 6:return"Judge";case 13:return"Draw Master";case 11:return"Content Viewer";default:return i||te[n]||"User"}};return e.jsxs(e.Fragment,{children:[F&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl flex flex-col items-center space-y-4",children:[e.jsx(ee,{}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Clearing cache and refreshing data..."})]})}),e.jsxs("header",{className:"bg-gradient-to-r from-darkprimary via-primary to-darkprimary border-b border-gray-600 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between h-10 px-1 lg:px-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{ref:N,onClick:d,className:"p-1.5 rounded-md text-white hover:text-gray-300 hover:bg-white/10 transition-all duration-200 group",children:e.jsx(ye,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"})}),t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&E.length>0&&e.jsxs("div",{className:"relative",ref:J,children:[e.jsxs("button",{onClick:()=>r(!g),className:`flex flex-col items-center justify-center py-1 px-1.5 w-16 relative cursor-pointer text-xs text-white hover:text-white hover:bg-white/10 transition-all duration-200 bg-black/30 backdrop-blur-sm rounded-lg group ${g?"bg-white/20 text-white border border-white/30 shadow-lg":""}`,children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-0.5 group-hover:scale-110 transition-transform duration-200",children:"swap_horizontal_circle"}),e.jsx("span",{className:"text-[7px] font-medium",children:"Roles"})]}),g&&e.jsxs("div",{className:"absolute top-full w-auto py-1 max-w-[70vw] bg-gray-900/95 backdrop-blur-sm border border-white/20 rounded-lg shadow-xl z-50 text-base text-left mt-2",children:[e.jsx("div",{className:"mb-1",children:e.jsxs("button",{className:"flex items-center w-full py-3 px-4 bg-primary/20 text-left border-none cursor-default text-sm rounded-t-lg",children:[e.jsx(re,{className:"w-5 h-5 mr-3 flex-shrink-0 text-green-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate",children:Q(t.Role,t.RoleTitle)}),t.EventName&&e.jsxs("span",{className:"text-green-300 text-xs flex items-center truncate",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),t.EventName]})]})]})}),ae.map((n,i)=>e.jsxs("button",{onClick:()=>ue(n),className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-white/10 transition-all duration-200 text-sm group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-blue-300 group-hover:text-blue-200 group-hover:scale-110 transition-all duration-200",children:K(n.Role)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate group-hover:text-blue-200 transition-colors duration-200",children:Q(n.Role,n.RoleTitle)}),n.EventEventName&&e.jsxs("span",{className:"text-gray-300 text-xs flex items-center truncate",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),n.EventEventName]})]})]},n.UserRoleId||i)),E.length>0&&e.jsxs("button",{onClick:()=>{r(!1),p("/MyRoles/Index")},className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-white/10 transition-all duration-200 text-xs border-t border-white/20 mt-1 group rounded-b-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-gray-300 group-hover:text-white group-hover:scale-110 transition-all duration-200",children:"tune"}),e.jsx("span",{className:"text-gray-300 font-semibold group-hover:text-white transition-colors duration-200",children:"Manage All Roles"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&e.jsxs("button",{onClick:ce,className:"flex items-center space-x-0.5 px-2 py-1.5 rounded-lg text-white hover:text-gray-300 hover:bg-white/10 transition-all duration-200 group backdrop-blur-sm",title:"Clear Cache",children:[e.jsx(ve,{className:"h-3.5 w-3.5 group-hover:rotate-180 transition-transform duration-300"}),e.jsx("span",{className:"hidden sm:inline text-xs font-medium",children:"Clear Cache"})]}),t&&t.UId!==0&&t.Role!==2&&t.Role!==15&&e.jsxs("div",{className:"relative",ref:B,children:[e.jsxs("button",{onClick:()=>x(!o),className:`flex flex-col items-center justify-center py-1 px-1.5 w-16 relative cursor-pointer text-xs text-white hover:text-white hover:bg-white/10 transition-all duration-200 bg-black/30 backdrop-blur-sm rounded-lg group ${o?"bg-white/20 text-white border border-white/30 shadow-lg":""}`,children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-0.5 group-hover:scale-110 transition-transform duration-200",children:"computer"}),e.jsx("span",{className:"text-[7px] font-medium",children:"Mode"})]}),o&&e.jsxs("div",{className:"absolute top-full w-auto py-1 max-w-[70vw] bg-gray-900/95 backdrop-blur-sm border border-white/20 rounded-lg shadow-xl z-50 text-base text-left mt-2",children:[e.jsx("div",{className:"mb-1",children:e.jsxs("button",{className:"flex items-center w-full py-3 px-4 bg-primary/20 text-left border-none cursor-default text-sm rounded-t-lg",children:[e.jsx(re,{className:"w-5 h-5 mr-3 flex-shrink-0 text-green-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate",children:"New Mode"}),e.jsxs("span",{className:"text-green-300 text-xs flex items-center truncate",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Modern React Interface"]})]})]})}),e.jsxs("button",{onClick:()=>{x(!1),de()},className:"flex items-center w-full py-3 px-4 bg-transparent text-left border-none hover:bg-white/10 transition-all duration-200 text-sm group rounded-b-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-3 flex-shrink-0 text-blue-300 group-hover:text-blue-200 group-hover:scale-110 transition-all duration-200",children:"desktop_windows"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-semibold block truncate group-hover:text-blue-200 transition-colors duration-200",children:"Classic Mode"}),e.jsxs("span",{className:"text-gray-300 text-xs flex items-center truncate",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Traditional Interface"]})]})]})]})]}),e.jsxs("div",{className:"relative",ref:V,children:[e.jsxs("button",{onClick:()=>L(!w),className:"p-1.5 rounded-full text-white hover:text-gray-300 hover:bg-white/10 transition-all duration-200 relative group hidden",children:[e.jsx(ne,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"absolute top-0.5 right-0.5 h-2 w-2 bg-red-500 rounded-full animate-pulse"})]}),w&&e.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl ring-1 ring-black/5 z-50 border border-white/20",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(ne,{className:"h-4 w-4 mr-2 text-primary"}),"Notifications"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2 group-hover:scale-125 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:"New competition results available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2 group-hover:scale-125 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:"Event registration completed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("button",{className:"text-xs text-primary hover:text-primaryHover font-medium flex items-center group",children:[e.jsx(Se,{className:"h-3 w-3 mr-1 group-hover:scale-110 transition-transform duration-200"}),"View all notifications"]})})]})})]}),e.jsxs("div",{className:"relative",ref:D,children:[e.jsxs("button",{onClick:()=>y(!j),className:"flex items-center space-x-1 p-1.5 rounded-xl text-white hover:bg-white/10 transition-all duration-200 group backdrop-blur-sm",children:[e.jsx("div",{className:"h-6 w-6 bg-gradient-to-br from-primary to-primaryHover rounded-full flex items-center justify-center text-white text-xs font-bold ring-1 ring-white/20 group-hover:ring-white/40 transition-all duration-200",children:Z()}),e.jsxs("div",{className:"hidden lg:block text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-white group-hover:text-gray-200 transition-colors duration-200 truncate max-w-20",children:t?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-300 group-hover:text-gray-400 transition-colors duration-200 truncate",children:q()})]}),e.jsx(se,{className:"h-3 w-3 text-gray-300 group-hover:text-white group-hover:rotate-180 transition-all duration-200"})]}),j&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl ring-1 ring-black/5 z-50 border border-white/20",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-primary to-primaryHover rounded-full flex items-center justify-center text-white text-sm font-bold ring-2 ring-primary/20",children:Z()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:t?.UserName||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t?.Email}),e.jsxs("p",{className:"text-xs text-primary font-medium flex items-center",children:[e.jsx("span",{className:"material-symbols-outlined text-xs mr-1",children:K(t?.Role)}),q()]})]})]})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-100/80 transition-all duration-200 group",onClick:()=>{y(!1),p("/Profile/Settings")},children:[e.jsx($,{className:"h-5 w-5 mr-3 text-gray-500 group-hover:text-primary group-hover:scale-110 transition-all duration-200"}),e.jsx("span",{className:"group-hover:text-gray-900 transition-colors duration-200",children:"Profile Settings"})]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-100/80 transition-all duration-200 group",onClick:()=>{y(!1),p("/Settings/Preferences")},children:[e.jsx(Ee,{className:"h-5 w-5 mr-3 text-gray-500 group-hover:text-primary group-hover:rotate-180 transition-all duration-300"}),e.jsx("span",{className:"group-hover:text-gray-900 transition-colors duration-200",children:"Preferences"})]}),e.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:e.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50/80 transition-all duration-200 group rounded-b-xl",onClick:()=>{y(!1),le()},children:[e.jsx(W,{className:"h-5 w-5 mr-3 group-hover:scale-110 group-hover:translate-x-1 transition-all duration-200"}),e.jsx("span",{className:"group-hover:text-red-700 transition-colors duration-200",children:"Sign Out"})]})})]})]})]})]})]}),u&&e.jsx(ee,{from:"V2Header-RoleSwitch",info:"Switching Role..."})]})]})});Me.displayName="V2Header";const Ue=({user:t,isCollapsed:c,isMobile:d})=>{const v=oe(),N=ie(v),[A,p]=s.useState({}),{eventDetails:P}=we(),j=r=>{if(!r||r==="All")return!0;const o=t?.UserJsonSettings?.AccessibleSections||[];return o.length===0?!0:r.split(",").map(u=>u.trim()).some(u=>o.some(f=>f.Value===u))},y=r=>{p(o=>{if(o[r])return{...o,[r]:!1};{const u={};return Object.keys(o).forEach(f=>{u[f]=!1}),u[r]=!0,u}})},w=r=>{r&&r!=="#"&&(r==="/Account/LogOff"?I(async()=>{const{logoutUser:o}=await import("./main-BWzMsQNc.js").then(x=>x.H);return{logoutUser:o}},[]).then(({logoutUser:o})=>{o().then(()=>{setTimeout(()=>{N("/Account/Login")},100)})}):N(r))},L=s.useMemo(()=>{if(!t)return[];const r=[],o=parseInt(t.Role,10);switch(o){case 7:break;case 12:break;case 5:t.EventCreator,t.UId;break;default:t.RoleTitle}if(o===12)return r.push({key:"events",title:"Events",icon:k,url:"/SetUp/Events",children:[]},{key:"my-roles",title:"My Roles",icon:b,url:"/MyRoles/Index",children:[]}),r;if(o===6&&r.push({key:"judge-panel",title:"Judge Panel",icon:C,url:"/Coordinator/RenderScoreCardV2",children:[]}),o===7&&r.push({key:"token-system",title:"Token System",icon:U,url:"/Coordinator/tokensystem",children:[]},{key:"competition-status",title:"Competition Status",icon:k,url:"/Coordinator/CompetitionStatus",children:[]}),o===13&&r.push({key:"draw-score-card",title:"Draw Score Card",icon:U,url:"/Coordinator/DrawCard",children:[]},{key:"print-competition-candidates",title:"Print Competition Candidates",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]}),o===11&&r.push({key:"print-competition-candidates",title:"Print Competition Candidates",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]},{key:"print-score-card",title:"Print Score Card",icon:l,url:"/Coordinator/PrintScoreCard",children:[]},{key:"print-judges-score",title:"Print Judges Score",icon:l,url:"/Coordinator/PrintJudgesScore",children:[]},{key:"print-result",title:"Print Result",icon:l,url:"/Coordinator/PrintResult",children:[]}),o===8&&r.push({key:"event-dashboard",title:"Event Dashboard",icon:k,url:"/Home/Index",children:[]},{key:"participants-management",title:"Participants Management",icon:S,url:"/Coordinator/ManageBulkParticipants",children:[]},{key:"candidate-management",title:"Candidate Management",icon:b,url:"/Coordinator/ManageCandidates",children:[]},{key:"team-management",title:"Team Management",icon:S,url:"/Coordinator/ManageTeams",children:[]},{key:"participants-by-competitions",title:"Participants by Competitions",icon:l,url:"/Coordinator/PrintCompetitionCandidates",children:[]},{key:"competitions-by-participant",title:"Competitions by Participant",icon:l,url:"/Coordinator/ParticipantsWiseCompetitions",children:[]}),o===5){r.push({key:"event-dashboard",title:"Event Dashboard",icon:k,url:"/Home/Index",children:[]}),r.push({key:"event-setup",title:"Event Setup",icon:z,url:"#",allowedSections:"EventSetup",children:[{key:"manage-event",title:"Manage Event",icon:k,url:"/SetUp/RenderManageEvent",allowedSections:"EventSetup"},{key:"ai-competitions",title:"AI Competitions & Group Generation",icon:U,url:"/SetUp/RenderOpenAiCompetitionStructure",allowedSections:"EventSetup"},{key:"age-groups",title:"Age Groups Setup",icon:S,url:"/SetUp/ManageGroups",allowedSections:"EventSetup"},{key:"competition-categories",title:"Competition Names Setup",icon:Re,url:"/SetUp/ManageCompetitionItems",allowedSections:"EventSetup"},{key:"assign-competitions",title:"Assign Competitions to Groups",icon:C,url:"/CompetitionStructure/Tab",allowedSections:"EventSetup"},{key:"public-registration",title:"Public Registration Form Setup",icon:M,url:"/SetUp/ManagePublicRegistrationForm",allowedSections:"EventSetup"},{key:"advanced-config",title:"Advanced Event Configuration",icon:z,url:"/SetUp/EventAdvancedSettings",allowedSections:"AdvancedEventSetup"},{key:"scoring-setup",title:"Scoring Setup",icon:U,url:"/SetUp/ScoreSettings",allowedSections:"EventSetup"},{key:"id-card-config",title:"ID Card Configuration",icon:$,url:"/SetUp/IdPrefix",allowedSections:"EventSetup"},{key:"structure-status",title:"Competition Structure Status",icon:k,url:"/CompetitionStructure/Status",allowedSections:"EventSetup"}]}),r.push({key:"participants-management",title:"Participants Management",icon:S,url:"#",allowedSections:"BulkParticipants,CandidateEditApprove",children:[{key:"bulk-participants",title:"Bulk Participant Management",icon:S,url:"/Coordinator/ManageBulkParticipants",allowedSections:"BulkParticipants"},{key:"bulk-participants-react",title:"Bulk Participant Management New",icon:S,url:"/Coordinator/RenderManageBulkParticipants",allowedSections:"BulkParticipants"},{key:"excel-import",title:"Excel Import",icon:M,url:"/Coordinator/RenderExcelImport",allowedSections:"BulkParticipants"},{key:"candidate-management",title:"Candidate Management",icon:b,url:"/Coordinator/ManageCandidates",allowedSections:"CandidateEditApprove"},{key:"team-management",title:"Team Management",icon:S,url:"/Coordinator/ManageTeams",allowedSections:"BulkParticipants"},{key:"assign-teams",title:"Assign Participants to Teams",icon:S,url:"/CompetitionParticipantsTeamMembers/Manage",allowedSections:"BulkParticipants"},{key:"candidates-detailed",title:"Candidates Detailed List",icon:M,url:"/Coordinator/RenderCandidatesDetailedList",allowedSections:"CandidateEditApprove"}]}),r.push({key:"print-participants",title:"Print - Participants",icon:l,url:"#",allowedSections:"PrintAndDownload",children:[{key:"id-cards",title:"Participant ID Cards",icon:l,url:"/Coordinator/CandidatesCards",allowedSections:"PrintAndDownload"},{key:"participants-by-competitions",title:"Participants by Competitions",icon:l,url:"/Coordinator/PrintCompetitionCandidates",allowedSections:"PrintAndDownload"},{key:"competitions-by-participant",title:"Competitions by Participant",icon:l,url:"/Coordinator/ParticipantsWiseCompetitions",allowedSections:"PrintAndDownload"},{key:"participants-by-competitions-old",title:"Participants by Competitions - Old",icon:l,url:"/Coordinator/LocalWiseParticipants",allowedSections:"PrintAndDownload"},{key:"judges-score-sheet",title:"Judges Score Sheet",icon:l,url:"/Coordinator/PrintScoreCard",allowedSections:"PrintAndDownload"}]});const x=[{key:"invite-judges",title:"Invite & Assign Judges",icon:b,url:"/UsersAndRoles?operation=Judge",allowedSections:"UsersRoles"},{key:"assign-judges",title:"Assign Judges to Competitions",icon:C,url:"/JudgesAllotment/Manage",allowedSections:"UsersRoles"}];P?.AllowSubCoOrdinators===1&&t?.EventLevels&&t.EventLevels.filter(m=>m.Order>1).sort((m,E)=>m.Order-E.Order).forEach(m=>{x.push({key:`invite-subcoordinator-${m.LevelName}`,title:`Invite ${m.LevelName} SubCoordinators`,icon:b,url:`/Coordinator/SubCordinators?level=${m.LevelName}`,allowedSections:"UsersRoles"},{key:`invite-subcoordinator-new-${m.LevelName}`,title:`Invite ${m.LevelName} SubCoordinators - New`,icon:b,url:`/UsersAndRoles?operation=SubCoordinator&eventLevel=${m.LevelName}`,allowedSections:"UsersRoles"})}),x.push({key:"content-viewer",title:"Invite Content Viewer",icon:b,url:"/Coordinator/ContentAdmin",allowedSections:"UsersRoles"},{key:"draw-masters",title:"Invite Draw Masters",icon:b,url:"/Coordinator/DrawMaster",allowedSections:"UsersRoles"},{key:"projector-access",title:"Projector Access",icon:b,url:"/Coordinator/projector",allowedSections:"UsersRoles"}),r.push({key:"users-roles",title:"Users & Roles",icon:b,url:"#",allowedSections:"UsersRoles",children:x}),r.push({key:"judging-scoring",title:"Judging & Scoring",icon:C,url:"#",allowedSections:"ScoreManagement",children:[{key:"judge-scoring",title:"Judge Scoring Panel",icon:U,url:"/Coordinator/RenderScoreCardV2",allowedSections:"ScoreManagement"},{key:"view-scores",title:"View Judge Scores",icon:C,url:"/JudgesScoreCard/Manage",allowedSections:"ScoreManagement"},{key:"scoring-breakdown",title:"View Scoring Criteria Breakdown",icon:C,url:"/JudgesDetailedScoreCard/Manage",allowedSections:"ScoreManagement"},{key:"score-history",title:"Score History Log",icon:C,url:"/ScoreLog/View",allowedSections:"ScoreManagement"}]}),r.push({key:"manage-results",title:"Manage Results",icon:_,url:"#",allowedSections:"ResultPrinting,PublishResults",children:[{key:"results-status",title:"Results Status",icon:k,url:"/Coordinator/RenderResultsStatus",allowedSections:"ResultPrinting,PublishResults"},{key:"assign-winners",title:"Review & Assign Winners",icon:_,url:"/Coordinator/Results",allowedSections:"ResultPrinting,PublishResults"}]}),r.push({key:"print-results",title:"Print - Final Results",icon:l,url:"#",allowedSections:"ResultPrinting,PublishResults,CertificatePrinting",children:[{key:"judges-scores",title:"Judge's Scores",icon:l,url:"/Coordinator/PrintJudgesScore",allowedSections:"ResultPrinting"},{key:"all-results",title:"All Participant Result",icon:l,url:"/Coordinator/PrintResult",allowedSections:"ResultPrinting"},{key:"result-presentation",title:"Result Presentation",icon:l,url:"/Coordinator/RenderResultPresentation",allowedSections:"ResultPrinting"},{key:"live-results",title:"Live Result Presentation",icon:l,url:"/Coordinator/RenderLiveResultPresentation",allowedSections:"ResultPrinting"},{key:"publish-results-online",title:"Publish Results Online",icon:l,url:"/Coordinator/PublishResults",allowedSections:"PublishResults"},{key:"publish-results-awards",title:"Publish Results With Awards",icon:l,url:"/Coordinator/PublishResultsWithAwards",allowedSections:"PublishResults"},{key:"publish-podium-results",title:"Publish Podium Results",icon:l,url:"/Coordinator/PublishPodiumResults",allowedSections:"ResultPrinting"},{key:"publish-individual-results",title:"Publish Individual Results",icon:l,url:"/Coordinator/PublishIndividualResults",allowedSections:"PublishResults"},{key:"calculate-awards",title:"Calculate Awards",icon:_,url:"/Coordinator/PublishAwardsResults",allowedSections:"PublishResults"},{key:"candidate-wise-results",title:"Candidate Wise Results",icon:k,url:"/Coordinator/CandidateWiseResults",allowedSections:"ResultPrinting"},{key:"trophy-stickers",title:"Trophy Stickers",icon:l,url:"/Coordinator/StickerBasedResults",allowedSections:"ResultPrinting"},{key:"trophy-individual-stickers",title:"Trophy Individual Stickers",icon:l,url:"/Coordinator/StickerBasedIndividualResults",allowedSections:"ResultPrinting"},{key:"champion-certificate",title:"Champion Certificate",icon:M,url:"/Coordinator/PrintTopCertificate",allowedSections:"CertificatePrinting"},{key:"rank-certificates",title:"Rank Certificates",icon:M,url:"/Coordinator/PrintCertificate",allowedSections:"ResultPrinting,CertificatePrinting"},{key:"participation-certificates",title:"Participation Certificates",icon:M,url:"/Coordinator/PrintParticipantCertificate",allowedSections:"CertificatePrinting"},{key:"social-media",title:"Publish to Social Media",icon:l,url:"/Coordinator/RenderPublishToSocialMedia",allowedSections:"ResultPrinting,PublishToSocialMedia"}]}),r.push({key:"time-management",title:"Time Management",icon:H,url:"#",allowedSections:"TimeManagement",children:[{key:"competition-schedule",title:"Competition Schedule Table",icon:H,url:"/CompetitionSchedule/Manage",allowedSections:"TimeManagement"},{key:"automate-schedule",title:"Automate Competition Schedule",icon:H,url:"/CompetitionSchedule/AutomateSchedule",allowedSections:"TimeManagement"},{key:"event-stages",title:"Event Stages",icon:z,url:"/EventStages/Manage",allowedSections:"TimeManagement"},{key:"token-system",title:"Token System",icon:U,url:"/Coordinator/tokensystem",allowedSections:"TimeManagement"}]}),r.push({key:"draw",title:"Draw",icon:_,url:"#",allowedSections:"DrawManagement",children:[{key:"competition-wise-draw",title:"Competition Wise Draw",icon:_,url:"/Coordinator/DrawCard",allowedSections:"DrawManagement"}]});const u=[{key:"manage-account",title:"Manage Account",icon:b,url:"/Profile/ProfileSettings",allowedSections:"All"},{key:"my-roles",title:"My Roles",icon:S,url:"/MyRoles/Index",allowedSections:"All"}];(t?.UserJsonSettings?.AccessibleSections||[]).length===0&&u.push({key:"logs",title:"Logs",icon:C,url:"/Coordinator/ActivityLog",allowedSections:"All"}),r.push({key:"account-settings",title:"Account Settings",icon:$,url:"#",allowedSections:"All",children:u}),r.push({key:"logout",title:"Log Out",icon:W,url:"/Account/LogOff",children:[]})}return o!==5&&o!==6&&(r.push({key:"account-settings",title:"Account Settings",icon:$,url:"#",children:[{key:"manage-account",title:"Manage Account",icon:b,url:"/Profile/ProfileSettings"},{key:"my-roles",title:"My Roles",icon:S,url:"/MyRoles/Index"}]}),r.push({key:"logout",title:"Log Out",icon:W,url:"/Account/LogOff",children:[]})),r},[t,P]),g=(r,o=0)=>{if(!j(r.allowedSections))return null;const x=r.children?.filter(m=>j(m.allowedSections))||[],u=x.length>0,f=A[r.key],F=r.icon;return c&&o>0?null:e.jsxs("div",{className:"mb-px",children:[e.jsx("a",{href:u&&!c?"#":be(r.url||"#"),onClick:m=>{m.preventDefault(),u&&!c?y(r.key):u||w(r.url)},className:`
            w-full flex items-center transition-colors duration-500 ease-in no-underline
            ${o===0?`text-white bg-[#061627] hover:bg-primary hover:text-white ${c?"px-2 py-3 justify-center":"px-3 py-2"}`:"text-white bg-[#0e2442] hover:bg-[#356ba8] px-3 py-2 border-l-[6px] border-gray-600 pl-6"}
            ${!c&&u?"justify-between":""}
          `,title:c?r.title:void 0,children:c&&o===0?e.jsx(F,{className:"h-5 w-5 text-white"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx(F,{className:`
                    h-4 w-4 flex-shrink-0 text-white mr-3
                  `}),!c&&e.jsx("span",{className:`text-sm ${o===0?"font-medium":"font-normal"} truncate`,children:r.title})]}),u&&!c&&e.jsx("div",{className:"flex-shrink-0 ml-2",children:f?e.jsx(se,{className:"h-4 w-4 text-white"}):e.jsx(ke,{className:"h-4 w-4 text-white"})})]})}),u&&f&&!c&&e.jsx("div",{className:"space-y-px",children:x.map(m=>g(m,o+1))})]},r.key)};return e.jsx("nav",{className:`flex-1 px-0 py-2 space-y-px ${c?"":"pl-3"}`,children:L.map(r=>g(r))})},Ie=s.forwardRef(({isCollapsed:t,isHoverExpanded:c,isMobile:d,onToggle:v,onMouseEnter:N,onMouseLeave:A,user:p,pageContext:P},j)=>{const y=p?.Role===fe.USER,w=!t||c,g=y?{logoUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",iconUrl:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ET-Favicon-white-blue-bg.png",title:"eTalenter",subtitle:"Competition Platform"}:{logoUrl:p?.OrganizationLogo,iconUrl:p?.OrganizationLogo,title:p?.Name||"Organization",subtitle:p?.EventName||"Competition Platform"};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .sidebar-scroll::-webkit-scrollbar {
          width: 8px;
        }

        .sidebar-scroll::-webkit-scrollbar-track {
          background: transparent;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb {
          border-radius: 4px;
          background-image: linear-gradient(to top, #194299 44%, #3178ce 72%, #1c3a94 86%, #3178ce 72%);
        }

        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
          background-image: linear-gradient(to top, #1a4db3 44%, #4285d1 72%, #1d3ea7 86%, #4285d1 72%);
        }
        `}),e.jsxs("div",{ref:j,onMouseEnter:N,onMouseLeave:A,className:`
        bg-black border-r border-gray-800 shadow-lg flex flex-col transition-all duration-300 ease-in-out
        ${d?`fixed inset-y-0 left-0 z-50 ${t?"-translate-x-full":"translate-x-0"} w-96`:`relative ${w?"w-96":"w-16"}`}
        ${c&&!d?"z-50 shadow-2xl":""}
      `,children:[e.jsxs("div",{className:`
          flex items-center h-14 px-3 border-b border-gray-800
          ${!w&&!d?"justify-center px-2":"justify-between"}
        `,children:[(w||d)&&e.jsx("div",{className:"flex items-center",children:y?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{src:"https://justinscoderepo.github.io/etalentercdn/Content/Images/ealenterlogo.png",alt:"eTalenter",className:"h-10 w-auto object-contain"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-8 w-8 flex items-center justify-center mr-3 shadow-sm",children:e.jsx("img",{src:g.iconUrl,alt:g.title,className:"h-8 w-8 rounded object-contain"})}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("h1",{className:"text-sm font-medium text-white truncate overflow-hidden whitespace-nowrap",children:g.title}),e.jsx("p",{className:"text-xs text-gray-200 truncate overflow-hidden whitespace-nowrap",children:g.subtitle})]})]})}),!w&&!d&&e.jsx("div",{className:"h-8 w-8 flex items-center justify-center shadow-sm",children:y?e.jsx("img",{src:g.iconUrl,alt:"eTalenter",className:"h-8 w-8 object-contain"}):e.jsx("img",{src:g.iconUrl,alt:g.title,className:"h-8 w-8 rounded contain-cover"})}),d&&e.jsx("button",{onClick:v,className:"p-1.5 rounded-md text-gray-300 hover:text-white hover:bg-gray-800 transition-colors duration-200",children:e.jsx(Ce,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-black sidebar-scroll",children:e.jsx(Ue,{user:p,isCollapsed:!w,isMobile:d})}),e.jsxs("div",{className:`
          border-t border-gray-800 p-3 bg-gray-900
          ${!w&&!d?"px-2":""}
        `,children:[(w||d)&&e.jsx("div",{className:"text-center"}),!w&&!d&&e.jsx("div",{className:"flex justify-center"})]})]})]})});Ie.displayName="V2Sidebar";export{Ie as V,Me as a};
