import{r as c,j as e,i as v,k as De,L as Le,_ as ke,b as At,u as ze,q as X,n as It,z as Re,p as Ce}from"./main-C93JHIOS.js";import{u as Ut}from"./useConfirmation-DsBgorSZ.js";import{EventDetailedView as Et}from"./eventDetailedView-Cmkmat8R.js";import{F as Be,a as Oe,r as Y,e as Jt,g as Fe,b as zt,c as Dt,d as Lt,u as kt,s as Bt}from"./publicRegistrationHelper-CKrDhkn0.js";import{B as ue}from"./box-CCcPr33v.js";import{F as ge}from"./ChevronRightIcon-CstHzbA6.js";import{F as Me}from"./PencilIcon-BNfzm6t-.js";import{F as _e}from"./TrashIcon-CAKxOVrM.js";function Ot({title:x,titleId:n,...h},p){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":n},h),x?c.createElement("title",{id:n},x):null,c.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),c.createElement("path",{fillRule:"evenodd",d:"M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z",clipRule:"evenodd"}))}const Ge=c.forwardRef(Ot);function Mt({title:x,titleId:n,...h},p){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":n},h),x?c.createElement("title",{id:n},x):null,c.createElement("path",{d:"M1 8.25a1.25 1.25 0 1 1 2.5 0v7.5a1.25 1.25 0 1 1-2.5 0v-7.5ZM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0 1 14 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 0 1-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 0 1-1.341-.317l-2.734-1.366A3 3 0 0 0 6.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 0 1 2.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388Z"}))}const Ze=c.forwardRef(Mt);function _t({title:x,titleId:n,...h},p){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":n},h),x?c.createElement("title",{id:n},x):null,c.createElement("path",{d:"M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z"}))}const Ve=c.forwardRef(_t);function Gt({title:x,titleId:n,...h},p){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":n},h),x?c.createElement("title",{id:n},x):null,c.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))}const pe=c.forwardRef(Gt),Zt=({participationDetails:x,users:n,userRoles:h,activeUser:p,onChange:u,allStepsComponents:N,onClickDelete:d})=>{let g=N?.User;N?.Participation;let y=N?.Payment;const E=b=>{u(b)};return e.jsx("div",{className:v("flex justify-center gap-2",p?"flex-col":"flex-row flex-wrap"),children:n?.map((b,T)=>{let S=h?.find(o=>o.User===b.UId),l=S?.JsonSettings?JSON.parse(S.JsonSettings):{};console.log(l);let s="Not Submitted",R=30,i=[];x&&(i=x.ParticipantsList?.filter(o=>o.Candidate==S?.UserRoleId),i?.length>0&&(R=60)),l?.FinishedSteps&&(R=100);let m=["DobString","Mobile"],C=["paymentMethod","paymentReferenceId","paymentScreenShot"],P=!1;return C?.find(o=>l[o]!=null)&&(P=!0),l?.FinishedSteps==!0&&(s="Submitted"),l.ApprovalStatus&&(s=l.ApprovalStatus),l?.FinishedSteps==!0&&l.ApprovalStatus=="Reviewed"&&(s="Submitted"),l.FinishedSteps==!0&&l.ApprovalStatus=="Submitted"&&(s="Submitted"),!l.FinishedSteps&&l.ApprovalStatus=="InProgress"&&(s="Not Submitted"),e.jsxs("div",{className:v("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",s=="Submitted"?"border-blue-500":s=="Approved"?"border-green-500":s=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("div",{className:"flex justify-center",children:b.ProfilePicture?e.jsx("div",{className:"bg-gray-200 flex rounded-xl p-2",children:e.jsx("img",{className:"mx-auto size-32 shrink-0 rounded-full",src:b.ProfilePicture,alt:""})}):e.jsx(e.Fragment,{})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:b.Name}),e.jsxs("dl",{className:"mt-1  flex-col justify-between",children:[e.jsx("dd",{className:"text-sm text-gray-500 overflow-hidden text-ellipsis",children:b.Email}),e.jsx("dd",{className:"mt-3",children:s=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):s=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):s=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):s=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:s})})]}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[R!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:v("progress-bar-fill h-1   rounded-md",R==100?"bg-green-500":R>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${R}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(pe,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"User Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:m.map((o,a)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:g?.find(f=>f.key?.toLowerCase()==o?.toLowerCase())?.label}),e.jsx("dd",{className:"font-medium text-gray-900",children:b[o]})]},a))})]})})]})]})}),i?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ze,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[x?.OrganizationLevels?.map((o,a)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:o.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:S[o.LevelName+"Name"]})]},a)),e.jsx("div",{className:"h-4 flex w-full"}),i.map((o,a)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(ge,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),x?.Competitions?.find(f=>f.CompetitionStructureId==o.Competition)?.Title]})},a))]})]})})]})]})}),l?.FinishedSteps!=null&&P&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Be,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:C.map((o,a)=>e.jsx(e.Fragment,{children:l[o]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:y?.find(f=>f.key?.toLowerCase()==o?.toLowerCase())?.label}),o=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:l[o],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:l[o]})]},a)}))})]})})]})})}),l?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Oe,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),l?.ReviewComments?.map((o,a)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(ge,{className:v("size-6 -mt-1",o.Status==="Reviewed"?"text-yellow-400":o.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:o.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:o.Comment})]})]})},a))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:s=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):s=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):s=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):s=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):s=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:s})}),e.jsx("div",{className:"flex flex-grow gap-2",children:l?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>E(b),children:[e.jsx(Ge,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>E(b),children:[e.jsx(Me,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>d({...b,...S}),children:[e.jsx(_e,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},T)})})};function Vt({teams:x,allStepsComponents:n,selectedTeam:h,advancedSettings:p,onClickDelete:u,participationDetails:N,handleChangeTeam:d,isIndividualRegistration:g,isTeamsRegistration:y,users:E,userRoles:b,selectedUser:T,handleChangeUser:S,participantType:l,setParticipantType:s,addNewParticipant:R,addNewTeamParticipant:i,tempUser:m}){let C=p?.DisableIndividualRegForm=="Yes",P=p?.DisableIndividualRegFormButWillStartSoon=="Yes";return p?.DisableTeamRegForm=="Yes",e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full",children:[l=="Individual"&&e.jsxs(e.Fragment,{children:[C&&g?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration is closed for this event."})]})}):P&&g?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Will be active soon!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration will be active soon for this event."})]})}):g&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"w-full px-2 bg-yellow-900 max-w-60 text-white text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary mr-4",onClick:R,children:"Add New Individual Participant"})}),e.jsx(ue,{heading:"Participation Requests",outerClasses:"relative "+(T?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[g&&e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx(Zt,{allStepsComponents:n,onClickDelete:u,users:E,activeUser:T,userRoles:b,onChange:S,setParticipantType:s,participationDetails:N})}),!E?.length&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(pe,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new participants to the list by click on the Add New Participant button."})]})})]})})]}),l=="Team"&&y&&e.jsx($t,{teams:x,tempUser:m,selectedTeam:h,participationDetails:N,handleChangeTeam:d,users:E,onClickDelete:u,userRoles:b,allStepsComponents:n,selectedUser:T,handleChangeUser:S,setParticipantType:s,addNewParticipant:i,advancedSettings:p})]})})}function $t({teams:x,handleChangeTeam:n,allStepsComponents:h,users:p,userRoles:u,selectedUser:N,participationDetails:d,onClickDelete:g,addNewParticipant:y,tempUser:E,advancedSettings:b}){h?.Team,h?.Participation;let T=h?.Payment,S=b?.DisableTeamRegForm=="Yes",l=b?.DisableTeamRegFormButWillStartSoon=="Yes";return e.jsxs("div",{className:"max-w-full flex-1 overflow-hidden",children:[S?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Team Registration is closed for this event."})]})}):l?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Will be active soon!"}),e.jsx("span",{className:"block sm:inline",children:" Team Registration will be active soon for this event."})]})}):e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`w-full bg-green-900 max-w-60 text-white  text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 \r
              px-2  mr-4\r
              focus-visible:outline-offset-2 focus-visible:outline-primary`,onClick:y,children:"Add New Team Participant"})}),e.jsx(ue,{heading:"Participation Requests",outerClasses:"relative "+(N?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx("div",{className:v("flex justify-center gap-2","flex-row flex-wrap"),children:x?.map((s,R)=>{let i=s?.TeamJsonSettings?JSON.parse(s.TeamJsonSettings):{},m="Not Submitted",C=30,P=[];d&&(P=d.ParticipantsList?.filter(a=>a.Candidate==s?.Team),P?.length>0&&(C=60)),i?.FinishedSteps&&(C=100);let o=["paymentMethod","paymentReferenceId","paymentScreenShot"];return i?.FinishedSteps==!0&&(m="Submitted"),i.ApprovalStatus&&(m=i.ApprovalStatus),i?.FinishedSteps==!0&&i.ApprovalStatus=="Reviewed"&&(m="Submitted"),i.FinishedSteps==!0&&i.ApprovalStatus=="Submitted"&&(m="Submitted"),!i.FinishedSteps&&i.ApprovalStatus=="InProgress"&&(m="Not Submitted"),e.jsxs("div",{className:v("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",m=="Submitted"?"border-blue-500":m=="Approved"?"border-green-500":m=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:s.TeamTeamName}),e.jsx("dl",{className:"mt-1  flex-col justify-between",children:e.jsx("dd",{className:"mt-3",children:m=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):m=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):m=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):m=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:m})})}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[C!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:v("progress-bar-fill h-1   rounded-md",C==100?"bg-green-500":C>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${C}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ve,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Team Members"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:s?.TeamMembers?.map((a,f)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:a.UserName}),e.jsx("dd",{className:"font-medium text-gray-900",children:a.UserDobString})]},f))})]})})]})]})}),P?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ze,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[d?.OrganizationLevels?.map((a,f)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:a.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:s[a.LevelName+"Name"]})]},f)),e.jsx("div",{className:"h-4 flex w-full"}),P.map((a,f)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(ge,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),d?.Competitions?.find(I=>I.CompetitionStructureId==a.Competition)?.Title]})},f))]})]})})]})]})}),i?.FinishedSteps!=null&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Be,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:o.map((a,f)=>e.jsx(e.Fragment,{children:i[a]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:T?.find(I=>I.key?.toLowerCase()==a?.toLowerCase())?.label}),a=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:i[a],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:i[a]})]},f)}))})]})})]})})}),i?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Oe,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),i?.ReviewComments?.map((a,f)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(ge,{className:v("size-6 -mt-1",a.Status==="Reviewed"?"text-yellow-400":a.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:a.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:a.Comment})]})]})},f))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:m=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):m=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):m=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):m=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):m=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:m})}),e.jsx("div",{className:"flex flex-grow gap-2",children:i?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>n(s),children:[e.jsx(Ge,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>n(s),children:[e.jsx(Me,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>g({...s}),children:[e.jsx(_e,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},R)})})}),!x?.length&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(pe,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Team Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new team participants to the list by click on the Add New Team Participant button."})]})})," "]})})]})}function Wt({isSubmitted:x,availableSteps:n,submittedSteps:h,handleClick:p}){return e.jsx("nav",{"aria-label":"Progress",className:"mb-2 flex w-full",children:e.jsx("ol",{role:"list",className:"divide-y divide-gray-300 rounded-md border border-gray-300 flex md:divide-y-0  w-full flex-wrap",children:n?.map((u,N)=>e.jsxs("li",{className:"relative md:flex md:flex-1 ",children:[u.status==="active"?e.jsx("a",{href:u.href,"aria-current":"step",className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-primary",children:e.jsx("span",{className:"text-white text-xs",children:u.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-indigo-600",children:u.label??u.name})]})}):h?.find(d=>d.name==u.name)||x?e.jsx("a",{href:u.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:d=>p(N,d),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-gray-300 group-hover:bg-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:u.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-400 group-hover:text-gray-900",children:u.label??u.name})]})}):e.jsx("a",{href:u.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:d=>p(N,d),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full border-2 border-gray-300 group-hover:border-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:u.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-500 group-hover:text-gray-900",children:u.label??u.name})]})}),N!==n.length-1?e.jsx(e.Fragment,{children:e.jsx("div",{"aria-hidden":"true",className:"absolute right-0 top-0 hidden h-full w-5 md:block",children:e.jsx("svg",{fill:"none",viewBox:"0 0 22 80",preserveAspectRatio:"none",className:"h-full w-full text-gray-300",children:e.jsx("path",{d:"M0 -2L20 40L0 82",stroke:"currentcolor",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"})})})}):null]},u.name))})})}const Yt=De.lazy(()=>ke(()=>import("./formSubmission-CGRAFice.js"),[])),Ht=De.lazy(()=>ke(()=>import("./modalForm-CzWn90yt.js"),[]));function qt({steps:x,userRoleJson:n,isCoordinatorView:h,gotoHome:p,participantType:u,isSubmitted:N,selectedUser:d,selectedTeam:g,eventDetails:y,activeStep:E,isLoading:b,updateIndex:T,setComponents:S,availableSteps:l,submittedSteps:s,allStepsComponents:R,customComponents:i,data:m,onChange:C,handleClick:P,handleNext:o,components:a,tempUser:f,selectedComponent:I,setSelectedComponent:ae}){if(console.log({data:m}),!l||l?.length==0)return e.jsx("div",{className:"text-center text-2xl text-gray-500",children:d||g?"Steps Loading/No Steps Found":""});let ne=l.findIndex(F=>F.status==="active")+1===l.length,Z=l.findIndex(F=>F.name==="Guardian Registration")>-1;if(console.log("isGuardianRegistration",Z),d||g||Z){let F=e.jsxs("span",{className:"text-gray-500",children:[y?.EventName+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Participant Registration"})]});u==="Team"&&(F=e.jsxs("span",{className:"text-gray-500",children:[y?.EventName+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Team Registration"})]})),d&&d.Name&&(F=y?.EventName+" - "+d.Name),n?.FinishedSteps==!0&&(F=y?.EventName+" - "+d.Name+" - Submitted");let J="Registration Form",V="Please fill the form to register for the event";return d&&d.Name&&(J=d.Name+" - Registration Form",V="Please continue remaining steps to complete the registration"),g&&g.TeamName&&(J=g.TeamName+" - Registration Form",V="Please continue remaining steps to complete the registration"),N&&(J="View",V="Please view the details submitted in the registration form"),f&&(F=y?.EventName+" - First User Registration",J="Registration Form",V="Please fill the form to register for the event"),Z&&(F=y?.EventName+" - Account Registration",J="Account Registration Form",V="Please fill the form to register an account for adding participants"),e.jsx(Ht,{title:J,description:V,open:!0,customHeading:i||null,setOpen:()=>{p()},children:e.jsx(ue,{heading:F,outerClasses:"relative w-full",headingClasses:"px-1 lg:px-4  w-full",children:e.jsx("div",{className:"w-full mt-5 min-h-[800px]",id:"registrationBox",children:E?e.jsxs(e.Fragment,{children:[l?.length>1&&e.jsx(Wt,{isSubmitted:N,availableSteps:l,submittedSteps:s,handleClick:P}),b?e.jsx(Le,{}):e.jsx(e.Fragment,{children:e.jsx(Yt,{isCoordinatorView:h,participantType:u,isGuardianRegistration:Z,handleNext:o,isSubmitted:N,eventDetails:y,isPlayGround:!1,onChange:C,data:m,isLastStep:ne,existingComponents:a,selectedComponent:I,setSelectedComponent:ae,components:a,setComponents:S},T)})]}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a step to proceed"})})})})}else if(f&&u==="individual")return e.jsx(ue,{heading:y+" - Event Registration",outerClasses:"relative w-3/4",headingClasses:"px-1 md:px-6  w-full",children:e.jsx("div",{className:"w-full mt-5",children:e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please click on add button and proceed"})})})}function Kt({view:x,setActiveTab:n,getEvets:h,isCoordinatorView:p,setParticipantTypeInt:u,getParticipants:N,participantTypeInt:d,candidateId:g,closeModel:y,customComponents:E,allowEdit:b}){let{user:T}=At()||{};if(!T||!T.Email)return e.jsx("div",{children:"Please log in to access this form."});let S=T?.RoleTitle==="Guardian",l=T?.Email?.indexOf("justnshalom")!=-1,[s,R]=c.useState(0),[i,m]=c.useState(null),[C,P]=c.useState({});const[o,a]=Ut();let[f,I]=c.useState(null),[ae,ne]=c.useState(!1);var Z={};let[F,J]=c.useState([]),[V,Qt]=c.useState(null),[he,$e]=c.useState([]),[Xt,We]=c.useState({}),[r,Ye]=c.useState(d==1?"Individual":d==2?"Team":"");console.log({participantType:r}),console.log({participantTypeInt:d});let[H,de]=c.useState([...Y]),[Te,es]=c.useState({}),ee=t=>{m(t)},He=t=>{We(t)},M=t=>{Ye(t)};const{row:je,status:qe}=ze(h||"/CandidateJson/GetEvents",{select:"AllowDisplayCompetitionOrder,Description,EVId,EndDateString,EventCategory,EventCategoryTitle,EventLogo,EventName,IdentityBackgroundImage,OrganizationLogo,OrganizationName,OrganizationShortName,StartDateString,Venue,JsonSettings",doCache:!0});let Ke=()=>{},Qe="finished",Xe=()=>{},et="finished",tt=()=>{},st="finished",{row:_,update:it,status:lt,setFilter:q,delete:at}=ze(N||"/CandidateJson/GetParticipants",{deleteUrl:"/CandidateJson/RemoveUser",mandatoryParams:["participantType"],select:"participantList,userList,UserEmail,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,CreatedBy,CreatedByUserName,ParticipationId,UserJsonSettings,TeamJsonSettings,Remarks,LevelSettings,RegistrationId",updateUrl:"/CandidateJson/UpdateParticipant",doCache:!0,filter:g?{Candidate:g,...d==1?{participantType:"1"}:d==2?{participantType:"2"}:{}}:{}});console.log({participationDetails:_});let Pe=Jt(_,g,i?.UId,f?.Team);console.log({extracted:Pe});let{userRoles:be,userRole:z,users:re,userData:L,teams:Ae,teamData:D}=Pe;i=i||L,f=f||D;let rt=t=>{try{return Ce("/CandidateJson/UpdateTeam",t)}catch{}},nt=t=>{try{return Ce("/CandidateJson/UpdateUser",t)}catch{}},dt=t=>{try{return Ce(g?"/UsersRolesJson/Save":"/CandidateJson/UpdateUserRoles",t)}catch{}},oe=re?.length?null:X(localStorage.user)?.user;if(S&&!l&&(oe=null),r=="Team"){let t=X(localStorage.user)?.user;t&&(oe=t?.Email?.indexOf("justnshalom")==-1?null:t)}let A=oe?{UId:oe?.UId}:null;A&&(L={UId:A?.UId});let ot=function(){if(A){let t=Fe(w,Y,!0,"Individual",re,A,"participationDetails"),j=Fe(w,Y,!0,"Team",re,A,"participationDetails");t.length>0&&t.find(B=>B.name=="User")?ce(A):j.length>0&&j.find(B=>B.name=="Team")&&xe({})}};ae=It(qe,Qe,et,st,lt)||ae;let U=X(z?.JsonSettings),$=X(L?.JsonSettings),K=X(D?.TeamJsonSettings);const ve=je?.JsonSettings,te=ve!=null&&ve!=""?X(ve):{components:{}},w=te.components,Ie=te?.AdditionalSettings,ct=Object.keys(w??{});let xt=X(C?.JsonSettings),Ne=ct?.includes("Agreement")&&w?.Agreement?.filter(t=>t?.validate?.required&&!U[t.name]&&!xt[t.name])?.length==0;Ne&&localStorage.setItem("isAgreementStepFilled","true"),localStorage.getItem("isAgreementStepFilled")=="true"&&(Ne=!0);let G=Fe(w,H,Ne,r,re,A,x,p);console.log({availableSteps:G});let mt=zt(w),k=Dt(G);he=Lt(w,k);let ye=k?kt(k.name,{},He,R,k,z,U,L,$,r,D,_,w,i,f,K,!1,C):{};const ce=async t=>{L=t,H=Y,z=be?.find(j=>j.User==t.UId),r="Individual",U=JSON.parse(z?.JsonSettings?z?.JsonSettings:"{}"),$=JSON.parse(L?.JsonSettings?L?.JsonSettings:"{}"),i=t,ee(t),M(r),I({}),F=[],J([]),de(Y),s=s+1,R(s)},xe=async t=>{D=t,K=JSON.parse(D?.TeamJsonSettings?D?.TeamJsonSettings:"{}"),H=Y,z={},U={},$={},f=t,I(t),ee({}),r="Team",M(r),F=[],de(Y),J([]),s=s+1,R(s)},Ue=(t,j,B,Q,Ct,O,Je,Ft,ss,is,ls,as,rs,ns,Tt)=>{if(j.preventDefault(),!Q)return;let Pt=Q[t];if(!(Ft?.FinishedSteps||Tt?.FinishedSteps||g)&&!B&&!(Q.findIndex(Se=>Se.status==="active")>t)&&!F.find(Se=>Se.name==Pt.name)){Re.error("Please complete the current step/click the next button for proceed to the next step.");return}const fe=Q?.map((W,le)=>le===t?{...W,status:"active"}:{...W,status:"inactive"});if(Q=fe,O=fe.find(W=>W.status==="active"),w[O.name]){let W=w[O.name];W.forEach(le=>{le.name=le.name.charAt(0).toLowerCase()+le.name.slice(1)}),Z[O.name]=[...W]}else Z[O.name]=[];window.scrollTo({top:0,behavior:"smooth"}),H=fe,de(fe)},ft=async(t,j,B)=>{ne(!0),Te={...Te,...t};let Q=G.findIndex(O=>O.status==="active")+1;if(B||Q>=G.length&&(r=="Individual"?U.FinishedSteps=!0:t.FinishedSteps=!0),await Bt(t,C,k,z,be,U,L,$,r,D,_,he,dt,nt,rt,q,it,i,Xe,ee,f,I,Ke,tt,P,K,Ae,Ie,B)){J([...F,k]),j();let O=G.findIndex(Je=>Je.status==="active")+1;O<G.length&&!B?Ue(O,{preventDefault:()=>{}},!0,G,ye,k,z,U,L,$,r,D,_,i,K):(ee(null),z={},$={},U={},D={},I(null),y&&y())}else Re.error("Failed to save data");ne(!1),R(s+1),n("My Participation")},ut=(t,j)=>{Z[k.name]=t};let gt=()=>{P({}),ee({}),H=Y,de(H),z={},$={},U={},D={},K={},I({})},Ee=async t=>{gt(),s=s+1,R(s)};const pt=async()=>{if(A){ce(A);return}r="Individual",M(r),Ee()},ht=async()=>{S&&l?n("Registration"):(r="Team",M(r),Ee())},jt=(t,j)=>{Ue(t,j,!1,G,ye,k,z,U,L,$,r,D,_,i,K)};let we=r=="Individual"&&U?.FinishedSteps||r=="Team"&&K?.FinishedSteps;g&&(we=!0),b&&g&&(we=!1);let bt=w?.User&&w?.Team,se=w?.User&&w?.User?.length>0,ie=w?.Team&&w?.Team?.length>0,vt=te?.AdditionalSettings?.DisableIndividualRegForm=="Yes",Nt=te?.AdditionalSettings?.DisableIndividualRegFormButWillStartSoon=="Yes",yt=te?.AdditionalSettings?.DisableTeamRegForm=="Yes",wt=te?.AdditionalSettings?.DisableTeamRegFormButWillStartSoon=="Yes";c.useEffect(()=>{console.log({participantType:r}),se&&!r?(M("Individual"),q({participantType:"1"})):ie&&!r&&(M("Team"),q({participantType:"2"}))},[r,se,ie]);let St=()=>{ee(null),I(null),J([]),y&&y()};if(g&&!_)return e.jsx(Le,{});let me=[];se&&me.push({name:"Individual",icon:pe}),ie&&me.push({name:"Team",icon:Ve});let Rt=t=>{if(t){const j={UserRoleId:r=="Individual"?t.Candidate:t.Team,id:r=="Individual"?t.Candidate:t.Team,participantType:r=="Individual"?"1":"2"};a(j)}};return e.jsxs("div",{children:[e.jsx(o,{title:"Delete Participant",description:"Are you sure you want to delete this participant?",confirmButtonLabel:"Delete",confirmButtonClick:async t=>{await at(t),Re.success("Participant Deleted Successfully")},className:"w-96  print:hidden"}),e.jsx(qt,{isCoordinatorView:p,customComponents:E,userRoleJson:U,setComponents:$e,participantType:r,steps:H,gotoHome:St,isSubmitted:we,selectedTeam:f,tempUser:A,selectedUser:i,eventDetails:je,activeStep:k,isLoading:ae,onChange:ut,availableSteps:G,submittedSteps:F,allStepsComponents:w,data:{...ye},handleClick:jt,handleNext:ft,components:he,selectedComponent:V,setSelectedComponent:()=>{}},s),!g&&e.jsxs(e.Fragment,{children:[x=="participationDetails"&&e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6 mt-5",children:me.map((t,j)=>e.jsxs("button",{onClick:()=>{M(t.name),q({participantType:t.name=="Individual"?"1":"2"})},className:v(r===t.name?"text-sky-800 bg-sky-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",j===0?"rounded-l-lg":"",j===me.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none"),children:[e.jsx(t.icon,{className:v(r===t.name?"text-sky-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsxs("span",{className:v(t.hideOnMobile?"hidden sm:block":""),children:["As ",t.name]}),e.jsx("span",{"aria-hidden":"true",className:v(r===t.name?"bg-sky-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},t.name))}),e.jsx("div",{className:"flex mt-6 flex-col justify-center justify-items-center sm:flex-row sm:space-x-2",children:e.jsx(e.Fragment,{children:e.jsx(Vt,{allStepsComponents:w,allFields:mt,teams:Ae,onClickDelete:Rt,updateIndex:s,tempUser:A,selectedTeam:f,isIndividualRegistration:se,isTeamsRegistration:ie,handleChangeTeam:xe,participantType:r,addNewParticipant:()=>{S&&l?n("Registration"):(n("My Participation"),r=="Individual"?A?ce(A):pt():xe({}))},addNewTeamParticipant:ht,userRoles:be,users:re,participationDetails:_,selectedUser:i,setParticipantType:M,advancedSettings:Ie,handleChangeUser:t=>{se?q({participantType:"1"}):ie&&q({participantType:"2"}),ce(t)}})})})]}),x=="eventDetails"&&e.jsx(Et,{tempUser:A,isIndividualRegistration:se,isTeamsRegistration:ie,isTeamsAndIndividualRegistration:bt,isIndividualRegistrationClosed:vt,isIndividualRegistrationStartingSoon:Nt,isTeamsRegistrationClosed:yt,isTeamsRegistrationStartingSoon:wt,startNewRegistration:()=>{S&&l?n("Registration"):(n("My Participation"),r=="Individual"?ot():xe({}))},participationDetails:_,eventDetails:je,setParticipantType:t=>{M(t),q({participantType:t=="Individual"?"1":"2"})},participantType:r,allStepsComponents:w})]})]})}const hs=Object.freeze(Object.defineProperty({__proto__:null,RenderRegistrationForm:Kt},Symbol.toStringTag,{value:"Module"}));export{pe as F,Kt as R,Vt as a,Ve as b,hs as r};
