import{r as o,j as e,R as ze,L as De,_ as ke,g as Pt,p as X,f as Re}from"./main-CLPz_RRt.js";import{u as Le,i as Tt}from"./useBackend-Cthsey-y.js";import{u as At}from"./useConfirmation-BAsEuRLZ.js";import{p as Ce}from"./httpService-CKXQNiLs.js";import{c as v}from"./utilities-CN4lTu6a.js";import{E as Ut}from"./eventDetailedView-BZl9OtGk.js";import{F as Be,a as Oe,r as q,e as It,g as Fe,b as Et,c as Jt,d as Lt,u as zt,s as Dt}from"./publicRegistrationHelper-Cl2EaVcm.js";import{B as ue}from"./box-BHbeFmIl.js";import{F as pe}from"./ChevronRightIcon-EuEd-DTT.js";import{F as Me}from"./PencilIcon-CrOEPZqk.js";import{F as _e}from"./TrashIcon-CmYYgpf4.js";function kt({title:c,titleId:r,...u},j){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:j,"aria-labelledby":r},u),c?o.createElement("title",{id:r},c):null,o.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),o.createElement("path",{fillRule:"evenodd",d:"M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z",clipRule:"evenodd"}))}const Ge=o.forwardRef(kt);function Bt({title:c,titleId:r,...u},j){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:j,"aria-labelledby":r},u),c?o.createElement("title",{id:r},c):null,o.createElement("path",{d:"M1 8.25a1.25 1.25 0 1 1 2.5 0v7.5a1.25 1.25 0 1 1-2.5 0v-7.5ZM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0 1 14 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 0 1-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 0 1-1.341-.317l-2.734-1.366A3 3 0 0 0 6.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 0 1 2.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388Z"}))}const Ze=o.forwardRef(Bt);function Ot({title:c,titleId:r,...u},j){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:j,"aria-labelledby":r},u),c?o.createElement("title",{id:r},c):null,o.createElement("path",{d:"M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z"}))}const Ve=o.forwardRef(Ot);function Mt({title:c,titleId:r,...u},j){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:j,"aria-labelledby":r},u),c?o.createElement("title",{id:r},c):null,o.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))}const ge=o.forwardRef(Mt),_t=({participationDetails:c,users:r,userRoles:u,activeUser:j,onChange:x,allStepsComponents:b,onClickDelete:d})=>{let f=b?.User;b?.Participation;let y=b?.Payment;const U=N=>{x(N)};return e.jsx("div",{className:v("flex justify-center gap-2",j?"flex-col":"flex-row flex-wrap"),children:r?.map((N,p)=>{let S=u?.find(a=>a.User===N.UId),i=S?.JsonSettings?JSON.parse(S.JsonSettings):{};console.log(i);let s="Not Submitted",g=30,m=[];c&&(m=c.ParticipantsList?.filter(a=>a.Candidate==S?.UserRoleId),m?.length>0&&(g=60)),i?.FinishedSteps&&(g=100);let L=["DobString","Mobile"],n=["paymentMethod","paymentReferenceId","paymentScreenShot"],R=!1;return n?.find(a=>i[a]!=null)&&(R=!0),i?.FinishedSteps==!0&&(s="Submitted"),i.ApprovalStatus&&(s=i.ApprovalStatus),i?.FinishedSteps==!0&&i.ApprovalStatus=="Reviewed"&&(s="Submitted"),i.FinishedSteps==!0&&i.ApprovalStatus=="Submitted"&&(s="Submitted"),!i.FinishedSteps&&i.ApprovalStatus=="InProgress"&&(s="Not Submitted"),e.jsxs("div",{className:v("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",s=="Submitted"?"border-blue-500":s=="Approved"?"border-green-500":s=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("div",{className:"flex justify-center",children:N.ProfilePicture?e.jsx("div",{className:"bg-gray-200 flex rounded-xl p-2",children:e.jsx("img",{className:"mx-auto size-32 shrink-0 rounded-full",src:N.ProfilePicture,alt:""})}):e.jsx(e.Fragment,{})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:N.Name}),e.jsxs("dl",{className:"mt-1  flex-col justify-between",children:[e.jsx("dd",{className:"text-sm text-gray-500 overflow-hidden text-ellipsis",children:N.Email}),e.jsx("dd",{className:"mt-3",children:s=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):s=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):s=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):s=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:s})})]}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[g!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:v("progress-bar-fill h-1   rounded-md",g==100?"bg-green-500":g>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${g}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(ge,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"User Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:L.map((a,P)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:f?.find(C=>C.key?.toLowerCase()==a?.toLowerCase())?.label}),e.jsx("dd",{className:"font-medium text-gray-900",children:N[a]})]},P))})]})})]})]})}),m?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ze,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[c?.OrganizationLevels?.map((a,P)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:a.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:S[a.LevelName+"Name"]})]},P)),e.jsx("div",{className:"h-4 flex w-full"}),m.map((a,P)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(pe,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),c?.Competitions?.find(C=>C.CompetitionStructureId==a.Competition)?.Title]})},P))]})]})})]})]})}),i?.FinishedSteps!=null&&R&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Be,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:n.map((a,P)=>e.jsx(e.Fragment,{children:i[a]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:y?.find(C=>C.key?.toLowerCase()==a?.toLowerCase())?.label}),a=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:i[a],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:i[a]})]},P)}))})]})})]})})}),i?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Oe,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),i?.ReviewComments?.map((a,P)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(pe,{className:v("size-6 -mt-1",a.Status==="Reviewed"?"text-yellow-400":a.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:a.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:a.Comment})]})]})},P))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:s=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):s=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):s=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):s=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):s=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:s})}),e.jsx("div",{className:"flex flex-grow gap-2",children:i?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>U(N),children:[e.jsx(Ge,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>U(N),children:[e.jsx(Me,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>d({...N,...S}),children:[e.jsx(_e,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},p)})})};function Gt({teams:c,allStepsComponents:r,selectedTeam:u,advancedSettings:j,onClickDelete:x,participationDetails:b,handleChangeTeam:d,isIndividualRegistration:f,isTeamsRegistration:y,users:U,userRoles:N,selectedUser:p,handleChangeUser:S,participantType:i,setParticipantType:s,addNewParticipant:g,addNewTeamParticipant:m,tempUser:L}){let n=j?.DisableIndividualRegForm=="Yes";return j?.DisableTeamRegForm=="Yes",e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full",children:[i=="Individual"&&e.jsxs(e.Fragment,{children:[n&&f?e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Registration Closed!"}),e.jsx("span",{className:"block sm:inline",children:" Individual Registration is closed for this event."})]})}):f&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"w-full px-2 bg-yellow-900 max-w-60 text-white text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary mr-4",onClick:g,children:"Add New Individual Participant"})}),e.jsx(ue,{heading:"Participation Requests",outerClasses:"relative "+(p?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[f&&e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx(_t,{allStepsComponents:r,onClickDelete:x,users:U,activeUser:p,userRoles:N,onChange:S,setParticipantType:s,participationDetails:b})}),!U?.length&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(ge,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new participants to the list by click on the Add New Participant button."})]})})]})})]}),i=="Team"&&y&&e.jsx(Zt,{teams:c,tempUser:L,selectedTeam:u,participationDetails:b,handleChangeTeam:d,users:U,onClickDelete:x,userRoles:N,allStepsComponents:r,selectedUser:p,handleChangeUser:S,setParticipantType:s,addNewParticipant:m})]})})}function Zt({teams:c,handleChangeTeam:r,allStepsComponents:u,users:j,userRoles:x,selectedUser:b,participationDetails:d,onClickDelete:f,addNewParticipant:y,tempUser:U}){u?.Team,u?.Participation;let N=u?.Payment;return e.jsxs("div",{className:"max-w-full flex-1 overflow-hidden",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`w-full bg-green-900 max-w-60 text-white  text-xs font-medium py-2 mt-2 rounded-md hover:bg-primaryHover focus-visible:outline focus-visible:outline-2 \r
            px-2  mr-4\r
            focus-visible:outline-offset-2 focus-visible:outline-primary`,onClick:y,children:"Add New Team Participant"})}),e.jsx(ue,{heading:"Participation Requests",outerClasses:"relative "+(b?" sm:w-2/6 md:w-1/4":"w-full")+" overflow-hidden",headingClasses:"px-1  lg:px-1",childrenClasses:"px-1 lg:px-1 py-1  w-full flex",children:e.jsxs("div",{className:"flex flex-col max-w-full w-full",children:[e.jsx("div",{className:"max-w-full flex-1 flex-col flex mt-5",children:e.jsx("div",{className:v("flex justify-center gap-2","flex-row flex-wrap"),children:c?.map((p,S)=>{let i=p?.TeamJsonSettings?JSON.parse(p.TeamJsonSettings):{},s="Not Submitted",g=30,m=[];d&&(m=d.ParticipantsList?.filter(n=>n.Candidate==p?.Team),m?.length>0&&(g=60)),i?.FinishedSteps&&(g=100);let L=["paymentMethod","paymentReferenceId","paymentScreenShot"];return i?.FinishedSteps==!0&&(s="Submitted"),i.ApprovalStatus&&(s=i.ApprovalStatus),i?.FinishedSteps==!0&&i.ApprovalStatus=="Reviewed"&&(s="Submitted"),i.FinishedSteps==!0&&i.ApprovalStatus=="Submitted"&&(s="Submitted"),!i.FinishedSteps&&i.ApprovalStatus=="InProgress"&&(s="Not Submitted"),e.jsxs("div",{className:v("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",s=="Submitted"?"border-blue-500":s=="Approved"?"border-green-500":s=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:p.TeamTeamName}),e.jsx("dl",{className:"mt-1  flex-col justify-between",children:e.jsx("dd",{className:"mt-3",children:s=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):s=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):s=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):s=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:s})})}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[g!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:v("progress-bar-fill h-1   rounded-md",g==100?"bg-green-500":g>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${g}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ve,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Team Members"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:p?.TeamMembers?.map((n,R)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:n.UserName}),e.jsx("dd",{className:"font-medium text-gray-900",children:n.UserDobString})]},R))})]})})]})]})}),m?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Ze,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[d?.OrganizationLevels?.map((n,R)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:n.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:p[n.LevelName+"Name"]})]},R)),e.jsx("div",{className:"h-4 flex w-full"}),m.map((n,R)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(pe,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),d?.Competitions?.find(a=>a.CompetitionStructureId==n.Competition)?.Title]})},R))]})]})})]})]})}),i?.FinishedSteps!=null&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Be,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:L.map((n,R)=>e.jsx(e.Fragment,{children:i[n]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:N?.find(a=>a.key?.toLowerCase()==n?.toLowerCase())?.label}),n=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:i[n],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:i[n]})]},R)}))})]})})]})})}),i?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:v("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(Oe,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),i?.ReviewComments?.map((n,R)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(pe,{className:v("size-6 -mt-1",n.Status==="Reviewed"?"text-yellow-400":n.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:n.Status})}),e.jsx("blockquote",{className:"text-xs text-gray-500 border-l-4 border-gray-300 pl-2 mt-2 bg-slate-50",children:n.Comment})]})]})},R))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:s=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):s=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):s=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):s=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):s=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:s})}),e.jsx("div",{className:"flex flex-grow gap-2",children:i?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>r(p),children:[e.jsx(Ge,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>r(p),children:[e.jsx(Me,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>f({...p}),children:[e.jsx(_e,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},S)})})}),!c?.length&&e.jsx("div",{className:"flex flex-1 flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-200 rounded-full p-5",children:e.jsx(ge,{className:"size-10 text-gray-600"})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:"No Team Participants Found"}),e.jsx("p",{className:"mt-2 mb-2 text-xs text-gray-500",children:"Please add new team participants to the list by click on the Add New Team Participant button."})]})})," "]})})]})}function Vt({isSubmitted:c,availableSteps:r,submittedSteps:u,handleClick:j}){return e.jsx("nav",{"aria-label":"Progress",className:"mb-2 flex w-full",children:e.jsx("ol",{role:"list",className:"divide-y divide-gray-300 rounded-md border border-gray-300 flex md:divide-y-0  w-full flex-wrap",children:r?.map((x,b)=>e.jsxs("li",{className:"relative md:flex md:flex-1 ",children:[x.status==="active"?e.jsx("a",{href:x.href,"aria-current":"step",className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-primary",children:e.jsx("span",{className:"text-white text-xs",children:x.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-indigo-600",children:x.label??x.name})]})}):u?.find(d=>d.name==x.name)||c?e.jsx("a",{href:x.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:d=>j(b,d),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-gray-300 group-hover:bg-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:x.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-400 group-hover:text-gray-900",children:x.label??x.name})]})}):e.jsx("a",{href:x.href,className:"group max-w-40 flex items-center truncate text-ellipsis overflow-hidden whitespace-nowrap",onClick:d=>j(b,d),children:e.jsxs("span",{className:"flex items-center px-2 py-2 text-xs font-medium",children:[e.jsx("span",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full border-2 border-gray-300 group-hover:border-gray-400",children:e.jsx("span",{className:"text-gray-500 group-hover:text-gray-900",children:x.id})}),e.jsx("span",{className:"ml-1 mr-3 text-xs font-medium text-gray-500 group-hover:text-gray-900",children:x.label??x.name})]})}),b!==r.length-1?e.jsx(e.Fragment,{children:e.jsx("div",{"aria-hidden":"true",className:"absolute right-0 top-0 hidden h-full w-5 md:block",children:e.jsx("svg",{fill:"none",viewBox:"0 0 22 80",preserveAspectRatio:"none",className:"h-full w-full text-gray-300",children:e.jsx("path",{d:"M0 -2L20 40L0 82",stroke:"currentcolor",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"})})})}):null]},x.name))})})}const $t=ze.lazy(()=>ke(()=>import("./formSubmission-B7VcjCQ0.js"),[])),Ht=ze.lazy(()=>ke(()=>import("./modalForm-BoWUXHNC.js"),[]));function qt({steps:c,userRoleJson:r,isCoordinatorView:u,gotoHome:j,participantType:x,isSubmitted:b,selectedUser:d,selectedTeam:f,eventDetails:y,activeStep:U,isLoading:N,updateIndex:p,setComponents:S,availableSteps:i,submittedSteps:s,allStepsComponents:g,customComponents:m,data:L,onChange:n,handleClick:R,handleNext:a,components:P,tempUser:C,selectedComponent:G,setSelectedComponent:le}){if(console.log({data:L}),!i||i?.length==0)return e.jsx("div",{className:"text-center text-2xl text-gray-500",children:d||f?"Steps Loading/No Steps Found":""});let re=i.findIndex(F=>F.status==="active")+1===i.length,Z=i.findIndex(F=>F.name==="Guardian Registration")>-1;if(console.log("isGuardianRegistration",Z),d||f||Z){let F=e.jsxs("span",{className:"text-gray-500",children:[y?.EventName+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Participant Registration"})]});x==="Team"&&(F=e.jsxs("span",{className:"text-gray-500",children:[y?.EventName+""," ",e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-200 px-4 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20 ml-2",children:"New Team Registration"})]})),d&&d.Name&&(F=y?.EventName+" - "+d.Name),r?.FinishedSteps==!0&&(F=y?.EventName+" - "+d.Name+" - Submitted");let I="Registration Form",V="Please fill the form to register for the event";return d&&d.Name&&(I=d.Name+" - Registration Form",V="Please continue remaining steps to complete the registration"),f&&f.TeamName&&(I=f.TeamName+" - Registration Form",V="Please continue remaining steps to complete the registration"),b&&(I="View",V="Please view the details submitted in the registration form"),C&&(F=y?.EventName+" - First User Registration",I="Registration Form",V="Please fill the form to register for the event"),Z&&(F=y?.EventName+" - Account Registration",I="Account Registration Form",V="Please fill the form to register an account for adding participants"),e.jsx(Ht,{title:I,description:V,open:!0,customHeading:m||null,setOpen:()=>{j()},children:e.jsx(ue,{heading:F,outerClasses:"relative w-full",headingClasses:"px-1 lg:px-4  w-full",children:e.jsx("div",{className:"w-full mt-5 min-h-[800px]",id:"registrationBox",children:U?e.jsxs(e.Fragment,{children:[i?.length>1&&e.jsx(Vt,{isSubmitted:b,availableSteps:i,submittedSteps:s,handleClick:R}),N?e.jsx(De,{}):e.jsx(e.Fragment,{children:e.jsx($t,{isCoordinatorView:u,participantType:x,isGuardianRegistration:Z,handleNext:a,isSubmitted:b,eventDetails:y,isPlayGround:!1,onChange:n,data:L,isLastStep:re,existingComponents:P,selectedComponent:G,setSelectedComponent:le,components:P,setComponents:S},p)})]}):e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please select a step to proceed"})})})})}else if(C&&x==="individual")return e.jsx(ue,{heading:y+" - Event Registration",outerClasses:"relative w-3/4",headingClasses:"px-1 md:px-6  w-full",children:e.jsx("div",{className:"w-full mt-5",children:e.jsx("div",{className:"text-center text-2xl text-gray-500",children:"Please click on add button and proceed"})})})}function hs({view:c,setActiveTab:r,getEvets:u,isCoordinatorView:j,setParticipantTypeInt:x,getParticipants:b,participantTypeInt:d,candidateId:f,closeModel:y,customComponents:U,allowEdit:N}){let{user:p}=Pt()||{};if(!p||!p.Email)return e.jsx("div",{children:"Please log in to access this form."});let S=p?.RoleTitle==="Guardian",i=p?.Email?.indexOf("justnshalom")!=-1,[s,g]=o.useState(0),[m,L]=o.useState(null),[n,R]=o.useState({});const[a,P]=At();let[C,G]=o.useState(null),[le,re]=o.useState(!1);var Z={};let[F,I]=o.useState([]),[V,Kt]=o.useState(null),[he,$e]=o.useState([]),[Yt,He]=o.useState({}),[l,qe]=o.useState(d==1?"Individual":d==2?"Team":"");console.log({participantType:l}),console.log({participantTypeInt:d});let[K,ne]=o.useState([...q]),[Pe,Wt]=o.useState({}),ee=t=>{L(t)},Ke=t=>{He(t)},O=t=>{qe(t)};const{row:je,status:Ye}=Le(u||"/CandidateJson/GetEvents",{select:"AllowDisplayCompetitionOrder,Description,EVId,EndDateString,EventCategory,EventCategoryTitle,EventLogo,EventName,IdentityBackgroundImage,OrganizationLogo,OrganizationName,OrganizationShortName,StartDateString,Venue,JsonSettings",doCache:!0});let We=()=>{},Qe="finished",Xe=()=>{},et="finished",tt=()=>{},st="finished",{row:M,update:it,status:lt,setFilter:Y,delete:at}=Le(b||"/CandidateJson/GetParticipants",{deleteUrl:"/CandidateJson/RemoveUser",mandatoryParams:["participantType"],select:"participantList,userList,UserEmail,UserName,UserDobString,UserImage,UserMobile,UserPhone,Email,Group,Candidate,CandidateUser,JsonSettings,Gender,GroupName,Fees,TeamTeamName,Team,TeamStrength,TeamMembersList,TeamMembers,TeamStrength,CandidateIdentityNumber,TeamIdentityNumber,CompetitionOrder,CreatedBy,CreatedByUserName,ParticipationId,UserJsonSettings,TeamJsonSettings,Remarks,LevelSettings,RegistrationId",updateUrl:"/CandidateJson/UpdateParticipant",doCache:!0,filter:f?{Candidate:f,...d==1?{participantType:"1"}:d==2?{participantType:"2"}:{}}:{}});console.log({participationDetails:M});let Te=It(M,f,m?.UId,C?.Team);console.log({extracted:Te});let{userRoles:Ne,userRole:E,users:ae,userData:z,teams:Ae,teamData:J}=Te;m=m||z,C=C||J;let rt=t=>{try{return Ce("/CandidateJson/UpdateTeam",t)}catch{}},nt=t=>{try{return Ce("/CandidateJson/UpdateUser",t)}catch{}},dt=t=>{try{return Ce(f?"/UsersRolesJson/Save":"/CandidateJson/UpdateUserRoles",t)}catch{}},de=ae?.length?null:X(localStorage.user)?.user;if(S&&!i&&(de=null),l=="Team"){let t=X(localStorage.user)?.user;t&&(de=t?.Email?.indexOf("justnshalom")==-1?null:t)}let T=de?{UId:de?.UId}:null;T&&(z={UId:T?.UId});let ot=function(){if(T){let t=Fe(w,q,!0,"Individual",ae,T,"participationDetails"),h=Fe(w,q,!0,"Team",ae,T,"participationDetails");t.length>0&&t.find(k=>k.name=="User")?ce(T):h.length>0&&h.find(k=>k.name=="Team")&&xe({})}};le=Tt(Ye,Qe,et,st,lt)||le;let A=X(E?.JsonSettings),$=X(z?.JsonSettings),W=X(J?.TeamJsonSettings);const ve=je?.JsonSettings,oe=ve!=null&&ve!=""?X(ve):{components:{}},w=oe.components,Ue=oe?.AdditionalSettings,ct=Object.keys(w??{});let xt=X(n?.JsonSettings),be=ct?.includes("Agreement")&&w?.Agreement?.filter(t=>t?.validate?.required&&!A[t.name]&&!xt[t.name])?.length==0;be&&localStorage.setItem("isAgreementStepFilled","true"),localStorage.getItem("isAgreementStepFilled")=="true"&&(be=!0);let _=Fe(w,K,be,l,ae,T,c,j);console.log({availableSteps:_});let mt=Et(w),D=Jt(_);he=Lt(w,D);let ye=D?zt(D.name,{},Ke,g,D,E,A,z,$,l,J,M,w,m,C,W,!1,n):{};const ce=async t=>{z=t,K=q,E=Ne?.find(h=>h.User==t.UId),l="Individual",A=JSON.parse(E?.JsonSettings?E?.JsonSettings:"{}"),$=JSON.parse(z?.JsonSettings?z?.JsonSettings:"{}"),m=t,ee(t),O(l),G({}),F=[],I([]),ne(q),s=s+1,g(s)},xe=async t=>{J=t,W=JSON.parse(J?.TeamJsonSettings?J?.TeamJsonSettings:"{}"),K=q,E={},A={},$={},C=t,G(t),ee({}),l="Team",O(l),F=[],ne(q),I([]),s=s+1,g(s)},Ie=(t,h,k,Q,St,B,Je,Rt,Xt,es,ts,ss,is,ls,Ct)=>{if(h.preventDefault(),!Q)return;let Ft=Q[t];if(!(Rt?.FinishedSteps||Ct?.FinishedSteps||f)&&!k&&!(Q.findIndex(Se=>Se.status==="active")>t)&&!F.find(Se=>Se.name==Ft.name)){Re.error("Please complete the current step/click the next button for proceed to the next step.");return}const fe=Q?.map((H,ie)=>ie===t?{...H,status:"active"}:{...H,status:"inactive"});if(Q=fe,B=fe.find(H=>H.status==="active"),w[B.name]){let H=w[B.name];H.forEach(ie=>{ie.name=ie.name.charAt(0).toLowerCase()+ie.name.slice(1)}),Z[B.name]=[...H]}else Z[B.name]=[];window.scrollTo({top:0,behavior:"smooth"}),K=fe,ne(fe)},ft=async(t,h,k)=>{re(!0),Pe={...Pe,...t};let Q=_.findIndex(B=>B.status==="active")+1;if(k||Q>=_.length&&(l=="Individual"?A.FinishedSteps=!0:t.FinishedSteps=!0),await Dt(t,n,D,E,Ne,A,z,$,l,J,M,he,dt,nt,rt,Y,it,m,Xe,ee,C,G,We,tt,R,W,Ae,Ue,k)){I([...F,D]),h();let B=_.findIndex(Je=>Je.status==="active")+1;B<_.length&&!k?Ie(B,{preventDefault:()=>{}},!0,_,ye,D,E,A,z,$,l,J,M,m,W):(ee(null),E={},$={},A={},J={},G(null),y&&y())}else Re.error("Failed to save data");re(!1),g(s+1),r("My Participation")},ut=(t,h)=>{Z[D.name]=t};let pt=()=>{R({}),ee({}),K=q,ne(K),E={},$={},A={},J={},W={},G({})},Ee=async t=>{pt(),s=s+1,g(s)};const gt=async()=>{if(T){ce(T);return}l="Individual",O(l),Ee()},ht=async()=>{S&&i?r("Registration"):(l="Team",O(l),Ee())},jt=(t,h)=>{Ie(t,h,!1,_,ye,D,E,A,z,$,l,J,M,m,W)};let we=l=="Individual"&&A?.FinishedSteps||l=="Team"&&W?.FinishedSteps;f&&(we=!0),N&&f&&(we=!1);let Nt=w?.User&&w?.Team,te=w?.User&&w?.User?.length>0,se=w?.Team&&w?.Team?.length>0,vt=oe?.AdditionalSettings?.DisableIndividualRegForm=="Yes",bt=oe?.AdditionalSettings?.DisableTeamRegForm=="Yes";o.useEffect(()=>{console.log({participantType:l}),te&&!l?(O("Individual"),Y({participantType:"1"})):se&&!l&&(O("Team"),Y({participantType:"2"}))},[l,te,se]);let yt=()=>{ee(null),G(null),I([]),y&&y()};if(f&&!M)return e.jsx(De,{});let me=[];te&&me.push({name:"Individual",icon:ge}),se&&me.push({name:"Team",icon:Ve});let wt=t=>{if(t){const h={UserRoleId:l=="Individual"?t.Candidate:t.Team,id:l=="Individual"?t.Candidate:t.Team,participantType:l=="Individual"?"1":"2"};P(h)}};return e.jsxs("div",{children:[e.jsx(a,{title:"Delete Participant",description:"Are you sure you want to delete this participant?",confirmButtonLabel:"Delete",confirmButtonClick:async t=>{await at(t),Re.success("Participant Deleted Successfully")},className:"w-96  print:hidden"}),e.jsx(qt,{isCoordinatorView:j,customComponents:U,userRoleJson:A,setComponents:$e,participantType:l,steps:K,gotoHome:yt,isSubmitted:we,selectedTeam:C,tempUser:T,selectedUser:m,eventDetails:je,activeStep:D,isLoading:le,onChange:ut,availableSteps:_,submittedSteps:F,allStepsComponents:w,data:{...ye},handleClick:jt,handleNext:ft,components:he,selectedComponent:V,setSelectedComponent:()=>{}},s),!f&&e.jsxs(e.Fragment,{children:[c=="participationDetails"&&e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Tabs",className:"isolate flex divide-x divide-gray-200 rounded-t-lg mb-6 mt-5",children:me.map((t,h)=>e.jsxs("button",{onClick:()=>{O(t.name),Y({participantType:t.name=="Individual"?"1":"2"})},className:v(l===t.name?"text-sky-800 bg-sky-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 bg-slate-50",h===0?"rounded-l-lg":"",h===me.length-1?"rounded-r-lg":"","group relative justify-center flex-grow min-w-0 flex items-center px-4 py-3 text-center text-sm font-medium focus:outline-none"),children:[e.jsx(t.icon,{className:v(l===t.name?"text-sky-800":"text-gray-400 group-hover:text-gray-500","h-6 mr-2"),"aria-hidden":"true"}),e.jsxs("span",{className:v(t.hideOnMobile?"hidden sm:block":""),children:["As ",t.name]}),e.jsx("span",{"aria-hidden":"true",className:v(l===t.name?"bg-sky-800":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},t.name))}),e.jsx("div",{className:"flex mt-6 flex-col justify-center justify-items-center sm:flex-row sm:space-x-2",children:e.jsx(e.Fragment,{children:e.jsx(Gt,{allStepsComponents:w,allFields:mt,teams:Ae,onClickDelete:wt,updateIndex:s,tempUser:T,selectedTeam:C,isIndividualRegistration:te,isTeamsRegistration:se,handleChangeTeam:xe,participantType:l,addNewParticipant:()=>{S&&i?r("Registration"):(r("My Participation"),l=="Individual"?T?ce(T):gt():xe({}))},addNewTeamParticipant:ht,userRoles:Ne,users:ae,participationDetails:M,selectedUser:m,setParticipantType:O,advancedSettings:Ue,handleChangeUser:t=>{te?Y({participantType:"1"}):se&&Y({participantType:"2"}),ce(t)}})})})]}),c=="eventDetails"&&e.jsx(Ut,{tempUser:T,isIndividualRegistration:te,isTeamsRegistration:se,isTeamsAndIndividualRegistration:Nt,isIndividualRegistrationClosed:vt,isTeamsRegistrationClosed:bt,startNewRegistration:()=>{S&&i?r("Registration"):(r("My Participation"),l=="Individual"?ot():xe({}))},participationDetails:M,eventDetails:je,setParticipantType:t=>{O(t),Y({participantType:t=="Individual"?"1":"2"})},participantType:l,allStepsComponents:w})]})]})}export{hs as R};
