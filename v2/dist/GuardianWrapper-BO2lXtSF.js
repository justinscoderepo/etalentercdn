import{r as s,_ as a,j as e,u as v,L as _}from"./main-pxHJVgAj.js";import{w as c}from"./layoutUtils-WrWhfNo8.js";import{g as o,c as y,R as E}from"./index-DnBI3Rer.js";import{w as g}from"./wrapRoutesWithPropsCapture-TYRt2gop.js";s.lazy(()=>a(()=>import("./Index-BGbzncan.js"),[]));const R=s.lazy(()=>a(()=>import("./publicRegistrationOuter-kBuPHc5P.js"),[])),p=s.lazy(()=>a(()=>import("./publicEventView-nuYt60qA.js"),[])),P=s.lazy(()=>a(()=>import("./index-CNbt28DJ.js"),[])),w=(n,t={})=>[...o("/Home/Index",c("Home Dashboard")),...o("/Home/CandidateParticipation",e.jsx(R,{...t})),...o("/Public/EventRegistration/:eventName",e.jsx(R,{...t})),...o("/Public/RenderViewEvent",e.jsx(p,{...t})),...o("/Public/ViewEvent/:eventName",e.jsx(p,{...t})),...o("/Profile/ProfileSettings",c("Profile Settings")),...o("/MyRoles/Index",c("My Roles")),...o("/about",e.jsx("div",{children:"About"})),...o("*",e.jsx(P,{}))],N=s.lazy(()=>a(()=>import("./index-kznpf2RY.js"),[])),I=(n,t)=>({user:i,...A})=>{const d=v(),[m,x]=s.useState(null),u=s.useMemo(()=>({UId:i?.UId,Role:i?.Role}),[i?.UId,i?.Role]),h=s.useMemo(()=>{try{if(x(null),typeof n!="function")throw new Error(`getRoutes is not a function: ${typeof n}`);const r=n(i,d);if(!r||!Array.isArray(r))throw console.error(`${t} - getRoutes returned invalid data:`,r),new Error(`Invalid routes returned from ${t}: ${typeof r}`);r.length===0&&(console.warn(`${t} - No routes returned for user role:`,u?.Role),r.push({path:"*",element:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-4",children:"No Routes Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No routes defined for your role"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Role: ",u?.Role]})]})})}));const f=r.find(l=>!l.path||!l.element);if(f)throw console.error(`${t} - Invalid route structure:`,f),new Error("Route missing path or element property");const j=g(r).map(l=>({...l,errorElement:l.errorElement||e.jsx(N,{})})),b=y(j,{future:{v7_normalizeFormMethod:!0,v7_startTransition:!0}});if(!b)throw new Error("createBrowserRouter returned null/undefined");return b}catch(r){return console.error(`${t} - Error creating router:`,r),x(r.message),null}},[u,d,n,t]);return m?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Router Initialization Error"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:[t," failed to initialize"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Reload Application"})]})}):h?e.jsx(s.Suspense,{fallback:e.jsx(_,{from:`${t}-Router`}),children:e.jsx(E,{router:h})}):(console.error(`${t} - Router is null/undefined, cannot render RouterProvider`),e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Router Not Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Router instance is null or undefined"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Wrapper: ",t]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Reload Application"})]})}))},W=I(w,"GuardianWrapper");export{W as default};
