import{r as e,b as V,m as N,e as M,z as F,j as a,k as s,L as S,_ as o}from"./main-BCzkGS41.js";function U({title:i,titleId:c,...l},r){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":c},l),i?e.createElement("title",{id:c},i):null,e.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm5.845 17.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V12a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z",clipRule:"evenodd"}),e.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const H=e.forwardRef(U),Z=s.lazy(()=>o(()=>import("./excelImportComponent-QLA5HJ8q.js"),[]));s.lazy(()=>o(()=>import("./organizationLevelManager-DKVH8KyR.js"),[]));s.lazy(()=>o(()=>import("./participantFilterTab-1Syp7LFc.js"),[]));s.lazy(()=>o(()=>import("./participantFilters-CBM37eSP.js"),[]));const B=s.lazy(()=>o(()=>import("./eventSelectionPanel-BazZA6dn.js"),[])),J=({user:i})=>{const[c,l]=e.useState(Date.now),[r,v]=e.useState(""),[P,g]=e.useState(""),[h,x]=e.useState([]),[j,q]=e.useState(1e5),[D,n]=e.useState(1),[k,b]=e.useState(null);let{user:w}=V()||{};const E=i||w,{topLevels:d,participantTypes:u,eventCacheLoaded:m}=N();M();const[y,p]=e.useState([]),f=e.useCallback(t=>{x(t),t.length===1?g(t[0]):g(""),n(1)},[x,g,n]),C=e.useCallback(t=>{v(t),n(1)},[v,n]),T=e.useCallback(()=>{l(Date.now())},[l]),_=e.useCallback(t=>{console.log("Edit participant:",t)},[]),z=e.useCallback(t=>{l(Date.now())},[l]),I=e.useCallback(t=>{console.log("Manage team:",t)},[]),O=e.useCallback(t=>{n(t)},[n]);e.useCallback(t=>{p(t),n(1)},[p,n]);const L=e.useCallback(()=>{p([]),n(1)},[p,n]),R=e.useCallback(t=>{b(t),F.success("Event data loaded. Paste into the import area below.")},[]),A=e.useCallback(()=>{b(null)},[]);return e.useEffect(()=>{if(m&&d&&d.length>0&&h.length===0){const t=d[0].EventLevelOrganizationId;f([t])}},[m,d,h.length,f]),e.useEffect(()=>{m&&u&&u.length>0&&!r&&C(u[0].Code)},[m,u,r,C]),a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsx("div",{className:"bg-surfaceCard border-b border-border px-6 py-4 shrink-0",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{className:"h-6 w-6 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-primary",children:"Event Submission - Import Results from Events"}),a.jsx("p",{className:"text-sm text-onSurfaceVariant",children:"Submit existing event results to the current event"})]})]})}),a.jsx("div",{className:"bg-surfaceCard border-b border-border px-6 py-4 shrink-0",children:a.jsx(s.Suspense,{fallback:a.jsx(S,{info:"Loading event selection..."}),children:a.jsx(B,{onEventDataImported:R,currentUser:E})})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("div",{className:"bg-gray-50 relative",children:a.jsx(s.Suspense,{fallback:a.jsx(S,{info:"Loading event submission import..."}),children:a.jsx(Z,{onEdit:_,onView:_,onDelete:z,onTeamManage:I,selectedParticipantType:r,selectedOrganization:P,pageSize:j,currentPage:D,filterCriterias:y,currentUser:E,onAssignmentChange:T,onPageChange:O,selectedOrganizations:h,onClearFilters:L,eventDataToImport:k,onEventDataProcessed:A},c)})})})]})};export{J as default};
