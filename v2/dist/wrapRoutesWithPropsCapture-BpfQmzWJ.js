import{r as a,j as i,R as p}from"./main-CNwsE70q.js";function l(e){if(e.__propsCapture_wrapped)return e;function o(s){const t=typeof window<"u"&&localStorage.getItem("testmode")==="true",r=a.useRef(!1);return a.useEffect(()=>{t&&!r.current&&(r.current=!0,u(e,s))},[t,s]),i.jsx(e,{...s})}return o.__propsCapture_wrapped=!0,o.displayName=`WithPropsCapture(${e.displayName||e.name||"Component"})`,o}async function u(e,o){const s=e.displayName||e.name||"AnonymousComponent",t=n(o);console.log("Capturing props for",s,t);try{(await fetch("http://localhost:4000/save-props",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentName:s,props:t,timestamp:new Date().toISOString()})})).ok&&console.log(`‚úÖ Captured props for ${s}`)}catch(r){console.warn(`‚ö†Ô∏è Props capture service not running for ${s}`,r.message)}}function n(e){const o={};for(const[s,t]of Object.entries(e))t==null?o[s]=t:typeof t=="function"?o[s]=`[Function: ${t.name||"anonymous"}]`:typeof t=="object"&&t.$$typeof?o[s]="[ReactElement]":Array.isArray(t)?o[s]=t.map(r=>typeof r=="object"&&r!==null?n(r):r):typeof t=="object"?o[s]=n(t):o[s]=t;return o}const c={enable:()=>{localStorage.setItem("testmode","true"),console.log("‚úÖ Test mode enabled."),console.log("üîÑ Initializing DevTools hook..."),typeof window<"u"&&window.DevToolsPropsCapture?(window.DevToolsPropsCapture.init(),console.log("‚úÖ DevTools hook initialized. Props will be captured automatically.")):console.log("‚ö†Ô∏è DevTools hook not available yet. Refresh the page to activate.")},disable:()=>{localStorage.removeItem("testmode"),console.log("‚ùå Test mode disabled."),console.log("‚ÑπÔ∏è Props capture stopped. Refresh page to fully disable.")},status:()=>{const e=localStorage.getItem("testmode")==="true";if(console.log(`Test mode is ${e?"ENABLED ‚úÖ":"DISABLED ‚ùå"}`),typeof window<"u"&&window.DevToolsPropsCapture){const o=window.DevToolsPropsCapture.stats();console.log(`DevTools hook available: ${o.hookAvailable?"‚úÖ":"‚ùå"}`),console.log(`Components captured: ${o.totalCaptured}`)}return e},clearCache:()=>{typeof window<"u"&&window.DevToolsPropsCapture?window.DevToolsPropsCapture.clearCache():console.log("‚ö†Ô∏è DevTools hook not available")},stats:()=>typeof window<"u"&&window.DevToolsPropsCapture?window.DevToolsPropsCapture.stats():null};typeof window<"u"&&(window.TestModeControl=c);const d=()=>typeof window>"u"?!1:localStorage.getItem("testmode")==="true"&&window.location.hostname==="localhost",y=e=>d()?e.map(o=>({...o,element:f(o.element)})):e,f=e=>{if(!e)return e;if(e.type&&typeof e.type=="function"){const o=l(e.type);return p.createElement(o,e.props)}return typeof e=="function"?l(e):e};export{y as w};
