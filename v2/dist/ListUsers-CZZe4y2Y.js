import{j as e,h as a}from"./main-DfzvjSql.js";import{F as R}from"./renderUsersList-DlGYLSjT.js";import{F as C,a as z}from"./HandThumbUpIcon-DVbVRaZ_.js";import{F as h}from"./ChevronRightIcon-DnWbv_Xc.js";import{F as A,h as P}from"./publicRegistrationHelper-D5o6f_oJ.js";import{F as L}from"./PencilIcon-DTQzfmit.js";import{F as I}from"./TrashIcon-DPE0D76Z.js";import"./useConfirmation-CTm92UOZ.js";import"./dialog-BoGUnqJQ.js";import"./keyboard-CVvNqdST.js";import"./dom-CW5fUG2t.js";import"./use-is-mounted-asND-3BM.js";import"./hidden-lte7PHdy.js";import"./open-closed-BxrDP43t.js";import"./description-BhjL--5B.js";import"./navigationUtils-BgrXVI_s.js";import"./CheckIcon-Ci-K1sEp.js";import"./TrashIcon-U7_rKaeZ.js";import"./box-DrPeVLQs.js";const _=({participationDetails:c,users:j,userRoles:g,activeUser:b,onChange:N,allStepsComponents:m,onClickDelete:y})=>{let v=m?.User;m?.Participation;let w=m?.Payment;const f=r=>{N(r)};return e.jsx("div",{className:a("flex justify-center gap-2",b?"flex-col":"flex-row flex-wrap"),children:j?.map((r,S)=>{let d=g?.find(t=>t.User===r.UId),l=d?.JsonSettings?JSON.parse(d.JsonSettings):{},s="Not Submitted",n=30,o=[];c&&(o=c.ParticipantsList?.filter(t=>t.Candidate==d?.UserRoleId),o?.length>0&&(n=60)),l?.FinishedSteps&&(n=100);let F=["DobString","Mobile"],p=["paymentMethod","paymentReferenceId","paymentScreenShot"],u=!1;return p?.find(t=>l[t]!=null)&&(u=!0),l?.FinishedSteps==!0&&(s="Submitted"),l.ApprovalStatus&&(s=l.ApprovalStatus),l?.FinishedSteps==!0&&l.ApprovalStatus=="Reviewed"&&(s="Submitted"),l.FinishedSteps==!0&&l.ApprovalStatus=="Submitted"&&(s="Submitted"),!l.FinishedSteps&&l.ApprovalStatus=="InProgress"&&(s="Not Submitted"),e.jsxs("div",{className:a("groupellipsis flex-1 min-w-72 max-w-80 justify-start col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border-t-2 shadow-md mb-3 ",s=="Submitted"?"border-blue-500":s=="Approved"?"border-green-500":s=="Rejected"?"border-red-500":"border-orange-500"),children:[e.jsxs("div",{className:"flex flex-1 flex-col p-4 py-6 ",children:[e.jsx("div",{className:"flex justify-center",children:r.ProfilePicture?e.jsx("div",{className:"bg-gray-200 flex rounded-xl p-2",children:e.jsx("img",{className:"mx-auto size-32 shrink-0 rounded-full",src:r.ProfilePicture,alt:""})}):e.jsx(e.Fragment,{})}),e.jsx("h3",{className:"mt-6 text-sm font-medium text-gray-900",children:r.Name}),e.jsxs("dl",{className:"mt-1  flex-col justify-between",children:[e.jsx("dd",{className:"text-sm text-onSurfaceVariant overflow-hidden text-ellipsis",children:r.Email}),e.jsx("dd",{className:"mt-3",children:s=="Approved"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-[10px] font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Approved"}):s=="Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-[10px] font-medium text-blue-700 ring-1 ring-inset ring-green-600/20",children:"Waiting for Approval"}):s=="Not Submitted"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:"Actively working on it/Pending Final Submission"}):s=="Rejected"?e.jsx("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-[10px] font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:"Rejected"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-50 px-2 py-1 text-[10px] font-medium text-orange-900 ring-1 ring-inset ring-gray-600/20",children:s})})]}),e.jsxs("div",{className:"flex w-full flex-col mt-5",children:[n!=100&&e.jsx("div",{className:"progress-bar flex flex-1 bg-gray-200 rounded-md",children:e.jsx("div",{className:a("progress-bar-fill h-1   rounded-md",n==100?"bg-green-500":n>=60?"bg-blue-500":"bg-orange-500"),style:{width:`${n}%`}})}),e.jsxs("ul",{role:"list",className:"mt-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:a("flex size-8 items-center justify-center rounded-full ring-8 ring-white"),children:e.jsx(R,{"aria-hidden":"true",className:"size-6 text-gray-600"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-gray-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"User Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:F.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between py-1 flex-1",children:[e.jsx("dt",{className:"text-gray-600",children:v?.find(x=>x.key?.toLowerCase()==t?.toLowerCase())?.label}),e.jsx("dd",{className:"font-medium text-gray-900",children:r[t]})]},i))})]})})]})]})}),o?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:a("flex size-8 items-center bg-blue-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(C,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-blue-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Participation Information"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[c?.OrganizationLevels?.map((t,i)=>e.jsxs("div",{className:"flex items-start justify-between  py-1 flex-1 flex-row flex-wrap",children:[e.jsx("dt",{className:"text-gray-600",children:t.LevelName}),e.jsx("dd",{className:"font-medium text-gray-900 text-right",children:d[t.LevelName+"Name"]})]},i)),e.jsx("div",{className:"h-4 flex w-full"}),o.map((t,i)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(h,{className:"size-4 text-amber-700",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),c?.Competitions?.find(x=>x.CompetitionStructureId==t.Competition)?.Title]})},i))]})]})})]})]})}),l?.FinishedSteps!=null&&u&&e.jsx("li",{children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:a("flex size-8 items-center bg-green-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(A,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-green-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs mt-5 py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Payment Information"}),e.jsx("dl",{className:"flex flex-col text-xs py-2",children:p.map((t,i)=>e.jsx(e.Fragment,{children:l[t]&&e.jsxs("div",{className:"flex flex-row flex-wrap items-start justify-between py-1 flex-1 ",children:[e.jsx("dt",{className:"text-gray-600",children:w?.find(x=>x.key?.toLowerCase()==t?.toLowerCase())?.label}),t=="paymentScreenShot"?e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:e.jsx("img",{src:l[t],className:"max-h-32"})}):e.jsx("dd",{className:"font-medium text-right  text-gray-900",children:l[t]})]},i)}))})]})})]})})}),l?.ReviewComments?.length>0&&e.jsx("li",{children:e.jsxs("div",{className:"relative pb-4 overflow-hidden",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"}),e.jsxs("div",{className:"relative flex space-x-1",children:[e.jsx("div",{children:e.jsx("span",{className:a("flex size-8 items-center bg-yellow-500 justify-center rounded-full ring-8 ring-white"),children:e.jsx(P,{"aria-hidden":"true",className:"size-5  text-white"})})}),e.jsx("div",{className:"flex flex-col min-w-0 flex-1 justify-between border-t-2 border-yellow-600",children:e.jsxs("div",{className:"rounded-lg bg-gray-50 px-3 text-xs py-2",children:[e.jsx("h1",{className:"font-semibold",children:"Recent Comments from Admin"}),e.jsxs("dl",{className:"flex flex-col text-xs py-2",children:[e.jsx("div",{className:"h-4 flex w-full"}),l?.ReviewComments?.map((t,i)=>e.jsx("div",{className:"flex justify-between py-1 flex-1",children:e.jsxs("dt",{className:"text-gray-600 flex text-left",children:[e.jsx(h,{className:a("size-6 -mt-1",t.Status==="Reviewed"?"text-yellow-400":t.Status==="Approved"?"text-green-400":"text-red-400"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-gray-900",children:t.Status})}),e.jsx("blockquote",{className:"text-xs text-onSurfaceVariant border-l-4 border-border pl-2 mt-2 bg-surface",children:t.Comment})]})]})},i))]})]})})]})]})})]})]})]}),e.jsxs("div",{className:"-mt-px flex",children:[e.jsx("div",{className:"flex flex-grow",children:s=="Reviewed"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-amber-400 px-2 py-1 text-xs font-medium text-amber-900",children:"Reviewed"}):s=="Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:"Submitted"}):s=="Approved"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Approved"}):s=="Not Submitted"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:"Not Submitted"}):s=="Rejected"?e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Rejected"}):e.jsx("span",{className:"flex text-center justify-center flex-1 items-center  bg-orange-100 px-2 py-1 text-xs font-medium text-orange-700",children:s})}),e.jsx("div",{className:"flex flex-grow gap-2",children:l?.FinishedSteps==!0?e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>f(r),children:[e.jsx(z,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"View"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold text-blue-700",onClick:()=>f(r),children:[e.jsx(L,{className:"size-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Edit"]}),e.jsxs("button",{className:"relative inline-flex flex-1 items-center justify-center gap-x-3 rounded-br-lg border border-transparent py-2 text-sm font-semibold mr-2 text-red-800",onClick:()=>y({...r,...d}),children:[e.jsx(I,{className:"size-4 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"}),"Delete"]})]})})]})]},S)})})};export{_ as ListUsers};
