import{r as f,j as e,L as E,R as I,_ as J}from"./main-YrYtAxAS.js";import{u as R}from"./index.esm-DVlZbYZq.js";import{h as v}from"./publicRegistrationHelper-CbleroUO.js";import O from"./modalForm-zfaxSLvK.js";import"./httpService-BnCZZ1ib.js";import"./index-t--hEgTQ.js";import"./PencilIcon-xySaQe4M.js";import"./dialog-6czDD5nq.js";import"./keyboard-CgxxvsgT.js";import"./description-A1IzPzL9.js";import"./open-closed-B3KfeHOY.js";import"./XMarkIcon-D9woo2w9.js";const U=I.lazy(()=>J(()=>import("./renderComponents-AzbdJpeB.js"),[]));function se({groupId:V,eventDetails:g,open1:C,setOpen1:h,ageWiseGroup:z,setAgeFilter:T,candidateId:b,selectedParticipantDetails:m,saveParticipantDetails:N,levels:x}){console.log({levels:x});const{control:F,register:M,handleSubmit:P,clearErrors:y,reset:S,getValues:c,setValue:j,formState:{errors:_}}=R({pricingModel:null});let i=c(),[D,A]=f.useState({...i});const[L,G]=f.useState(!1);let[H,K]=f.useState(null);const u=g?.JsonSettings;m?.user?.JsonSettings;const a=u!=null&&u!==""?JSON.parse(u):{components:[]},l=Array.isArray(a.components)?a.components:a.components?.["Team Member Profile"]??[];let k=async t=>{let r=["name","email","phone","mobile","dobString","profilePicture","uId"],d=v(t,l,r),s=v(t,l,[],r),n={...d};n.LevelSettings=x,n.JsonSettings=JSON.stringify({...s}),N(n)},o=c();o?.name&&o?.email&&o?.mobile&&o?.phoneNumber&&o?.dob&&o?.group&&o?.ProfilePicture&&b>0,a?.AdditionalSettings?.IsPhotoMandatoryForCandidate=="Yes";let p=[...l];return i&&l?.length>0&&(p=p.filter(t=>{let r=t.conditions?.filter(d=>d.key);return r?.length>0?!!r.find(s=>{if(s.key){let n=s.key.charAt(0).toLowerCase()+s.key.slice(1),w=i[s.key]||i[n];if(w&&w?.toString()==s.value)return!0}}):!0})),e.jsx(O,{zIndex:999999,setOpen:()=>{y(),S(),h(!1)},open:C,title:b?"Update Participant - "+(m?.user?.UserName?m.user.UserName:""):"Create New Participant",children:e.jsx(e.Fragment,{children:e.jsx(e.Fragment,{children:e.jsx("div",{children:L?e.jsx(E,{}):e.jsxs("div",{className:"mt-4 px-4 md:px-0",children:[e.jsx(U,{eventDetails:g,components:p,register:M,errors:_,control:F,setValue:j,getValues:c,formData:i,onChangeValue:(t,r)=>{j(t,r),A({...i,[t]:r})},isSubmitted:!1,isOver:!1,handleSelect:t=>{}}),e.jsxs("div",{className:"px-1 py-3 text-right sm:px-2",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),y(),S()},className:"inline-flex justify-center rounded-md border border-warning text-warning bg-white py-2 hover:bg-warning hover:text-primaryHover focus:ring-orange-600 disabled:bg-lightcharcoal disabled:text-charcoal disabled:border-lightcharcoal px-5 text-sm font-semibold  shadow-sm  focus:outline-none focus:ring-2 focus:ring-offset-2  disabled:shadow-none mr-2 mb-2",children:"Close"}),e.jsx("button",{type:"button",onClick:t=>{P(k)(t)},className:"inline-flex justify-center rounded-md border border-primary text-white bg-primary py-2 hover:bg-primary hover:text-white focus:ring-blue-700 disabled:bg-lightcharcoal disabled:text-charcoal disabled:border-lightcharcoal px-5 text-sm font-semibold  shadow-sm  focus:outline-none focus:ring-2 focus:ring-offset-2  disabled:shadow-none  mr-2 mb-2",children:"Save"})]})]})})})})})}export{se as default};
